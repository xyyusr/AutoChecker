开始

========================================== Rule SignatureDeclareThrowsExceptionRule ===========================================
一共 22 个测试用例
正例 15 个
反例 7 个
92
78
107
91
15
13
97
91
40
37
10
8
90
76
9
7
157
137
96
79
85
71
97
81
23
19
19
14
85
71
12
9
12
10
30
28
12
10
12
10
96
80
11
9
11
8
38
34
144
127
27
17
9
7
=========================logics=========================
1. Get the name of the class.
2. Check whether the class is public.
3. Get all methods declared in the class.
4. For each method, check whether it has declared throw exceptions.
5. For each throw exception, check whether the exception type is `java.lang.Exception`.
If a method explicitly throws `java.lang.Exception`, then this test case violates the rule. 

In this test case:
- The class `Foo` is public.
- The method `foo` is declared to throw `Exception`.
- The exception type is `java.lang.Exception`.

Thus, this test case violates the rule. The number of violations is 1.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class is public.* 匹配到的元操作或API：
logic: Check whether the class is public.
most similar meta operation: Check whether the class is public
cosine Similarity: 0.9849746227264404
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.837310254573822
*For each method, check whether it has declared throw exceptions.* 匹配到的元操作或API：
query: For each method, check whether it has declared throw exceptions.
most similar API: get throws list of method: Returns the {@code throws} clause of this declaration, or null if there is none.
cosine Similarity: 0.801215648651123
*For each throw exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each throw exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8782430291175842
=========================logics=========================
1. Get all methods declared in class.
2. For each method, get the throw exceptions in method signature.
3. Check whether the method signature throws java.lang.Exception.
If a method/constructor explicitly throws java.lang.Exception, then this test case violate the rule. In this test case, the method foo() does not throw any exceptions, so it does not violate the rule.
*Get all methods declared in class.* 匹配到的元操作或API：
query: Get all methods declared in class.
most similar API: get declared annotations of method
cosine Similarity: 0.8366352915763855
*For each method, get the throw exceptions in method signature.* 匹配到的元操作或API：
logic: For each method, get the throw exceptions in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.8928095102310181
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
125
108
=========================logics=========================
1. Get the name of the constructor.
2. Check whether the constructor has declared throw exceptions.
3. Get a throw exception in the constructor signature.
4. Check whether the exception type is java.lang.Exception.
If the constructor explicitly throws java.lang.Exception, then this test case violates the rule.
*Get the name of the constructor.* 匹配到的元操作或API：
logic: Get the name of the constructor.
most similar meta operation: Get the name of constructor
cosine Similarity: 0.9695647358894348
*Check whether the constructor has declared throw exceptions.* 匹配到的元操作或API：
query: Check whether the constructor has declared throw exceptions.
most similar API: get throws list of constructor: Returns the {@code throws} clause of this declaration, or null if there is none.
cosine Similarity: 0.8130849003791809
*Get a throw exception in the constructor signature.* 匹配到的元操作或API：
logic: Get a throw exception in the constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9648942947387695
*Check whether the exception type is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the exception type is java.lang.Exception.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8529906272888184
84
70
=========================logics=========================
1. Get the name of the class.
2. Check whether the class has a constructor.
3. Get the signature of the constructor.
4. Check whether the constructor signature throws any exceptions.
5. Get the exception types thrown by the constructor.
6. Check whether any of the thrown exception types is `java.lang.Exception`.

If the constructor throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it adheres to the rule. In this case, the constructor throws `IOException`, which is not `java.lang.Exception`, so the test case is valid and does not violate the rule.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has a constructor.* 匹配到的元操作或API：
query: Check whether the class has a constructor.
most similar API: Check whether the constructor is annotation present
cosine Similarity: 0.8606792092323303
*Get the signature of the constructor.* 匹配到的元操作或API：
logic: Get the signature of the constructor.
most similar meta operation: Get the signature of constructor
cosine Similarity: 0.9732561707496643
*Check whether the constructor signature throws any exceptions.* 匹配到的元操作或API：
logic: Check whether the constructor signature throws any exceptions.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.9193394184112549
*Get the exception types thrown by the constructor.* 匹配到的元操作或API：
logic: Get the exception types thrown by the constructor.
most similar meta operation: Get the type of exception thrown in throw statement
cosine Similarity: 0.856235146522522
*Check whether any of the thrown exception types is `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether any of the thrown exception types is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8639993667602539
=========================logics=========================
1. Get the name of the method.
2. Check whether the method has declared throw exceptions.
3. Get the throw exception in the method signature.
4. Check whether the throw exception is java.lang.Exception.
If the method explicitly throws java.lang.Exception, then this test case violates the rule. Otherwise, it does not violate the rule.

In this test case:
1. The method name is `foo`.
2. The method has declared throw exceptions.
3. The throw exception in the method signature is `IOException`.
4. The throw exception is not `java.lang.Exception`.

Since the method does not explicitly throw `java.lang.Exception`, this test case does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method has declared throw exceptions.* 匹配到的元操作或API：
query: Check whether the method has declared throw exceptions.
most similar API: Check whether is just rethrow exception
cosine Similarity: 0.8087660670280457
*Get the throw exception in the method signature.* 匹配到的元操作或API：
logic: Get the throw exception in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9507904052734375
*Check whether the throw exception is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the throw exception is java.lang.Exception.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8573644161224365
*The method name is `foo`.* 匹配到的元操作或API：
未匹配成功元操作或API
*The method has declared throw exceptions.* 匹配到的元操作或API：
未匹配成功元操作或API
*The throw exception in the method signature is `IOException`.* 匹配到的元操作或API：
未匹配成功元操作或API
*The throw exception is not `java.lang.Exception`.* 匹配到的元操作或API：
未匹配成功元操作或API
94
78
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Check whether the method signature throws any exceptions.
4. Get the exception types thrown by the method.
5. Check whether any of the exception types is `java.lang.Exception`.

If the method is not a JUnit method and explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it does not violate the rule.

In this case:
- The method `setUp` is a JUnit method (from `junit.framework.TestCase`).
- The rule explicitly states to skip JUnit3 `setUp` methods.

Therefore, this test case does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: Check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9170711040496826
*Get the exception types thrown by the method.* 匹配到的元操作或API：
logic: Get the exception types thrown by the method.
most similar meta operation: Get the type of exception thrown in throw statement
cosine Similarity: 0.8693162202835083
*Check whether any of the exception types is `java.lang.Exception`.* 匹配到的元操作或API：
query: Check whether any of the exception types is `java.lang.Exception`.
most similar API: Check whether has exception list
cosine Similarity: 0.8277742862701416
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Check whether the method name is `tearDown`.
4. Get the throw exceptions in the method signature.
5. Check whether the method signature throws `java.lang.Exception`.
6. Check whether the method is part of a JUnit3 test case (inherits from `junit.framework.TestCase`).

If the method is a JUnit3 `tearDown` method and it explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it does not violate the rule.

In this case:
- The method is a JUnit3 `tearDown` method (inherits from `junit.framework.TestCase`).
- It explicitly throws `java.lang.Exception`.

However, the description states that this test case is valid and does not violate the rule. This suggests that the rule has an exception for JUnit3 `tearDown` methods, which are allowed to throw `java.lang.Exception`. Therefore, the test case adheres to the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Check whether the method name is `tearDown`.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is part of a JUnit3 test case (inherits from `junit.framework.TestCase`).* 匹配到的元操作或API：
query: Check whether the method is part of a JUnit3 test case (inherits from `junit.framework.TestCase`).
most similar API: Check whether is junit3 method
cosine Similarity: 0.8803143501281738
99
82
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws `java.lang.Exception`.
5. Check whether the method is annotated with `@Before`.

If the method is a JUnit method annotated with `@Before` and explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it does not violate the rule. 

In this case, the method `setUp` is a JUnit method annotated with `@Before` and explicitly throws `java.lang.Exception`, so it violates the rule. The description stating "ok 6" and "0 violations" is incorrect.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is annotated with `@Before`.* 匹配到的元操作或API：
query: Check whether the method is annotated with `@Before`.
most similar API: Check whether the method is annotation present
cosine Similarity: 0.8706905841827393
=========================logics=========================
1. Get all methods declared in the class.
2. For each method, check whether the method signature throws any exceptions.
3. For each thrown exception in the method signature, check whether the exception type is `java.lang.Exception`.
4. If any method explicitly throws `java.lang.Exception`, then this test case violates the rule.

In this test case:
- The method `bar()` is declared to throw `Exception`.
- Since `Exception` is the generic `java.lang.Exception`, this test case violates the rule. The number of violations is 1.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.837310254573822
*For each method, check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: For each method, check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.879638671875
*For each thrown exception in the method signature, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception in the method signature, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8608775734901428
*If any method explicitly throws `java.lang.Exception`, then this test case violates the rule.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a constructor.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws `java.lang.Exception`.
If the method/constructor explicitly throws `java.lang.Exception`, then this test case violates the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a constructor.* 匹配到的元操作或API：
query: Check whether the method is a constructor.
most similar API: Check whether is test method
cosine Similarity: 0.8136129379272461
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.
7. Check whether the method is overridden.

If the method is a JUnit method (e.g., `setUp`) and its superclass is `TestCase`, and the method signature throws `java.lang.Exception`, but the method is overridden, then this test case does not violate the rule. Otherwise, if the method explicitly throws `java.lang.Exception`, it violates the rule. In this case, the test case does not violate the rule because it is an overridden JUnit method.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.

If the method is a JUnit method (e.g., `setUp`) and the superclass is `TestCase`, then it is allowed to throw `java.lang.Exception`. Otherwise, if the method explicitly throws `java.lang.Exception`, it violates the rule.

In this test case:
- The method `setUp` is a JUnit method.
- The superclass is `MyTestCase`, which extends `TestCase`.
- The method signature throws `java.lang.Exception`.

Since the method is a JUnit `setUp` method and the superclass is `TestCase`, it is allowed to throw `java.lang.Exception`. Therefore, this test case does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Check whether the method has a superclass.
4. Get the superclass of the method's class.
5. Check whether the superclass is `TestCase`.
6. Get the throw exceptions in the method signature.
7. Check whether the method signature throws `java.lang.Exception`.
8. Check whether the method is overridden.

If the method is a JUnit method (e.g., `setUp`) and its superclass is `TestCase`, and it throws `java.lang.Exception`, but it is overridden from the superclass, then this test case does not violate the rule. Otherwise, if a method/constructor explicitly throws `java.lang.Exception`, it violates the rule. In this case, the test case does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Check whether the method has a superclass.* 匹配到的元操作或API：
logic: Check whether the method has a superclass.
most similar meta operation: Check whether the method caller is super
cosine Similarity: 0.867396891117096
*Get the superclass of the method's class.* 匹配到的元操作或API：
logic: Get the superclass of the method's class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.8976762294769287
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
89
74
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the package name of the class.
6. Check whether the package name matches `net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception`.
7. Get the throw exceptions in the method signature.
8. Check whether the method signature throws `java.lang.Exception`.

If the method is a JUnit method, its superclass is `TestCase`, and it is in the specified package, then it is skipped and does not violate the rule. Otherwise, if the method explicitly throws `java.lang.Exception`, it violates the rule. In this test case, the method is a JUnit method, its superclass is `TestCase`, and it is in the specified package, so it does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the package name of the class.* 匹配到的元操作或API：
logic: Get the package name of the class.
most similar meta operation: Get the name of the package where the class is located
cosine Similarity: 0.9218399524688721
*Check whether the package name matches `net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception`.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
98
81
96
80
94
78
=========================logics=========================
1. Get the name of the class.
2. Check whether the class has declared annotations.
3. Get the name of the method.
4. Check whether the method has declared annotations.
5. Get the return type of the method.
6. Check whether the return type of the method is a generic type.
7. Get the signature of the method.
8. Check whether the method signature throws any exceptions.
9. Check whether the method signature throws java.lang.Exception.

If the method/constructor does not explicitly throw the generic java.lang.Exception, then this test case adheres to the rule. In this case, the test case does not violate the rule.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has declared annotations.* 匹配到的元操作或API：
logic: Check whether the class has declared annotations.
most similar meta operation: Check whether class has declared annotations
cosine Similarity: 0.9833341240882874
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method has declared annotations.* 匹配到的元操作或API：
logic: Check whether the method has declared annotations.
most similar meta operation: Check whether method has declared annotations
cosine Similarity: 0.9820230007171631
*Get the return type of the method.* 匹配到的元操作或API：
logic: Get the return type of the method.
most similar meta operation: Get the return type of method
cosine Similarity: 0.9745092988014221
*Check whether the return type of the method is a generic type.* 匹配到的元操作或API：
logic: Check whether the return type of the method is a generic type.
most similar meta operation: Check whether the return type of method is string type
cosine Similarity: 0.8943004012107849
*Get the signature of the method.* 匹配到的元操作或API：
logic: Get the signature of the method.
most similar meta operation: Get the signature of method
cosine Similarity: 0.9734326601028442
*Check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: Check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9170711040496826
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
=========================logics=========================
1. Get the name of the method.
2. Check whether the method name starts with "test".
3. Check whether the method is a JUnit method.
4. Get the throw exceptions in the method signature.
5. Check whether the method signature throws java.lang.Exception.
If the method name starts with "test" and it is a JUnit method, then it is allowed to throw java.lang.Exception, and this test case does not violate the rule. Otherwise, if the method signature explicitly throws java.lang.Exception, it violates the rule. In this case, the test case does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method name starts with "test".* 匹配到的元操作或API：
query: Check whether the method name starts with "test".
most similar API: Check whether is test method
cosine Similarity: 0.8449863791465759
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
83
69
156
136
149
133
106
91
94
78
116
101
=========================logics=========================
1. Get the method declaration within the anonymous class.
2. Get the signature of the method.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws java.lang.Exception.
If the method signature explicitly throws java.lang.Exception, then this test case violates the rule.
*Get the method declaration within the anonymous class.* 匹配到的元操作或API：
logic: Get the method declaration within the anonymous class.
most similar meta operation: Get method declaration from method call
cosine Similarity: 0.8754149079322815
*Get the signature of the method.* 匹配到的元操作或API：
logic: Get the signature of the method.
most similar meta operation: Get the signature of method
cosine Similarity: 0.9734326601028442
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
156
136
90
76
94
78
=========================logics=========================
1. Get all methods declared in the class.
2. Check whether the method signature throws Exception.
3. Get all constructors declared in the class.
4. Check whether the constructor signature throws Exception.
If any method or constructor explicitly throws java.lang.Exception, then this test case violates the rule. Otherwise, it adheres to the rule.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declarations of class or interface
cosine Similarity: 0.8056354522705078
*Check whether the method signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9370797276496887
*Get all constructors declared in the class.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the constructor signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the constructor signature throws Exception.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.9367350935935974
=========================logics=========================
1. Get the name of the class.
2. Check whether the class has implemented interfaces.
3. Get the implemented interface of the class.
4. Get the name of the implemented interface.
5. Get the methods declared in the interface.
6. Check whether the method in the interface throws Exception.
7. Get the methods declared in the class.
8. Check whether the method in the class throws Exception.
9. Check whether the method in the class is overriding the method in the interface.
10. Check whether the method in the class explicitly throws the generic java.lang.Exception.

If the method in the class is overriding a method from the interface and explicitly throws the generic java.lang.Exception, then this test case violates the rule. However, if the method in the interface already throws Exception, the method in the class is allowed to throw Exception as well, and it does not violate the rule. In this test case, the method in the interface already throws Exception, so the method in the class does not violate the rule. The description "bad 6" and the number of violations "1" seem to be incorrect based on the rule description provided.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has implemented interfaces.* 匹配到的元操作或API：
logic: Check whether the class has implemented interfaces.
most similar meta operation: Check whether the class is interface
cosine Similarity: 0.9022659063339233
*Get the implemented interface of the class.* 匹配到的元操作或API：
logic: Get the implemented interface of the class.
most similar meta operation: Get a implemented interface of class
cosine Similarity: 0.9709619879722595
*Get the name of the implemented interface.* 匹配到的元操作或API：
logic: Get the name of the implemented interface.
most similar meta operation: Get the name of interface
cosine Similarity: 0.9328231811523438
*Get the methods declared in the interface.* 匹配到的元操作或API：
query: Get the methods declared in the interface.
most similar API: get operations of class or interface: Returns the operations declared in this class (methods and constructors).
cosine Similarity: 0.8525171279907227
*Check whether the method in the interface throws Exception.* 匹配到的元操作或API：
logic: Check whether the method in the interface throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8525169491767883
*Get the methods declared in the class.* 匹配到的元操作或API：
query: Get the methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.8623219728469849
*Check whether the method in the class throws Exception.* 匹配到的元操作或API：
logic: Check whether the method in the class throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8620907664299011
*Check whether the method in the class is overriding the method in the interface.* 匹配到的元操作或API：
logic: Check whether the method in the class is overriding the method in the interface.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.8725051879882812
*Check whether the method in the class explicitly throws the generic java.lang.Exception.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the name of the constructor.
2. Check whether the constructor has declared throw exceptions.
3. Get the throw exceptions in the constructor signature.
4. Check whether the throw exception is java.lang.Exception.
If the constructor explicitly throws java.lang.Exception, then this test case violate the rule.
*Get the name of the constructor.* 匹配到的元操作或API：
logic: Get the name of the constructor.
most similar meta operation: Get the name of constructor
cosine Similarity: 0.9695647358894348
*Check whether the constructor has declared throw exceptions.* 匹配到的元操作或API：
query: Check whether the constructor has declared throw exceptions.
most similar API: get throws list of constructor: Returns the {@code throws} clause of this declaration, or null if there is none.
cosine Similarity: 0.8130849003791809
*Get the throw exceptions in the constructor signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9056042432785034
*Check whether the throw exception is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the throw exception is java.lang.Exception.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8573644161224365
95
78
81
67
96
80
96
79
=========================logics=========================
1. Get all methods declared in the class.
2. For each method, check whether the method signature throws any exceptions.
3. For each thrown exception, check whether the exception type is `java.lang.Exception`.
4. Get all constructors declared in the class.
5. For each constructor, check whether the constructor signature throws any exceptions.
6. For each thrown exception, check whether the exception type is `java.lang.Exception`.

If any method or constructor explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it complies with the rule. 

In this test case, no methods or constructors explicitly throw `java.lang.Exception`, so it does not violate the rule.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declarations of class or interface
cosine Similarity: 0.8056354522705078
*For each method, check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: For each method, check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.879638671875
*For each thrown exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8652206659317017
*Get all constructors declared in the class.* 匹配到的元操作或API：
未匹配成功元操作或API
*For each constructor, check whether the constructor signature throws any exceptions.* 匹配到的元操作或API：
logic: For each constructor, check whether the constructor signature throws any exceptions.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.8838427662849426
*For each thrown exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8652206659317017
=========================logics=========================
1. Get the name of the method.
2. Check whether the method has declared annotations.
3. Get a declared annotation of the method.
4. Check whether the method has the `@org.testng.annotations.AfterClass` annotation.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.

If the method has the `@org.testng.annotations.AfterClass` annotation and explicitly throws `java.lang.Exception`, then this test case violates the rule. However, based on the description provided, this test case is marked as "ok 15" with 0 violations, indicating that the rule is not violated in this context. This suggests that the rule might have an exception or special handling for TestNG annotations like `@AfterClass`.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method has declared annotations.* 匹配到的元操作或API：
logic: Check whether the method has declared annotations.
most similar meta operation: Check whether method has declared annotations
cosine Similarity: 0.9820230007171631
*Get a declared annotation of the method.* 匹配到的元操作或API：
logic: Get a declared annotation of the method.
most similar meta operation: Get a declared annotation of method
cosine Similarity: 0.9806323051452637
*Check whether the method has the `@org.testng.annotations.AfterClass` annotation.* 匹配到的元操作或API：
query: Check whether the method has the `@org.testng.annotations.AfterClass` annotation.
most similar API: Check whether the method is any annotation present
cosine Similarity: 0.8300737738609314
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
==========================第1轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
5. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
10. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
12. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
16. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
17. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
18. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
19. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
23. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
24. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
25. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
26. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTMethodOrConstructorDeclaration> getOperations(), //Returns the operations declared in this class (methods and constructors).
28. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
2.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
5.  //Check whether the method caller is super
```java
import net.sourceforge.pmd.lang.java.ast.ASTSuperExpression;
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
public boolean isMethodCallerSuper(ASTMethodCall methodCall){
    if (methodCall.getQualifier() instanceof ASTSuperExpression){
        return true;
    }
    return false;
}
```
6.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
8.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```
9.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isJUnitMethod(node) || isOverriddenMethod(node)) {
            return super.visit(node, data);
        }

        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType type : throwsList) {
                if (TypeTestUtil.isA(Exception.class, type)) {
                    addViolation(data, node);
                    break;
                }
            }
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType type : throwsList) {
                if (TypeTestUtil.isA(Exception.class, type)) {
                    addViolation(data, node);
                    break;
                }
            }
        }

        return super.visit(node, data);
    }

    private boolean isJUnitMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node) || TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isOverriddenMethod(ASTMethodDeclaration node) {
        return node.isOverridden();
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第2轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
5. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
10. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
12. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
16. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
17. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
18. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
19. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
23. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
24. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
25. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
26. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTMethodOrConstructorDeclaration> getOperations(), //Returns the operations declared in this class (methods and constructors).
28. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
2.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
5.  //Check whether the method caller is super
```java
import net.sourceforge.pmd.lang.java.ast.ASTSuperExpression;
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
public boolean isMethodCallerSuper(ASTMethodCall methodCall){
    if (methodCall.getQualifier() instanceof ASTSuperExpression){
        return true;
    }
    return false;
}
```
6.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
8.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```
9.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (shouldSkipMethod(node)) {
            return super.visit(node, data);
        }

        if (throwsGenericException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsGenericException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean shouldSkipMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node) || TestFrameworksUtil.isTestMethod(node) || node.isOverridden();
    }

    private boolean throwsGenericException(ASTMethodDeclaration node) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList == null) {
            return false;
        }

        for (ASTClassOrInterfaceType type : throwsList) {
            if (TypeTestUtil.isA(Exception.class, type)) {
                return true;
            }
        }

        return false;
    }

    private boolean throwsGenericException(ASTConstructorDeclaration node) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList == null) {
            return false;
        }

        for (ASTClassOrInterfaceType type : throwsList) {
            if (TypeTestUtil.isA(Exception.class, type)) {
                return true;
            }
        }

        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第3轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
5. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
10. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
12. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
16. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
17. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
18. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
19. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
23. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
24. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
25. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
26. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTMethodOrConstructorDeclaration> getOperations(), //Returns the operations declared in this class (methods and constructors).
28. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
2.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
5.  //Check whether the method caller is super
```java
import net.sourceforge.pmd.lang.java.ast.ASTSuperExpression;
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
public boolean isMethodCallerSuper(ASTMethodCall methodCall){
    if (methodCall.getQualifier() instanceof ASTSuperExpression){
        return true;
    }
    return false;
}
```
6.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
8.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```
9.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isJUnitMethod(node) || isOverriddenMethod(node)) {
            return super.visit(node, data);
        }

        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType type : throwsList) {
                if (TypeTestUtil.isA(Exception.class, type)) {
                    addViolation(data, node);
                    break;
                }
            }
        }
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType type : throwsList) {
                if (TypeTestUtil.isA(Exception.class, type)) {
                    addViolation(data, node);
                    break;
                }
            }
        }
        return super.visit(node, data);
    }

    private boolean isJUnitMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node) || TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isOverriddenMethod(ASTMethodDeclaration node) {
        return node.isOverridden();
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第4轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
5. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
10. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
12. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
16. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
17. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
18. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
19. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
23. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
24. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
25. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
26. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTMethodOrConstructorDeclaration> getOperations(), //Returns the operations declared in this class (methods and constructors).
28. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
2.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
5.  //Check whether the method caller is super
```java
import net.sourceforge.pmd.lang.java.ast.ASTSuperExpression;
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
public boolean isMethodCallerSuper(ASTMethodCall methodCall){
    if (methodCall.getQualifier() instanceof ASTSuperExpression){
        return true;
    }
    return false;
}
```
6.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
8.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```
9.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (shouldSkipMethod(node)) {
            return super.visit(node, data);
        }

        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType type : throwsList) {
                if (TypeTestUtil.isA(Exception.class, type)) {
                    addViolation(data, node);
                    break;
                }
            }
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType type : throwsList) {
                if (TypeTestUtil.isA(Exception.class, type)) {
                    addViolation(data, node);
                    break;
                }
            }
        }

        return super.visit(node, data);
    }

    private boolean shouldSkipMethod(ASTMethodDeclaration node) {
        if (node.isOverridden()) {
            return true;
        }

        if (TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node) || TestFrameworksUtil.isTestMethod(node)) {
            return true;
        }

        if (node.getName().startsWith("test") && node.getEnclosingType().getSuperClassTypeNode() != null) {
            return true;
        }

        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第5轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
5. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
10. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
12. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
16. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
17. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
18. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
19. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
23. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
24. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
25. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
26. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTMethodOrConstructorDeclaration> getOperations(), //Returns the operations declared in this class (methods and constructors).
28. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
2.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
5.  //Check whether the method caller is super
```java
import net.sourceforge.pmd.lang.java.ast.ASTSuperExpression;
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
public boolean isMethodCallerSuper(ASTMethodCall methodCall){
    if (methodCall.getQualifier() instanceof ASTSuperExpression){
        return true;
    }
    return false;
}
```
6.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
8.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```
9.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (shouldSkipMethod(node)) {
            return super.visit(node, data);
        }

        if (throwsGenericException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsGenericException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean shouldSkipMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node) || TestFrameworksUtil.isTestMethod(node) || node.isOverridden();
    }

    private boolean throwsGenericException(ASTMethodDeclaration node) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList == null) {
            return false;
        }

        for (ASTClassOrInterfaceType type : throwsList) {
            if (TypeTestUtil.isA(Exception.class, type)) {
                return true;
            }
        }

        return false;
    }

    private boolean throwsGenericException(ASTConstructorDeclaration node) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList == null) {
            return false;
        }

        for (ASTClassOrInterfaceType type : throwsList) {
            if (TypeTestUtil.isA(Exception.class, type)) {
                return true;
            }
        }

        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
5轮生成失败
结束

规则执行完毕，时间总花销： 807.4895095825195 秒
