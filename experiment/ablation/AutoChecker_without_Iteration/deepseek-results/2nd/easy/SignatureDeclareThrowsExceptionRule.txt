开始

========================================== Rule SignatureDeclareThrowsExceptionRule ===========================================
一共 22 个测试用例
正例 15 个
反例 7 个
38
34
85
71
40
37
144
127
96
79
97
81
12
10
30
28
11
8
97
91
157
137
15
13
12
10
107
91
9
7
19
14
85
71
12
9
12
10
11
9
10
8
90
76
92
78
27
17
96
80
9
7
23
19
=========================logics=========================
1. Get the name of the class.
2. Check whether the class is public.
3. Get all methods declared in the class.
4. Get the signature of each method.
5. Check whether the method signature throws any exceptions.
6. Get the exception types thrown by the method.
7. Check whether the exception type is `java.lang.Exception`.

If a method explicitly throws `java.lang.Exception`, then this test case violates the rule. In this case, the method `foo()` throws `Exception`, so it violates the rule. The number of violations in this test case is 1.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class is public.* 匹配到的元操作或API：
logic: Check whether the class is public.
most similar meta operation: Check whether the class is public
cosine Similarity: 0.9849746227264404
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.837310254573822
*Get the signature of each method.* 匹配到的元操作或API：
logic: Get the signature of each method.
most similar meta operation: Get the signature of method
cosine Similarity: 0.9232243299484253
*Check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: Check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9170711040496826
*Get the exception types thrown by the method.* 匹配到的元操作或API：
logic: Get the exception types thrown by the method.
most similar meta operation: Get the type of exception thrown in throw statement
cosine Similarity: 0.8693162202835083
*Check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
query: Check whether the exception type is `java.lang.Exception`.
most similar API: Check whether has exception list
cosine Similarity: 0.8245478868484497
=========================logics=========================
1. Get all methods declared in the class.
2. For each method, check whether the method signature throws any exceptions.
3. If the method throws exceptions, get the exception types.
4. Check whether any of the exception types is `java.lang.Exception`.

If a method or constructor explicitly throws `java.lang.Exception`, then this test case violates the rule. In this test case, the method `foo()` does not throw any exceptions, so it adheres to the rule.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.837310254573822
*For each method, check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: For each method, check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.879638671875
*If the method throws exceptions, get the exception types.* 匹配到的元操作或API：
logic: If the method throws exceptions, get the exception types.
most similar meta operation: Get the type of exception thrown in throw statement
cosine Similarity: 0.8611443638801575
*Check whether any of the exception types is `java.lang.Exception`.* 匹配到的元操作或API：
query: Check whether any of the exception types is `java.lang.Exception`.
most similar API: Check whether has exception list
cosine Similarity: 0.8277742862701416
125
108
=========================logics=========================
1. Get the name of the class.
2. Check whether the class has a constructor.
3. Get the signature of the constructor.
4. Check whether the constructor signature throws Exception.
5. Get the throw exceptions in the constructor signature.
6. Check whether the thrown exception is java.lang.Exception.

If the constructor explicitly throws java.lang.Exception, then this test case violates the rule.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has a constructor.* 匹配到的元操作或API：
query: Check whether the class has a constructor.
most similar API: Check whether the constructor is annotation present
cosine Similarity: 0.8606792092323303
*Get the signature of the constructor.* 匹配到的元操作或API：
logic: Get the signature of the constructor.
most similar meta operation: Get the signature of constructor
cosine Similarity: 0.9732561707496643
*Check whether the constructor signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the constructor signature throws Exception.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.9367350935935974
*Get the throw exceptions in the constructor signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9056042432785034
*Check whether the thrown exception is java.lang.Exception.* 匹配到的元操作或API：
query: Check whether the thrown exception is java.lang.Exception.
most similar API: Check whether is just rethrow exception
cosine Similarity: 0.8253034353256226
84
70
=========================logics=========================
1. Get the name of the class.
2. Check whether the class has a constructor.
3. Get the signature of the constructor.
4. Check whether the constructor signature throws any exceptions.
5. Get the exception types thrown by the constructor.
6. Check whether any of the thrown exception types is `java.lang.Exception`.

If the constructor throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it adheres to the rule. In this case, the constructor throws `IOException`, which is not `java.lang.Exception`, so the test case does not violate the rule.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has a constructor.* 匹配到的元操作或API：
query: Check whether the class has a constructor.
most similar API: Check whether the constructor is annotation present
cosine Similarity: 0.8606792092323303
*Get the signature of the constructor.* 匹配到的元操作或API：
logic: Get the signature of the constructor.
most similar meta operation: Get the signature of constructor
cosine Similarity: 0.9732561707496643
*Check whether the constructor signature throws any exceptions.* 匹配到的元操作或API：
logic: Check whether the constructor signature throws any exceptions.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.9193394184112549
*Get the exception types thrown by the constructor.* 匹配到的元操作或API：
logic: Get the exception types thrown by the constructor.
most similar meta operation: Get the type of exception thrown in throw statement
cosine Similarity: 0.856235146522522
*Check whether any of the thrown exception types is `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether any of the thrown exception types is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8639993667602539
=========================logics=========================
1. Get the name of the method.
2. Check whether the method has declared throw exceptions.
3. Get the throw exceptions in the method signature.
4. Check whether the throw exception is java.lang.Exception.
If the method explicitly throws java.lang.Exception, then this test case violates the rule. Otherwise, it does not violate the rule.

In this test case:
1. The method name is `foo`.
2. The method has declared throw exceptions (`throws IOException`).
3. The throw exception in the method signature is `IOException`.
4. The throw exception is not `java.lang.Exception`.

Since the method does not explicitly throw `java.lang.Exception`, this test case does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method has declared throw exceptions.* 匹配到的元操作或API：
query: Check whether the method has declared throw exceptions.
most similar API: Check whether is just rethrow exception
cosine Similarity: 0.8087660670280457
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the throw exception is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the throw exception is java.lang.Exception.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8573644161224365
*The method name is `foo`.* 匹配到的元操作或API：
未匹配成功元操作或API
*The method has declared throw exceptions (`throws IOException`).* 匹配到的元操作或API：
未匹配成功元操作或API
*The throw exception in the method signature is `IOException`.* 匹配到的元操作或API：
未匹配成功元操作或API
*The throw exception is not `java.lang.Exception`.* 匹配到的元操作或API：
未匹配成功元操作或API
94
78
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws java.lang.Exception.
If the method is not a JUnit method and explicitly throws java.lang.Exception, then this test case violates the rule. Otherwise, it does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Check whether the method name is `tearDown`.
4. Get the throw exceptions in the method signature.
5. Check whether the method signature throws `java.lang.Exception`.
6. Check whether the method is part of a JUnit 3 test case (extends `junit.framework.TestCase`).

If the method is a JUnit 3 `tearDown` method and it explicitly throws `java.lang.Exception`, then this test case does not violate the rule because JUnit 3 `tearDown` methods are allowed to throw `Exception`. Otherwise, it would violate the rule. In this case, the test case is valid and does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Check whether the method name is `tearDown`.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is part of a JUnit 3 test case (extends `junit.framework.TestCase`).* 匹配到的元操作或API：
query: Check whether the method is part of a JUnit 3 test case (extends `junit.framework.TestCase`).
most similar API: Check whether is junit3 method
cosine Similarity: 0.8837180733680725
99
82
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws `java.lang.Exception`.
5. Check whether the method is annotated with `@Before`.

If the method is a JUnit method annotated with `@Before` and explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it does not violate the rule. 

In this case, the method `setUp` is a JUnit method annotated with `@Before` and explicitly throws `java.lang.Exception`, so it violates the rule. The description "ok 6" and the statement "The number of violating the rule in this test case is: 0" are incorrect.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is annotated with `@Before`.* 匹配到的元操作或API：
query: Check whether the method is annotated with `@Before`.
most similar API: Check whether the method is annotation present
cosine Similarity: 0.8706905841827393
=========================logics=========================
1. Get all methods declared in the class.
2. For each method, check whether the method signature throws any exceptions.
3. Get the exception types thrown by the method signature.
4. Check whether any of the exception types is `java.lang.Exception`.
5. If a method explicitly throws `java.lang.Exception`, it violates the rule.

In this test case:
- The method `bar()` explicitly throws `java.lang.Exception`, which violates the rule.
- The number of violations is 1.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.837310254573822
*For each method, check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: For each method, check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.879638671875
*Get the exception types thrown by the method signature.* 匹配到的元操作或API：
logic: Get the exception types thrown by the method signature.
most similar meta operation: Get the type of exception thrown in throw statement
cosine Similarity: 0.8504338264465332
*Check whether any of the exception types is `java.lang.Exception`.* 匹配到的元操作或API：
query: Check whether any of the exception types is `java.lang.Exception`.
most similar API: Check whether has exception list
cosine Similarity: 0.8277742862701416
*If a method explicitly throws `java.lang.Exception`, it violates the rule.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a constructor.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws `java.lang.Exception`.
5. Check whether the method is part of a JUnit test case (inherits from `junit.framework.TestCase`).

If the method is not a constructor, throws `java.lang.Exception`, and is not part of a JUnit test case, then this test case violates the rule. In this case, the method `bar()` explicitly throws `java.lang.Exception`, which violates the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a constructor.* 匹配到的元操作或API：
query: Check whether the method is a constructor.
most similar API: Check whether is test method
cosine Similarity: 0.8136129379272461
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is part of a JUnit test case (inherits from `junit.framework.TestCase`).* 匹配到的元操作或API：
query: Check whether the method is part of a JUnit test case (inherits from `junit.framework.TestCase`).
most similar API: Check whether is junit method
cosine Similarity: 0.8469783067703247
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.
7. Check whether the method is overridden.

If the method is a JUnit method (e.g., `setUp`) and its superclass is `TestCase`, and the method signature throws `java.lang.Exception`, but the method is overridden, then this test case does not violate the rule. Otherwise, if a method/constructor explicitly throws `java.lang.Exception`, it violates the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.
7. Check whether the method is overridden.
8. Get the original method of this overridden method.
9. Check whether the original method throws `java.lang.Exception`.

If the method is a JUnit method (e.g., `setUp`) and its superclass is `TestCase`, then it is allowed to throw `java.lang.Exception`. Otherwise, if a method/constructor explicitly throws `java.lang.Exception`, it violates the rule. In this test case, since the method is a JUnit `setUp` method and the superclass is `MyTestCase` (which likely extends `TestCase`), it does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
*Get the original method of this overridden method.* 匹配到的元操作或API：
logic: Get the original method of this overridden method.
most similar meta operation: Get the original method of this overridden method
cosine Similarity: 0.9831136465072632
*Check whether the original method throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the original method throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8581807613372803
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.
7. Check whether the method is overridden.
8. Get the original method of this overridden method.
9. Check whether the original method throws `java.lang.Exception`.

If the method is a JUnit method (e.g., `setUp`) and its superclass is `TestCase`, and the method explicitly throws `java.lang.Exception`, but the original method in the superclass also throws `java.lang.Exception`, then this test case does not violate the rule. Otherwise, if the method explicitly throws `java.lang.Exception` and is not a JUnit method or does not inherit the exception from its superclass, it violates the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
*Get the original method of this overridden method.* 匹配到的元操作或API：
logic: Get the original method of this overridden method.
most similar meta operation: Get the original method of this overridden method
cosine Similarity: 0.9831136465072632
*Check whether the original method throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the original method throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8581807613372803
89
74
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a JUnit method.
3. Get the superclass of the class.
4. Check whether the superclass is `TestCase`.
5. Get the package name of the class.
6. Check whether the superclass is in the same package.
7. Get the throw exceptions in the method signature.
8. Check whether the method signature throws `java.lang.Exception`.
9. Check whether the method is a `setUp` method.

If the method is a `setUp` method, the superclass is `TestCase`, and the superclass is in the same package, then this test case does not violate the rule. Otherwise, if the method explicitly throws `java.lang.Exception`, it violates the rule. In this case, the test case does not violate the rule because it meets the exception criteria for JUnit `setUp` methods.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a JUnit method.* 匹配到的元操作或API：
logic: Check whether the method is a JUnit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get the superclass of the class.* 匹配到的元操作或API：
logic: Get the superclass of the class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9557393193244934
*Check whether the superclass is `TestCase`.* 匹配到的元操作或API：
query: Check whether the superclass is `TestCase`.
most similar API: Check whether is test class
cosine Similarity: 0.8214002251625061
*Get the package name of the class.* 匹配到的元操作或API：
logic: Get the package name of the class.
most similar meta operation: Get the name of the package where the class is located
cosine Similarity: 0.9218399524688721
*Check whether the superclass is in the same package.* 匹配到的元操作或API：
query: Check whether the superclass is in the same package.
most similar API: Check whether the package equals
cosine Similarity: 0.8419926762580872
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Check whether the method is a `setUp` method.* 匹配到的元操作或API：
query: Check whether the method is a `setUp` method.
most similar API: Check whether is test configuration method: Returns true if this is a Before/setUp method or After/tearDown.
cosine Similarity: 0.8398309350013733
98
81
94
78
96
80
=========================logics=========================
1. Get the name of the class.
2. Check whether the class has declared annotations.
3. Get the name of the method.
4. Check whether the method has declared annotations.
5. Get the return type of the method.
6. Check whether the return type of the method is a generic type.
7. Get the throw exceptions in the method signature.
8. Check whether the method signature throws java.lang.Exception.

If the method or constructor explicitly throws java.lang.Exception, then this test case violates the rule. In this test case, the method `foo` does not throw any exceptions, so it does not violate the rule.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has declared annotations.* 匹配到的元操作或API：
logic: Check whether the class has declared annotations.
most similar meta operation: Check whether class has declared annotations
cosine Similarity: 0.9833341240882874
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method has declared annotations.* 匹配到的元操作或API：
logic: Check whether the method has declared annotations.
most similar meta operation: Check whether method has declared annotations
cosine Similarity: 0.9820230007171631
*Get the return type of the method.* 匹配到的元操作或API：
logic: Get the return type of the method.
most similar meta operation: Get the return type of method
cosine Similarity: 0.9745092988014221
*Check whether the return type of the method is a generic type.* 匹配到的元操作或API：
logic: Check whether the return type of the method is a generic type.
most similar meta operation: Check whether the return type of method is string type
cosine Similarity: 0.8943004012107849
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
=========================logics=========================
1. Get the name of the method.
2. Check whether the method name starts with "test".
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws java.lang.Exception.
If the method name does not start with "test" and the method signature throws java.lang.Exception, then this test case violates the rule. Otherwise, it does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method name starts with "test".* 匹配到的元操作或API：
query: Check whether the method name starts with "test".
most similar API: Check whether is test method
cosine Similarity: 0.8449863791465759
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
106
91
156
136
83
69
149
133
94
78
116
101
=========================logics=========================
1. Get the name of the method.
2. Check whether the method is a constructor.
3. Get the throw exceptions in the method signature.
4. Check whether the method signature throws `java.lang.Exception`.
5. Get the class that the method is located in.
6. Check whether the method is overridden.
7. Get the original method of this overridden method.
8. Check whether the original method throws `java.lang.Exception`.
If the method/constructor explicitly throws `java.lang.Exception` and it is not overridden from a method that also throws `java.lang.Exception`, then this test case violates the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method is a constructor.* 匹配到的元操作或API：
query: Check whether the method is a constructor.
most similar API: Check whether the constructor call is qualified instance creation
cosine Similarity: 0.8379802703857422
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
*Get the class that the method is located in.* 匹配到的元操作或API：
logic: Get the class that the method is located in.
most similar meta operation: Get the class that method located in
cosine Similarity: 0.971136212348938
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
*Get the original method of this overridden method.* 匹配到的元操作或API：
logic: Get the original method of this overridden method.
most similar meta operation: Get the original method of this overridden method
cosine Similarity: 0.9831136465072632
*Check whether the original method throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the original method throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8581807613372803
94
78
156
136
90
76
=========================logics=========================
1. Get all methods declared in the class.
2. For each method, check whether the method signature throws any exceptions.
3. For each thrown exception, check whether the exception type is `java.lang.Exception`.
4. Get all constructors declared in the class.
5. For each constructor, check whether the constructor signature throws any exceptions.
6. For each thrown exception, check whether the exception type is `java.lang.Exception`.

If any method or constructor explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it adheres to the rule. 

In this test case, there are no methods or constructors declared, so it does not violate the rule.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declarations of class or interface
cosine Similarity: 0.8056354522705078
*For each method, check whether the method signature throws any exceptions.* 匹配到的元操作或API：
logic: For each method, check whether the method signature throws any exceptions.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.879638671875
*For each thrown exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8652206659317017
*Get all constructors declared in the class.* 匹配到的元操作或API：
未匹配成功元操作或API
*For each constructor, check whether the constructor signature throws any exceptions.* 匹配到的元操作或API：
logic: For each constructor, check whether the constructor signature throws any exceptions.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.8838427662849426
*For each thrown exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8652206659317017
=========================logics=========================
1. Get the name of the class.
2. Check whether the class implements any interfaces.
3. Get the implemented interface of the class.
4. Get the method declared in the interface.
5. Check whether the method in the interface throws `java.lang.Exception`.
6. Get the method in the class that overrides the interface method.
7. Check whether the overriding method in the class throws `java.lang.Exception`.
8. Check whether the method in the class is explicitly throwing `java.lang.Exception` (not inherited from the interface).

If the method in the class explicitly throws `java.lang.Exception` (not inherited from the interface), then this test case violates the rule. Otherwise, it is allowed as it is overriding a method defined elsewhere.
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class implements any interfaces.* 匹配到的元操作或API：
logic: Check whether the class implements any interfaces.
most similar meta operation: Check whether the class is interface
cosine Similarity: 0.8913975358009338
*Get the implemented interface of the class.* 匹配到的元操作或API：
logic: Get the implemented interface of the class.
most similar meta operation: Get a implemented interface of class
cosine Similarity: 0.9709619879722595
*Get the method declared in the interface.* 匹配到的元操作或API：
logic: Get the method declared in the interface.
most similar meta operation: Get a declared annotation of method
cosine Similarity: 0.8544049859046936
*Check whether the method in the interface throws `java.lang.Exception`.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method in the class that overrides the interface method.* 匹配到的元操作或API：
query: Get the method in the class that overrides the interface method.
most similar API: get overridden method of method
cosine Similarity: 0.863083004951477
*Check whether the overriding method in the class throws `java.lang.Exception`.* 匹配到的元操作或API：
query: Check whether the overriding method in the class throws `java.lang.Exception`.
most similar API: Check whether the method is overridden
cosine Similarity: 0.8427152633666992
*Check whether the method in the class is explicitly throwing `java.lang.Exception` (not inherited from the interface).* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the name of the constructor.
2. Check whether the constructor has declared throw exceptions.
3. Get the throw exceptions in the constructor signature.
4. Check whether the throw exception is java.lang.Exception.
If the constructor explicitly throws java.lang.Exception, then this test case violates the rule.
*Get the name of the constructor.* 匹配到的元操作或API：
logic: Get the name of the constructor.
most similar meta operation: Get the name of constructor
cosine Similarity: 0.9695647358894348
*Check whether the constructor has declared throw exceptions.* 匹配到的元操作或API：
query: Check whether the constructor has declared throw exceptions.
most similar API: get throws list of constructor: Returns the {@code throws} clause of this declaration, or null if there is none.
cosine Similarity: 0.8130849003791809
*Get the throw exceptions in the constructor signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9056042432785034
*Check whether the throw exception is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the throw exception is java.lang.Exception.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8573644161224365
96
80
96
79
95
78
81
67
=========================logics=========================
1. Get all methods declared in the class.
2. For each method, check whether it throws any exceptions.
3. For each thrown exception, check whether the exception type is `java.lang.Exception`.
4. Get all constructors declared in the class.
5. For each constructor, check whether it throws any exceptions.
6. For each thrown exception, check whether the exception type is `java.lang.Exception`.

If any method or constructor explicitly throws `java.lang.Exception`, then this test case violates the rule. Otherwise, it does not violate the rule.

In this test case:
- The class `Namespace` does not declare any methods or constructors that explicitly throw `java.lang.Exception`.
- The `WeirdException` class extends `Exception` but is not used in any method or constructor signature to throw `java.lang.Exception`.

Therefore, this test case does not violate the rule.
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declarations of class or interface
cosine Similarity: 0.8056354522705078
*For each method, check whether it throws any exceptions.* 匹配到的元操作或API：
未匹配成功元操作或API
*For each thrown exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8652206659317017
*Get all constructors declared in the class.* 匹配到的元操作或API：
未匹配成功元操作或API
*For each constructor, check whether it throws any exceptions.* 匹配到的元操作或API：
未匹配成功元操作或API
*For each thrown exception, check whether the exception type is `java.lang.Exception`.* 匹配到的元操作或API：
logic: For each thrown exception, check whether the exception type is `java.lang.Exception`.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8652206659317017
=========================logics=========================
1. Get the name of the method.
2. Check whether the method has declared annotations.
3. Get a declared annotation of the method.
4. Check whether the method has the `@org.testng.annotations.AfterClass` annotation.
5. Get the throw exceptions in the method signature.
6. Check whether the method signature throws `java.lang.Exception`.

If the method has the `@org.testng.annotations.AfterClass` annotation and explicitly throws `java.lang.Exception`, then this test case violates the rule. However, based on the description provided, this test case is considered valid (ok 15) and does not violate the rule.
*Get the name of the method.* 匹配到的元操作或API：
logic: Get the name of the method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9713990092277527
*Check whether the method has declared annotations.* 匹配到的元操作或API：
logic: Check whether the method has declared annotations.
most similar meta operation: Check whether method has declared annotations
cosine Similarity: 0.9820230007171631
*Get a declared annotation of the method.* 匹配到的元操作或API：
logic: Get a declared annotation of the method.
most similar meta operation: Get a declared annotation of method
cosine Similarity: 0.9806323051452637
*Check whether the method has the `@org.testng.annotations.AfterClass` annotation.* 匹配到的元操作或API：
query: Check whether the method has the `@org.testng.annotations.AfterClass` annotation.
most similar API: Check whether the method is any annotation present
cosine Similarity: 0.8300737738609314
*Get the throw exceptions in the method signature.* 匹配到的元操作或API：
logic: Get the throw exceptions in the method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9153947830200195
*Check whether the method signature throws `java.lang.Exception`.* 匹配到的元操作或API：
logic: Check whether the method signature throws `java.lang.Exception`.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9227208495140076
==========================第1轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
5. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
16. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //True if this is a junit @Test method (or a junit 3 method).
17. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
18. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTPackageDeclaration: public boolean equals(java.lang.Object)
23. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
24. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
25. net.sourceforge.pmd.lang.java.ast.ASTConstructorCall: public boolean isQualifiedInstanceCreation(), //Returns true if this expression begins with a primary expression. Such an expression creates an instance of inner member classes and their anonymous subclasses. For example, {@code new Outer().new Inner()} evaluates to an instance of the Inner class, which is nested inside the new instance of Outer.
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration getEnclosingType()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
28. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
29. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
30. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod(), //Returns the signature of the method this method overrides in a supertype. Note that this method may be implementing several methods of super-interfaces at once, in that case, an arbitrary one is returned. <p>If the method has an {@link Override} annotation, but we couldn't resolve any method that is actually implemented, this will return {@link TypeSystem#UNRESOLVED_METHOD}.
31. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden(), //Returns true if this method is overridden.
32. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
33. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
34. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
5.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
6.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
7.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isJUnitMethod(node) || isTestConfigurationMethod(node) || isTestMethod(node) || isOverriddenMethod(node)) {
            return super.visit(node, data);
        }

        if (throwsSpecificException(node, Exception.class)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsSpecificException(node, Exception.class)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean isJUnitMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node);
    }

    private boolean isTestConfigurationMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestConfigurationMethod(node);
    }

    private boolean isTestMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isOverriddenMethod(ASTMethodDeclaration node) {
        return node.isOverridden();
    }

    private boolean throwsSpecificException(ASTMethodDeclaration node, Class<?> exceptionClass) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(exceptionClass, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }

    private boolean throwsSpecificException(ASTConstructorDeclaration node, Class<?> exceptionClass) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(exceptionClass, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第2轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
5. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
16. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //True if this is a junit @Test method (or a junit 3 method).
17. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
18. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTPackageDeclaration: public boolean equals(java.lang.Object)
23. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
24. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
25. net.sourceforge.pmd.lang.java.ast.ASTConstructorCall: public boolean isQualifiedInstanceCreation(), //Returns true if this expression begins with a primary expression. Such an expression creates an instance of inner member classes and their anonymous subclasses. For example, {@code new Outer().new Inner()} evaluates to an instance of the Inner class, which is nested inside the new instance of Outer.
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration getEnclosingType()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
28. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
29. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
30. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod(), //Returns the signature of the method this method overrides in a supertype. Note that this method may be implementing several methods of super-interfaces at once, in that case, an arbitrary one is returned. <p>If the method has an {@link Override} annotation, but we couldn't resolve any method that is actually implemented, this will return {@link TypeSystem#UNRESOLVED_METHOD}.
31. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden(), //Returns true if this method is overridden.
32. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
33. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
34. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
5.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
6.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
7.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isJUnitMethod(node) || isTestConfigurationMethod(node) || isTestMethod(node) || isOverriddenMethod(node)) {
            return super.visit(node, data);
        }

        if (throwsSpecificException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsSpecificException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean throwsSpecificException(ASTMethodDeclaration node) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(Exception.class, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }

    private boolean throwsSpecificException(ASTConstructorDeclaration node) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(Exception.class, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }

    private boolean isJUnitMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node);
    }

    private boolean isTestConfigurationMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestConfigurationMethod(node);
    }

    private boolean isTestMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isOverriddenMethod(ASTMethodDeclaration node) {
        return node.isOverridden();
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第3轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
5. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
16. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //True if this is a junit @Test method (or a junit 3 method).
17. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
18. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTPackageDeclaration: public boolean equals(java.lang.Object)
23. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
24. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
25. net.sourceforge.pmd.lang.java.ast.ASTConstructorCall: public boolean isQualifiedInstanceCreation(), //Returns true if this expression begins with a primary expression. Such an expression creates an instance of inner member classes and their anonymous subclasses. For example, {@code new Outer().new Inner()} evaluates to an instance of the Inner class, which is nested inside the new instance of Outer.
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration getEnclosingType()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
28. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
29. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
30. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod(), //Returns the signature of the method this method overrides in a supertype. Note that this method may be implementing several methods of super-interfaces at once, in that case, an arbitrary one is returned. <p>If the method has an {@link Override} annotation, but we couldn't resolve any method that is actually implemented, this will return {@link TypeSystem#UNRESOLVED_METHOD}.
31. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden(), //Returns true if this method is overridden.
32. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
33. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
34. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
5.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
6.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
7.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isJUnitMethod(node) || isTestConfigurationMethod(node) || isTestMethod(node) || isOverriddenMethod(node)) {
            return super.visit(node, data);
        }

        if (throwsSpecificException(node, Exception.class)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsSpecificException(node, Exception.class)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean isJUnitMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node);
    }

    private boolean isTestConfigurationMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestConfigurationMethod(node);
    }

    private boolean isTestMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isOverriddenMethod(ASTMethodDeclaration node) {
        return node.isOverridden();
    }

    private boolean throwsSpecificException(ASTMethodDeclaration node, Class<?> exceptionClass) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(exceptionClass, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }

    private boolean throwsSpecificException(ASTConstructorDeclaration node, Class<?> exceptionClass) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(exceptionClass, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第4轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
5. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
16. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //True if this is a junit @Test method (or a junit 3 method).
17. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
18. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTPackageDeclaration: public boolean equals(java.lang.Object)
23. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
24. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
25. net.sourceforge.pmd.lang.java.ast.ASTConstructorCall: public boolean isQualifiedInstanceCreation(), //Returns true if this expression begins with a primary expression. Such an expression creates an instance of inner member classes and their anonymous subclasses. For example, {@code new Outer().new Inner()} evaluates to an instance of the Inner class, which is nested inside the new instance of Outer.
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration getEnclosingType()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
28. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
29. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
30. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod(), //Returns the signature of the method this method overrides in a supertype. Note that this method may be implementing several methods of super-interfaces at once, in that case, an arbitrary one is returned. <p>If the method has an {@link Override} annotation, but we couldn't resolve any method that is actually implemented, this will return {@link TypeSystem#UNRESOLVED_METHOD}.
31. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden(), //Returns true if this method is overridden.
32. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
33. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
34. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
5.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
6.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
7.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


出现语法错误，这一轮舍弃，直接重新生成
==========================第5轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
4. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
5. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getGenericSignature()
8. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
13. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnit3Method(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
14. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnnotationPresent(java.lang.Class), //Returns true if an annotation with the given type is applied to this node.
15. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
16. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //True if this is a junit @Test method (or a junit 3 method).
17. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
18. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getPackageName()
22. net.sourceforge.pmd.lang.java.ast.ASTPackageDeclaration: public boolean equals(java.lang.Object)
23. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
24. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTType getResultTypeNode()
25. net.sourceforge.pmd.lang.java.ast.ASTConstructorCall: public boolean isQualifiedInstanceCreation(), //Returns true if this expression begins with a primary expression. Such an expression creates an instance of inner member classes and their anonymous subclasses. For example, {@code new Outer().new Inner()} evaluates to an instance of the Inner class, which is nested inside the new instance of Outer.
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration getEnclosingType()
27. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
28. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isInterface()
29. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTClassOrInterfaceType> getSuperInterfaceTypeNodes()
30. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.types.JMethodSig getOverriddenMethod(), //Returns the signature of the method this method overrides in a supertype. Note that this method may be implementing several methods of super-interfaces at once, in that case, an arbitrary one is returned. <p>If the method has an {@link Override} annotation, but we couldn't resolve any method that is actually implemented, this will return {@link TypeSystem#UNRESOLVED_METHOD}.
31. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden(), //Returns true if this method is overridden.
32. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
33. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList(), //Returns the {@code throws} clause of this declaration, or null if there is none.
34. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Get the type of exception thrown in throw statement
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getThrownExceptionType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    return thrownType;
}
```
3.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
4.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
5.  //Check whether class has declared annotations
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.ast.NodeStream;
public boolean hasAnnotations(ASTClassOrInterfaceDeclaration node){
    NodeStream<ASTAnnotation> annotations = node.getDeclaredAnnotations();
    return annotations.nonEmpty();
}
```
6.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```
7.  //Check whether the return type of method is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnValueStringType(ASTMethodDeclaration method) {
    return TypeTestUtil.isA(String.class, method.getResultTypeNode());
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isJUnitMethod(node) || isTestConfigurationMethod(node) || isTestMethod(node) || isOverriddenMethod(node)) {
            return super.visit(node, data);
        }

        if (throwsSpecificException(node, Exception.class)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsSpecificException(node, Exception.class)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean isJUnitMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isJUnit3Method(node);
    }

    private boolean isTestConfigurationMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestConfigurationMethod(node);
    }

    private boolean isTestMethod(ASTMethodDeclaration node) {
        return TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isOverriddenMethod(ASTMethodDeclaration node) {
        return node.isOverridden();
    }

    private boolean throwsSpecificException(ASTMethodDeclaration node, Class<?> exceptionClass) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(exceptionClass, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }

    private boolean throwsSpecificException(ASTConstructorDeclaration node, Class<?> exceptionClass) {
        ASTThrowsList list = node.getThrowsList();
        if (list == null) {
            return false;
        } else {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(exceptionClass, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
5轮生成失败
结束

规则执行完毕，时间总花销： 10220.962480068207 秒
