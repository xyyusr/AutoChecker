开始

========================================== Rule SignatureDeclareThrowsExceptionRule ===========================================
一共 22 个测试用例
正例 15 个
反例 7 个
11
9
85
71
9
7
30
28
9
7
12
10
19
14
90
76
97
81
157
137
12
10
40
37
15
13
10
8
107
91
23
19
96
79
27
17
85
71
92
78
12
10
97
91
144
127
96
80
11
8
38
34
12
9
=========================logics=========================
1. Get the name of class.
2. Check whether the class has a method.
3. Get the name of method.
4. Check whether the method signature throws x Exception.
5. Check whether the thrown exception is java.lang.Exception.
If the method throws java.lang.Exception, then this test case violates the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has a method.* 匹配到的元操作或API：
query: Check whether the class has a method.
most similar API: Check whether is test method
cosine Similarity: 0.8624287843704224
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the method signature throws x Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws x Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9918776750564575
*Check whether the thrown exception is java.lang.Exception.* 匹配到的元操作或API：
query: Check whether the thrown exception is java.lang.Exception.
most similar API: Check whether is just rethrow exception
cosine Similarity: 0.8253034353256226
=========================logics=========================
1. Get the name of class.
2. Check whether the class is public.
3. Get the name of method.
4. Check whether the method signature throws java.lang.Exception.
If the method signature doesn't explicitly throw java.lang.Exception, this test case adheres to the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class is public.* 匹配到的元操作或API：
logic: Check whether the class is public.
most similar meta operation: Check whether the class is public
cosine Similarity: 0.9849746227264404
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
125
108
=========================logics=========================
1. Get the name of constructor.
2. Check whether the constructor signature throws x Exception.
3. Check whether the x is java.lang.Exception.
If the constructor explicitly throws java.lang.Exception, then this test case violates the rule.
*Get the name of constructor.* 匹配到的元操作或API：
logic: Get the name of constructor.
most similar meta operation: Get the name of constructor
cosine Similarity: 0.9789292812347412
*Check whether the constructor signature throws x Exception.* 匹配到的元操作或API：
logic: Check whether the constructor signature throws x Exception.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.9923062324523926
*Check whether the x is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the x is java.lang.Exception.
most similar meta operation: Check whether the exception type thrown by the throw statement is x
cosine Similarity: 0.8783167004585266
84
70
=========================logics=========================
1. Get the name of constructor.
2. Get the throw exception in constructor signature.
3. Check whether the exception type thrown by the constructor signature is java.lang.Exception.
If the exception type thrown by the constructor signature is not java.lang.Exception, then this test case doesn't violate the rule.
*Get the name of constructor.* 匹配到的元操作或API：
logic: Get the name of constructor.
most similar meta operation: Get the name of constructor
cosine Similarity: 0.9789292812347412
*Get the throw exception in constructor signature.* 匹配到的元操作或API：
logic: Get the throw exception in constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9500002861022949
*Check whether the exception type thrown by the constructor signature is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the exception type thrown by the constructor signature is java.lang.Exception.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.8722795248031616
=========================logics=========================
1. Get the name of method.
2. Check whether the method signature throws Exception.
If no method throws the generic java.lang.Exception, then this test case doesn't violate the rule.
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the method signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9370797276496887
94
78
=========================logics=========================
1. Get the name of class.
2. Check whether the class has extended TestCase class.
3. Get the name of method.
4. Check whether the name of method is "setUp".
5. Get the throw exception in method signature.
6. Check whether the exception thrown by the method is java.lang.Exception.
If the class extends TestCase and the method name is "setUp" and the method doesn't throw java.lang.Exception, then this test case doesn't violate the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has extended TestCase class.* 匹配到的元操作或API：
logic: Check whether the class has extended TestCase class.
most similar meta operation: Check whether the class has extended x class
cosine Similarity: 0.8671178817749023
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the name of method is "setUp".* 匹配到的元操作或API：
query: Check whether the name of method is "setUp".
most similar API: Check whether is test configuration method: Returns true if this is a Before/setUp method or After/tearDown.
cosine Similarity: 0.817758321762085
*Get the throw exception in method signature.* 匹配到的元操作或API：
logic: Get the throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9586695432662964
*Check whether the exception thrown by the method is java.lang.Exception.* 匹配到的元操作或API：
query: Check whether the exception thrown by the method is java.lang.Exception.
most similar API: Check whether is just rethrow exception
cosine Similarity: 0.810805082321167
=========================logics=========================
1. Get the name of class.
2. Check whether the class has extended TestCase class.
3. Get all methods declared in the class.
4. Get the name of method.
5. Check whether the method name is "tearDown".
6. Get a throw exception in method signature.
7. Check whether the method signature throws java.lang.Exception.
If the class is a subclass of TestCase and the tearDown method explicitly throws java.lang.Exception, then this test case does not violate the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has extended TestCase class.* 匹配到的元操作或API：
logic: Check whether the class has extended TestCase class.
most similar meta operation: Check whether the class has extended x class
cosine Similarity: 0.8671178817749023
*Get all methods declared in the class.* 匹配到的元操作或API：
query: Get all methods declared in the class.
most similar API: get declared annotations of method
cosine Similarity: 0.837310254573822
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the method name is "tearDown".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
99
82
=========================logics=========================
1. Get the name of method.
2. Check whether the method is a junit method.
3. Get a throw exception in method signature.
4. Check whether the method signature throws java.lang.Exception.
If the method is a junit method and throws java.lang.Exception, then this test case violates the rule.
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the method is a junit method.* 匹配到的元操作或API：
logic: Check whether the method is a junit method.
most similar meta operation: Check whether the method is a junit method
cosine Similarity: 0.9799772500991821
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
=========================logics=========================
1. Get the name of class.
2. Check whether the class is extending TestCase.
3. Get all methods in class.
4. Get the name of method.
5. Get a throw exception in method signature.
6. Check whether the method signature throws java.lang.Exception.
If a method in a class that extends TestCase throws java.lang.Exception, then this test case violates the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class is extending TestCase.* 匹配到的元操作或API：
query: Check whether the class is extending TestCase.
most similar API: Check whether is test class
cosine Similarity: 0.8177338242530823
*Get all methods in class.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
=========================logics=========================
1. Get the name of class
2. Check whether the class has extended TestCase class
3. Get all methods declared in class
4. For each method, perform the following checks:
    5. Get the name of method
    6. Get a throw exception in method signature
    7. Check whether the method signature throws Exception
If any method in the class that extends TestCase explicitly throws Exception, then this test case violates the rule.
*Get the name of class* 匹配到的元操作或API：
logic: Get the name of class
most similar meta operation: Get the name of class
cosine Similarity: 1.0
*Check whether the class has extended TestCase class* 匹配到的元操作或API：
logic: Check whether the class has extended TestCase class
most similar meta operation: Check whether the class has extended x class
cosine Similarity: 0.8740730881690979
*Get all methods declared in class* 匹配到的元操作或API：
query: Get all methods declared in class
most similar API: get declared annotations of method
cosine Similarity: 0.8488175868988037
*For each method, perform the following checks:* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the name of method* 匹配到的元操作或API：
logic: Get the name of method
most similar meta operation: Get the name of method
cosine Similarity: 1.0000001192092896
*Get a throw exception in method signature* 匹配到的元操作或API：
logic: Get a throw exception in method signature
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 1.0
*Check whether the method signature throws Exception* 匹配到的元操作或API：
logic: Check whether the method signature throws Exception
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9462030529975891
=========================logics=========================
1. Get the name of class.
2. Check whether the class has extended net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase class.
3. Get all methods declared in class.
4. Get the name of method.
5. Check whether the name of method is setUp.
6. Get a throw exception in method signature.
7. Check whether the method signature throws java.lang.Exception.
If the class extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase and the method named setUp throws java.lang.Exception, it does not violate the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has extended net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase class.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get all methods declared in class.* 匹配到的元操作或API：
query: Get all methods declared in class.
most similar API: get declared annotations of method
cosine Similarity: 0.8366352915763855
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the name of method is setUp.* 匹配到的元操作或API：
query: Check whether the name of method is setUp.
most similar API: Check whether is test configuration method
cosine Similarity: 0.8135156035423279
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
=========================logics=========================
1. Get the name of method
2. Check whether the method is setUp
3. Get the super class of class
4. Check whether the super class of class is TestCase
5. Get a throw exception in method signature
6. Check whether the method signature throws Exception
If the method is setUp, belongs to a class that extends from TestCase, and throws Exception, then it doesn't violate the rule.
*Get the name of method* 匹配到的元操作或API：
logic: Get the name of method
most similar meta operation: Get the name of method
cosine Similarity: 1.0000001192092896
*Check whether the method is setUp* 匹配到的元操作或API：
query: Check whether the method is setUp
most similar API: Check whether is test method
cosine Similarity: 0.8310807347297668
*Get the super class of class* 匹配到的元操作或API：
logic: Get the super class of class
most similar meta operation: Get the super class of class
cosine Similarity: 1.0000001192092896
*Check whether the super class of class is TestCase* 匹配到的元操作或API：
query: Check whether the super class of class is TestCase
most similar API: Check whether is test class
cosine Similarity: 0.8387585282325745
*Get a throw exception in method signature* 匹配到的元操作或API：
logic: Get a throw exception in method signature
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 1.0
*Check whether the method signature throws Exception* 匹配到的元操作或API：
logic: Check whether the method signature throws Exception
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9462030529975891
=========================logics=========================
1. Get the name of class.
2. Check whether the class has extended "MyTestCase" class.
3. Get all methods declared in class.
4. Get the name of method.
5. Check whether the name of method is "setUp".
6. Get a throw exception in method signature.
7. Check whether the method signature throws "java.lang.Exception".
If the class extends MyTestCase and the method name is setUp and it throws java.lang.Exception, then this test case violate the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has extended "MyTestCase" class.* 匹配到的元操作或API：
logic: Check whether the class has extended "MyTestCase" class.
most similar meta operation: Check whether the class has extended x class
cosine Similarity: 0.862124502658844
*Get all methods declared in class.* 匹配到的元操作或API：
query: Get all methods declared in class.
most similar API: get declared annotations of method
cosine Similarity: 0.8366352915763855
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the name of method is "setUp".* 匹配到的元操作或API：
query: Check whether the name of method is "setUp".
most similar API: Check whether is test configuration method: Returns true if this is a Before/setUp method or After/tearDown.
cosine Similarity: 0.817758321762085
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws "java.lang.Exception".* 匹配到的元操作或API：
logic: Check whether the method signature throws "java.lang.Exception".
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9187702536582947
89
74
=========================logics=========================
1. Get the name of class.
2. Get the super class of class.
3. Check whether the super class is TestCase.
4. Check whether the class is in the package "net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception".
5. Get a declared method of class.
6. Get the name of method.
7. Check whether the name of the method is "setUp".
8. Get a throw exception in method signature.
9. Check whether the method signature throws Exception.
If the method named "setUp" in the class which extends "TestCase" and is in the package "net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception" is declared to throw Exception, then this test case does not violate the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Get the super class of class.* 匹配到的元操作或API：
logic: Get the super class of class.
most similar meta operation: Get the super class of class
cosine Similarity: 0.9851946830749512
*Check whether the super class is TestCase.* 匹配到的元操作或API：
query: Check whether the super class is TestCase.
most similar API: Check whether is test class
cosine Similarity: 0.8292219638824463
*Check whether the class is in the package "net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get a declared method of class.* 匹配到的元操作或API：
logic: Get a declared method of class.
most similar meta operation: Get a declared annotation of method
cosine Similarity: 0.8843303918838501
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the name of the method is "setUp".* 匹配到的元操作或API：
query: Check whether the name of the method is "setUp".
most similar API: Check whether is test configuration method: Returns true if this is a Before/setUp method or After/tearDown.
cosine Similarity: 0.8174347281455994
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9370797276496887
94
78
96
80
98
81
=========================logics=========================
1. Get the name of class.
2. Check whether the class has methods.
3. Get the methods declared in class.
4. Get a throw exception in method signature.
5. Check whether the method signature throws java.lang.Exception.
6. Check whether the class has constructors.
7. Get the constructors declared in class.
8. Get a throw exception in constructor signature.
9. Check whether the constructor signature throws java.lang.Exception.
If neither the method nor the constructor in the class explicitly throws the java.lang.Exception, then this test case adheres to the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has methods.* 匹配到的元操作或API：
query: Check whether the class has methods.
most similar API: Check whether is test method
cosine Similarity: 0.8479976654052734
*Get the methods declared in class.* 匹配到的元操作或API：
logic: Get the methods declared in class.
most similar meta operation: Get method declaration from method call
cosine Similarity: 0.8509418964385986
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
*Check whether the class has constructors.* 匹配到的元操作或API：
query: Check whether the class has constructors.
most similar API: Check whether is declared in class
cosine Similarity: 0.8039739727973938
*Get the constructors declared in class.* 匹配到的元操作或API：
query: Get the constructors declared in class.
most similar API: get declarations of class or interface
cosine Similarity: 0.8157533407211304
*Get a throw exception in constructor signature.* 匹配到的元操作或API：
logic: Get a throw exception in constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9784085154533386
*Check whether the constructor signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the constructor signature throws java.lang.Exception.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.9259018898010254
=========================logics=========================
1. Get the name of class.
2. Check whether the class has extended TestCase.
3. Get all methods declared in class.
4. Get the name of method.
5. Check whether the method name starts with 'test'.
6. Get a throw exception in method signature.
7. Check whether the exception type thrown by the method signature is java.lang.Exception.
If the class extends TestCase and the method name starts with 'test' and the method does not explicitly throw java.lang.Exception, then this test case does not violate the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has extended TestCase.* 匹配到的元操作或API：
logic: Check whether the class has extended TestCase.
most similar meta operation: Check whether the class has extended x class
cosine Similarity: 0.8571276664733887
*Get all methods declared in class.* 匹配到的元操作或API：
query: Get all methods declared in class.
most similar API: get declared annotations of method
cosine Similarity: 0.8366352915763855
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Check whether the method name starts with 'test'.* 匹配到的元操作或API：
query: Check whether the method name starts with 'test'.
most similar API: Check whether is test method
cosine Similarity: 0.8444705605506897
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the exception type thrown by the method signature is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the exception type thrown by the method signature is java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8689801096916199
149
133
106
91
83
69
156
136
94
78
116
101
=========================logics=========================
1. Get the name of method.
2. Get a throw exception in method signature.
3. Check whether the method signature throws java.lang.Exception.
If the method signature throws java.lang.Exception, then this test case violates the rule.
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
94
78
156
136
90
76
=========================logics=========================
1. Get the name of class.
2. Check whether the class has methods.
3. For each method, get the list of exceptions it throws.
4. Check whether any thrown exception is java.lang.Exception.
5. Check whether the class has constructors.
6. For each constructor, get the list of exceptions it throws.
7. Check whether any thrown exception is java.lang.Exception.
If none of the methods or constructors in the class explicitly throw java.lang.Exception, the test case adheres to the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class has methods.* 匹配到的元操作或API：
query: Check whether the class has methods.
most similar API: Check whether is test method
cosine Similarity: 0.8479976654052734
*For each method, get the list of exceptions it throws.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether any thrown exception is java.lang.Exception.* 匹配到的元操作或API：
query: Check whether any thrown exception is java.lang.Exception.
most similar API: Check whether has exception list
cosine Similarity: 0.8264526128768921
*Check whether the class has constructors.* 匹配到的元操作或API：
query: Check whether the class has constructors.
most similar API: Check whether is declared in class
cosine Similarity: 0.8039739727973938
*For each constructor, get the list of exceptions it throws.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether any thrown exception is java.lang.Exception.* 匹配到的元操作或API：
query: Check whether any thrown exception is java.lang.Exception.
most similar API: Check whether has exception list
cosine Similarity: 0.8264526128768921
=========================logics=========================
1. Get the name of interface.
2. Get the method from the interface.
3. Check whether the method signature throws Exception.
4. Get the name of the class.
5. Check whether the class has implemented the interface.
6. Get the method from the class.
7. Check whether the method is overridden.
8. Check whether the overridden method signature throws Exception.
If the method from the interface and the overridden method in the class both throw the generic java.lang.Exception, then this test case violates the rule.
*Get the name of interface.* 匹配到的元操作或API：
logic: Get the name of interface.
most similar meta operation: Get the name of interface
cosine Similarity: 0.9824905395507812
*Get the method from the interface.* 匹配到的元操作或API：
query: Get the method from the interface.
most similar API: get parent of method
cosine Similarity: 0.8107149600982666
*Check whether the method signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9370797276496887
*Get the name of the class.* 匹配到的元操作或API：
logic: Get the name of the class.
most similar meta operation: Get the name of class
cosine Similarity: 0.968898594379425
*Check whether the class has implemented the interface.* 匹配到的元操作或API：
logic: Check whether the class has implemented the interface.
most similar meta operation: Check whether the class has implemented x interface
cosine Similarity: 0.9140353202819824
*Get the method from the class.* 匹配到的元操作或API：
query: Get the method from the class.
most similar API: get class of method
cosine Similarity: 0.8367501497268677
*Check whether the method is overridden.* 匹配到的元操作或API：
logic: Check whether the method is overridden.
most similar meta operation: Check whether the method is overridden
cosine Similarity: 0.9829655885696411
*Check whether the overridden method signature throws Exception.* 匹配到的元操作或API：
logic: Check whether the overridden method signature throws Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.8924590349197388
=========================logics=========================
1. Get the name of constructor.
2. Check whether the constructor is public.
3. Get a throw exception in constructor signature.
4. Check whether the exception type thrown by the constructor signature is java.lang.Exception.
If the constructor explicitly throws java.lang.Exception, then this test case violate the rule.
*Get the name of constructor.* 匹配到的元操作或API：
logic: Get the name of constructor.
most similar meta operation: Get the name of constructor
cosine Similarity: 0.9789292812347412
*Check whether the constructor is public.* 匹配到的元操作或API：
logic: Check whether the constructor is public.
most similar meta operation: Check whether the constructor is public
cosine Similarity: 0.985020637512207
*Get a throw exception in constructor signature.* 匹配到的元操作或API：
logic: Get a throw exception in constructor signature.
most similar meta operation: Get a throw exception in constructor signature
cosine Similarity: 0.9784085154533386
*Check whether the exception type thrown by the constructor signature is java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the exception type thrown by the constructor signature is java.lang.Exception.
most similar meta operation: Check whether the constructor signature throws x Exception
cosine Similarity: 0.8722795248031616
95
78
96
79
81
67
96
80
=========================logics=========================
1. Get the name of class.
2. Check whether the class is public.
3. Check whether the class is final.
4. Get the name of inner class.
5. Check whether the inner class extends x class.
6. Check whether the inner class extends Exception.
7. Check whether the inner class has x annotation.
8. Check whether the inner class has Weird annotation.
If the inner class extends the generic Exception and has the Weird annotation, then this test case violates the rule.
*Get the name of class.* 匹配到的元操作或API：
logic: Get the name of class.
most similar meta operation: Get the name of class
cosine Similarity: 0.9738673567771912
*Check whether the class is public.* 匹配到的元操作或API：
logic: Check whether the class is public.
most similar meta operation: Check whether the class is public
cosine Similarity: 0.9849746227264404
*Check whether the class is final.* 匹配到的元操作或API：
logic: Check whether the class is final.
most similar meta operation: Check whether the class is final
cosine Similarity: 0.9887726306915283
*Get the name of inner class.* 匹配到的元操作或API：
logic: Get the name of inner class.
most similar meta operation: Get the name of class
cosine Similarity: 0.8755847811698914
*Check whether the inner class extends x class.* 匹配到的元操作或API：
logic: Check whether the inner class extends x class.
most similar meta operation: Check whether the class has extended x class
cosine Similarity: 0.913758397102356
*Check whether the inner class extends Exception.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the inner class has x annotation.* 匹配到的元操作或API：
logic: Check whether the inner class has x annotation.
most similar meta operation: Check whether the class has x annotation
cosine Similarity: 0.9544620513916016
*Check whether the inner class has Weird annotation.* 匹配到的元操作或API：
query: Check whether the inner class has Weird annotation.
most similar API: Check whether the class or interface is any annotation present
cosine Similarity: 0.8330487608909607
=========================logics=========================
1. Get the name of method.
    2. Get a declared annotation of method.
    3. Check whether the method has TestNG annotations.
    4. Get a throw exception in method signature.
    5. Check whether the method signature throws java.lang.Exception.
    If the method has TestNG annotations and it throws java.lang.Exception, then this test case does not violate the rule.

*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Get a declared annotation of method.* 匹配到的元操作或API：
logic: Get a declared annotation of method.
most similar meta operation: Get a declared annotation of method
cosine Similarity: 0.9867770671844482
*Check whether the method has TestNG annotations.* 匹配到的元操作或API：
logic: Check whether the method has TestNG annotations.
most similar meta operation: Check whether method has declared annotations
cosine Similarity: 0.8716460466384888
*Get a throw exception in method signature.* 匹配到的元操作或API：
logic: Get a throw exception in method signature.
most similar meta operation: Get a throw exception in method signature
cosine Similarity: 0.9811146259307861
*Check whether the method signature throws java.lang.Exception.* 匹配到的元操作或API：
logic: Check whether the method signature throws java.lang.Exception.
most similar meta operation: Check whether the method signature throws x Exception
cosine Similarity: 0.9262213706970215
==========================第1轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
4. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
5. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
8. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
9. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
11. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
13. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
14. net.sourceforge.pmd.lang.java.types.TypeTestUtil: static public boolean isDeclaredInClass(java.lang.Class, net.sourceforge.pmd.lang.java.types.JMethodSig), //Returns true if the signature is that of a method declared in the given class. @param klass Class @param sig   Method signature to test @throws NullPointerException If any argument is null
15. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
16. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
17. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.Class<Class<?> getClass()
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isPublic()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isFinal()
22. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection)
23. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
4.  //Check whether the class has extended x class
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean extendsSpecificClass(ASTClassOrInterfaceDeclaration node){
    ASTClassOrInterfaceType classOrInterfaceType = node.getSuperClassTypeNode();
    return TypeTestUtil.isA(x.class, classOrInterfaceType);
}
```
5.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```
6.  //Check whether the class has implemented x interface
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean hasImplementComparable(ASTClassOrInterfaceDeclaration node) {
    if (TypeTestUtil.isA(interfaceName.class, node)) {
        return true;
    }
    return false;
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (throwsException(node) && !isAllowed(node)) {
            addViolation(data, node);
        }
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (throwsException(node) && !isAllowed(node)) {
            addViolation(data, node);
        }
        return super.visit(node, data);
    }

    private boolean throwsException(ASTMethodOrConstructorDeclaration node){
        ASTThrowsList list = node.getThrowsList();
        if(list == null){
            return false;
        }else{
            for(ASTClassOrInterfaceType classOrInterfaceType : list){
                if(TypeTestUtil.isA(Exception.class, classOrInterfaceType)){
                    return true;
                }
            }
        }
        return false;
    }

    private boolean isAllowed(ASTMethodOrConstructorDeclaration node) {
        if (node instanceof ASTMethodDeclaration) {
            ASTMethodDeclaration method = (ASTMethodDeclaration) node;
            return TestFrameworksUtil.isTestMethod(method) || TestFrameworksUtil.isTestConfigurationMethod(method);
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第2轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
4. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
5. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
8. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
9. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
11. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
13. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
14. net.sourceforge.pmd.lang.java.types.TypeTestUtil: static public boolean isDeclaredInClass(java.lang.Class, net.sourceforge.pmd.lang.java.types.JMethodSig), //Returns true if the signature is that of a method declared in the given class. @param klass Class @param sig   Method signature to test @throws NullPointerException If any argument is null
15. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
16. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
17. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.Class<Class<?> getClass()
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isPublic()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isFinal()
22. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection)
23. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
4.  //Check whether the class has extended x class
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean extendsSpecificClass(ASTClassOrInterfaceDeclaration node){
    ASTClassOrInterfaceType classOrInterfaceType = node.getSuperClassTypeNode();
    return TypeTestUtil.isA(x.class, classOrInterfaceType);
}
```
5.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```
6.  //Check whether the class has implemented x interface
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean hasImplementComparable(ASTClassOrInterfaceDeclaration node) {
    if (TypeTestUtil.isA(interfaceName.class, node)) {
        return true;
    }
    return false;
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        // Skip JUnit's setup/teardown methods
        if (TestFrameworksUtil.isTestConfigurationMethod(node)) {
            return super.visit(node, data);
        }

        // Skip methods starting with 'test' for Junit3 and TestNG
        if (TestFrameworksUtil.isTestMethod(node)) {
            return super.visit(node, data);
        }

        // Check if the method throws a generic exception
        if (throwsGenericException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        // Check if the constructor throws a generic exception
        if (throwsGenericException(node)) {
            addViolation(data, node);
        }

        return super.visit(node, data);
    }

    private boolean throwsGenericException(ASTMethodOrConstructorDeclaration node) {
        ASTThrowsList throwsList = node.getThrowsList();
        if (throwsList != null) {
            for (ASTClassOrInterfaceType exceptionType : throwsList) {
                if (TypeTestUtil.isA(Exception.class, exceptionType) &&
                        !TypeTestUtil.isA(RuntimeException.class, exceptionType)) {
                    return true;
                }
            }
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第3轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
4. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
5. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
8. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
9. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
11. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
13. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
14. net.sourceforge.pmd.lang.java.types.TypeTestUtil: static public boolean isDeclaredInClass(java.lang.Class, net.sourceforge.pmd.lang.java.types.JMethodSig), //Returns true if the signature is that of a method declared in the given class. @param klass Class @param sig   Method signature to test @throws NullPointerException If any argument is null
15. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
16. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
17. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.Class<Class<?> getClass()
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isPublic()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isFinal()
22. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection)
23. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
4.  //Check whether the class has extended x class
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean extendsSpecificClass(ASTClassOrInterfaceDeclaration node){
    ASTClassOrInterfaceType classOrInterfaceType = node.getSuperClassTypeNode();
    return TypeTestUtil.isA(x.class, classOrInterfaceType);
}
```
5.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```
6.  //Check whether the class has implemented x interface
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean hasImplementComparable(ASTClassOrInterfaceDeclaration node) {
    if (TypeTestUtil.isA(interfaceName.class, node)) {
        return true;
    }
    return false;
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;

import java.lang.Class;
import java.lang.reflect.Method;
import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    private static final Class<?>[] TEST_METHODS_IN_TEST_CASE_WITHOUT_EXCEPTION = new Class<?>[] {
            "setUp", "tearDown", "setUpBeforeClass", "tearDownAfterClass" };
    private static final Set<String> TEST_METHODS_IN_TEST_CASE_WITHOUT_EXCEPTION_AS_SET = new HashSet<>(
            Arrays.asList(TEST_METHODS_IN_TEST_CASE_WITHOUT_EXCEPTION));
    
    public SignatureDeclareThrowsExceptionRule() {
        addRuleChainVisit(ASTMethodDeclaration.class);
        addRuleChainVisit(ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isInJUnit3Class(node) && isJUnit3Method(node)) {
            return data;
        }

        return checkExceptions(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        return checkExceptions(node, data);
    }

    private Object checkExceptions(ASTMethodOrConstructorDeclaration node, Object data) {
        ASTThrowsList throwsList = node.getFirstDescendantOfType(ASTThrowsList.class);
        if (throwsList != null) {
            throwsList.findChildrenOfType(ASTClassOrInterfaceType.class).stream()
                    .filter(t -> t.getType() != null && Throwable.class.isAssignableFrom(t.getType()))
                    .filter(t -> t.getType().equals(Exception.class))
                    .forEach(t -> addViolation(data, t));
        }
        return data;
    }

    private boolean isInJUnit3Class(ASTMethodOrConstructorDeclaration node) {
        ASTClassOrInterfaceDeclaration clz = node.getFirstParentOfType(ASTClassOrInterfaceDeclaration.class);

        if (clz == null) {
            return false;
        }

        return clz.getType() != null && junit.framework.TestCase.class.isAssignableFrom(clz.getType());
    }

    private boolean isJUnit3Method(ASTMethodOrConstructorDeclaration node) {
        if (node instanceof ASTMethodDeclaration) {
            Method m = ((ASTMethodDeclaration) node).getMethod();
            if (m != null) {
                return TEST_METHODS_IN_TEST_CASE_WITHOUT_EXCEPTION_AS_SET.contains(m.getName());
            }
        }

        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第4轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
4. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
5. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
8. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
9. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
11. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
13. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
14. net.sourceforge.pmd.lang.java.types.TypeTestUtil: static public boolean isDeclaredInClass(java.lang.Class, net.sourceforge.pmd.lang.java.types.JMethodSig), //Returns true if the signature is that of a method declared in the given class. @param klass Class @param sig   Method signature to test @throws NullPointerException If any argument is null
15. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
16. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
17. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.Class<Class<?> getClass()
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isPublic()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isFinal()
22. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection)
23. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
4.  //Check whether the class has extended x class
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean extendsSpecificClass(ASTClassOrInterfaceDeclaration node){
    ASTClassOrInterfaceType classOrInterfaceType = node.getSuperClassTypeNode();
    return TypeTestUtil.isA(x.class, classOrInterfaceType);
}
```
5.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```
6.  //Check whether the class has implemented x interface
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean hasImplementComparable(ASTClassOrInterfaceDeclaration node) {
    if (TypeTestUtil.isA(interfaceName.class, node)) {
        return true;
    }
    return false;
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.design;

import java.util.*;

import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    private static final Class<?>[] TEST_FRAMEWORKS = {
        junit.framework.TestCase.class,
        net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase.class,
        org.testng.annotations.Test.class
    };

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (!hasSpecificException(node) && !isJUnitMethod(node) && !isTestConfigurationMethod(node)) {
            addViolation(data, node);
        }
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (!hasSpecificException(node) && !isJUnitMethod(node)) {
            addViolation(data, node);
        }
        return super.visit(node, data);
    }

    private boolean hasSpecificException(ASTMethodOrConstructorDeclaration node){
        ASTThrowsList list = node.getThrowsList();
        return list != null && list.jjtGetNumChildren() > 0 && !isSpecificException(node);
    }

    private boolean isSpecificException(ASTMethodOrConstructorDeclaration node){
        ASTThrowsList list = node.getThrowsList();
        for(ASTClassOrInterfaceType type : list){
            if(TypeTestUtil.isA(Exception.class, type)){
                return false;
            }
        }
        return true;
    }

    private boolean isJUnitMethod(ASTMethodOrConstructorDeclaration node){
        return TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isTestMethod(node);
    }

    private boolean isTestConfigurationMethod(ASTMethodDeclaration node){
        if (TestFrameworksUtil.isTestConfigurationMethod(node)) {
            return true;
        }

        for (Class<?> clazz : TEST_FRAMEWORKS) {
            if (node.getParentsOfType(clazz).isNotEmpty()) {
                return node.getName().startsWith("test") || node.getName().equals("setUp") || node.getName().equals("tearDown");
            }
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第5轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: A method/constructor shouldn’t explicitly throw the generic java.lang.Exception.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// method throws Exception
public class Foo {
    void foo() throws Exception {}
}
```
2. This is a positive test case
```java
// ok
public class Foo {
    void foo() {}
}
```
3. This is a negative test case
```java
// constructor throws Exception
public class Foo {
    Foo() throws Exception {}
}
```
4. This is a positive test case
```java
// constructor throws IOException
import java.io.IOException;
            public class Foo {
                Foo() throws IOException { }
            }
```
5. This is a positive test case
```java
// method throws IOException
import java.io.IOException;
            public class Foo {
                void foo() throws IOException { }
            }
```
6. This is a positive test case
```java
// skip junit3 setUp method
import junit.framework.*;
public class Foo extends TestCase {
    void setUp() throws Exception {}
}
```
7. This is a positive test case
```java
// skip junit3 tearDown method
import junit.framework.*;
public class Foo extends TestCase {
    void tearDown() throws Exception {}
}
```
8. This is a positive test case
```java
// JUnit 4 testcase
import org.junit.*;
public class Foo {
    @Before
    void setUp() throws Exception {}
}
```
9. This is a negative test case
```java
// Don't skip other methods
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
10. This is a negative test case
```java
import junit.framework.*;
public class Foo extends TestCase {
    void bar() throws Exception {}
}
```
11. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase
public class Foo extends net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase {
    void setUp() throws Exception {}
}
```
12. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, imported explicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
13. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase, but is imported implicitly
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.*;
public class Foo extends MyTestCase {
 void setUp() throws Exception {}
}
```
14. This is a positive test case
```java
// skip junit setUp method where the superclass is TestCase  and is in the same package
package net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception;

public class Foo extends MyTestCase {
    void setUp() throws Exception {}
}
```
15. This is a positive test case
```java
// Generics
public class Foo {
    public <T> Bar<T> foo() { /* blah */}
}
class Bar<X> {}
```
16. This is a positive test case
```java
// skip any method starting with 'test' for junit3
import junit.framework.*;
public class FooTest extends TestCase {
    public void testFoo() throws Exception {}
}
```
17. This is a negative test case
```java
// #913 SignatureDeclareThrowsException is raised twice
import javax.swing.SwingWorker;
public class BugSignature {
  public void record() {
    SwingWorker worker = new SwingWorker() {
      protected String construct() throws Exception {
        //
      }
    };
  }
}
```
18. This is a positive test case
```java
// #1535 [java] SignatureDeclareThrowsException: ClassCastException with Annotation
import java.util.List;
public class UnmodifiableList<T> implements @Readonly List<@Readonly T> {}
@interface Readonly {}
```
19. This is a negative test case
```java
// #350 allow throws exception when overriding a method defined elsewhere
public class BugSignature implements LousyInterface {
    @Override
    public void record() throws Exception {
    }
}
interface LousyInterface {
    void record() throws Exception; // <-- this is reported
}
```
20. This is a negative test case
```java
import junit.framework.*;

public class JUnitAnnotationTest extends TestCase {
    public JUnitAnnotationTest() throws Exception {
    }
}
```
21. This is a positive test case
```java
// #1369 ClassCastException in annotated extends
import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

public final class Namespace {

    @Target(ElementType.TYPE_USE)
    public @interface Weird {
    }

    public class WeirdException extends @Weird Exception {
    }

}
```
22. This is a positive test case
```java
// #4477:[java] SignatureDeclareThrowsException: false-positive with TestNG annotations
import net.sourceforge.pmd.lang.java.rule.design.signaturedeclarethrowsexception.MyTestCase;
public class Foo extends MyTestCase {
    @org.testng.annotations.AfterClass
    void setUp() throws Exception {}
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.design;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public java.lang.String getSimpleName()
2. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is either a JUnit test or a TestNG test.
3. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
4. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isJustRethrowException(net.sourceforge.pmd.lang.java.ast.ASTCatchClause), //Return true if the catch clause just rethrows the caught exception immediately.
5. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isPublic()
6. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public java.lang.String getName()
7. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
8. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestConfigurationMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration), //Returns true if this is a Before/setUp method or After/tearDown.
9. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTThrowsList getThrowsList()
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<ASTAnnotation> getDeclaredAnnotations()
11. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isJUnitMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
12. net.sourceforge.pmd.lang.java.rule.internal.TestFrameworksUtil: static public boolean isTestClass(net.sourceforge.pmd.lang.java.ast.ASTAnyTypeDeclaration)
13. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceType getSuperClassTypeNode()
14. net.sourceforge.pmd.lang.java.types.TypeTestUtil: static public boolean isDeclaredInClass(java.lang.Class, net.sourceforge.pmd.lang.java.types.JMethodSig), //Returns true if the signature is that of a method declared in the given class. @param klass Class @param sig   Method signature to test @throws NullPointerException If any argument is null
15. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public net.sourceforge.pmd.lang.ast.NodeStream<NodeStream<T> getDeclarations(java.lang.Class)
16. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean hasExceptionList(net.sourceforge.pmd.lang.java.ast.ASTMethodOrConstructorDeclaration, [Ljava.lang.Class;)
17. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.Class<Class<?> getClass()
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isOverridden()
20. net.sourceforge.pmd.lang.java.ast.ASTConstructorDeclaration: public boolean isPublic()
21. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isFinal()
22. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection)
23. net.sourceforge.pmd.lang.java.ast.ASTClassOrInterfaceDeclaration: public boolean isAnyAnnotationPresent(java.util.Collection), //Checks whether any annotation is present on this node. @param binaryNames            Collection that contains binary names of annotations.            Note: for now, canonical names are tolerated, this may be changed in PMD 7. @return <code>true</code> if any annotation is present on this node, else <code>false</code>

1.  //Check whether the method signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTMethodDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
2.  //Check whether the constructor signature throws x Exception
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean throwsSpecificException(ASTConstructorDeclaration node){
    ASTThrowsList list = node.getThrowsList();
    if(list == null){
        return false;
    }else{
        for(ASTClassOrInterfaceType classOrInterfaceType : list){
            if(TypeTestUtil.isA(x.class, classOrInterfaceType)){
                return true;
            }
        }
    }
    return false;
}
```
3.  //Check whether the exception type thrown by the throw statement is x
```java
import net.sourceforge.pmd.lang.java.ast.ASTThrowStatement;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isThrownExceptionxType(ASTThrowStatement node) {
    JTypeMirror thrownType = node.getExpr().getTypeMirror();
    if(TypeTestUtil.isA(x.class, thrownType)){
        return true;
    }
    return false;
}
```
4.  //Check whether the class has extended x class
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean extendsSpecificClass(ASTClassOrInterfaceDeclaration node){
    ASTClassOrInterfaceType classOrInterfaceType = node.getSuperClassTypeNode();
    return TypeTestUtil.isA(x.class, classOrInterfaceType);
}
```
5.  //Get method declaration from method call
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.symbols.JMethodSymbol;
public ASTMethodDeclaration getMethodFromMethodCall(ASTMethodCall method){
    JMethodSymbol symbol = (JMethodSymbol)method.getMethodType().getSymbol();
    ASTMethodDeclaration declaration = symbol.tryGetNode();
    return declaration;
}
```
6.  //Check whether the class has implemented x interface
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean hasImplementComparable(ASTClassOrInterfaceDeclaration node) {
    if (TypeTestUtil.isA(interfaceName.class, node)) {
        return true;
    }
    return false;
}
```
7.  //Check whether method has declared annotations
```java
import net.sourceforge.pmd.lang.ast.NodeStream;
import net.sourceforge.pmd.lang.java.ast.*;
public boolean hasAnnotation(ASTMethodDeclaration node){
    NodeStream<ASTAnnotation> declaredAnnotations = node.getDeclaredAnnotations();
    return declaredAnnotations.nonEmpty();
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class SignatureDeclareThrowsExceptionRule extends AbstractJavaRulechainRule {

    public SignatureDeclareThrowsExceptionRule() {
        super(ASTMethodDeclaration.class, ASTConstructorDeclaration.class);
    }

    @Override
    public Object visit(ASTMethodDeclaration node, Object data) {
        if (isExceptionDeclared(node)) {
            if (TestFrameworksUtil.isJUnitMethod(node) || TestFrameworksUtil.isTestConfigurationMethod(node)) {
                return super.visit(node, data);
            }
            if (node.getName().startsWith("test")) {
                return super.visit(node, data);
            }
            addViolation(data, node);
        }
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTConstructorDeclaration node, Object data) {
        if (isExceptionDeclared(node)) {
            addViolation(data, node);
        }
        return super.visit(node, data);
    }

    private boolean isExceptionDeclared(ASTMethodOrConstructorDeclaration node) {
        ASTThrowsList list = node.getThrowsList();
        if (list != null) {
            for (ASTClassOrInterfaceType classOrInterfaceType : list) {
                if (TypeTestUtil.isA(Exception.class, classOrInterfaceType)) {
                    return true;
                }
            }
        }
        return false;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
5轮生成失败
结束

规则执行完毕，时间总花销： 941.267852306366 秒
