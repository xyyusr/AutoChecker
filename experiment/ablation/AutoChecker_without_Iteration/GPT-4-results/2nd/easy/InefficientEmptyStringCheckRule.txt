开始

========================================== Rule InefficientEmptyStringCheckRule ===========================================
一共 18 个测试用例
正例 8 个
反例 10 个
149
133
96
81
11
9
85
71
38
34
9
7
83
69
30
28
9
7
12
10
19
14
90
76
97
81
157
137
12
10
40
37
15
13
10
8
107
91
94
78
96
79
23
19
84
69
27
17
111
94
85
71
100
82
92
78
12
10
116
101
97
91
144
127
11
8
114
98
93
78
12
9
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is an infix expression.
3. Get the left operand of infix expression.
4. Check whether the left operand is a method call.
5. Get the name of called method.
6. Check whether the name of called method is length.
7. Get the method caller.
8. Check whether the method caller is a method call.
9. Get the name of called method.
10. Check whether the name of called method is trim.
11. Get the right operand of infix expression.
12. Check whether the right operand is an int literal with value 0.
If the condition of if statement is an infix expression where the left operand is a method call with name length and the method caller is a method call with name trim, and the right operand is an int literal with value 0, then this test case violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a method call.* 匹配到的元操作或API：
query: Check whether the left operand is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8237406015396118
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name of called method is length.* 匹配到的元操作或API：
query: Check whether the name of called method is length.
most similar API: Check whether the method call equals
cosine Similarity: 0.8038016557693481
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is a method call.* 匹配到的元操作或API：
query: Check whether the method caller is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8533448576927185
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name of called method is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is an int literal with value 0.* 匹配到的元操作或API：
logic: Check whether the right operand is an int literal with value 0.
most similar meta operation: Check whether the numeric literal is int literal
cosine Similarity: 0.8601043820381165
=========================logics=========================
1. Get the condition of if statement.
2. Get the left operand of infix expression.
3. Check whether the left operand of infix expression is method call.
4. Get the name of called method.
5. Check whether the name is length.
6. Get the method caller.
7. Check whether the method caller is method call.
8. Get the name of the called method.
9. Check whether the name is trim.
10. Check whether the right operand of infix expression is int type.
11. Check whether the right operand of the infix expression is equal to 0.
If the condition of if statement is a method call where the method name is length and the method caller is another method call where the method name is trim and the right operand of the infix expression is int type and equal to 0, then this test case violates the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand of infix expression is method call.* 匹配到的元操作或API：
query: Check whether the left operand of infix expression is method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8442190885543823
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is length.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is method call.* 匹配到的元操作或API：
query: Check whether the method caller is method call.
most similar API: Check whether is call on this instance
cosine Similarity: 0.8721847534179688
*Get the name of the called method.* 匹配到的元操作或API：
logic: Get the name of the called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9750091433525085
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the right operand of infix expression is int type.* 匹配到的元操作或API：
logic: Check whether the right operand of infix expression is int type.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.8640907406806946
*Check whether the right operand of the infix expression is equal to 0.* 匹配到的元操作或API：
logic: Check whether the right operand of the infix expression is equal to 0.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.8797413110733032
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is equals.
3. Get the method caller.
4. Check whether the method caller is a method call.
5. Get the name of the called method of the method caller.
6. Check whether the name is trim.
7. Get the method caller of the method caller.
8. Check whether the type of method caller of the method caller is string type.
9. Get the argument of method call.
10. Check whether the argument is a string literal.
11. Get the value of string literal.
12. Check whether the string literal is empty.
If the method call is equals and the method caller of equals is a method call to trim and the method caller of trim is a string type and the argument of equals is an empty string literal, then it does not violate the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is equals.* 匹配到的元操作或API：
query: Check whether the name is equals.
most similar API: Check whether is equals method
cosine Similarity: 0.8145300149917603
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is a method call.* 匹配到的元操作或API：
query: Check whether the method caller is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8533448576927185
*Get the name of the called method of the method caller.* 匹配到的元操作或API：
logic: Get the name of the called method of the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9528388977050781
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller of the method caller.* 匹配到的元操作或API：
logic: Get the method caller of the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9095522165298462
*Check whether the type of method caller of the method caller is string type.* 匹配到的元操作或API：
logic: Check whether the type of method caller of the method caller is string type.
most similar meta operation: Check whether the method caller is string type
cosine Similarity: 0.9629333019256592
*Get the argument of method call.* 匹配到的元操作或API：
logic: Get the argument of method call.
most similar meta operation: Get an argument of called method
cosine Similarity: 0.9547275304794312
*Check whether the argument is a string literal.* 匹配到的元操作或API：
logic: Check whether the argument is a string literal.
most similar meta operation: Check whether the argument is string type
cosine Similarity: 0.9077170491218567
*Get the value of string literal.* 匹配到的元操作或API：
logic: Get the value of string literal.
most similar meta operation: Get the value of string literal
cosine Similarity: 0.983224630355835
*Check whether the string literal is empty.* 匹配到的元操作或API：
logic: Check whether the string literal is empty.
most similar meta operation: Check whether the string is empty
cosine Similarity: 0.9120838642120361
79
65
=========================logics=========================
1. Get the condition of the while statement.
2. Check whether the condition is infix expression.
3. Get the left operand of infix expression.
4. Check whether the operand is a method call.
5. Get the name of the called method.
6. Check whether the name of the method is "length".
7. Get the method caller.
8. Check whether the method caller is method call.
9. Get the name of the called method of the method caller.
10. Check whether the method caller is "trim".
If the condition of while statement is an infix expression with the left operand calling the length method on an object that is calling the trim method, then this test case violates the rule.
*Get the condition of the while statement.* 匹配到的元操作或API：
logic: Get the condition of the while statement.
most similar meta operation: Get the condition of while statement
cosine Similarity: 0.9793691039085388
*Check whether the condition is infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9096700549125671
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the operand is a method call.* 匹配到的元操作或API：
query: Check whether the operand is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8564256429672241
*Get the name of the called method.* 匹配到的元操作或API：
logic: Get the name of the called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9750091433525085
*Check whether the name of the method is "length".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is method call.* 匹配到的元操作或API：
query: Check whether the method caller is method call.
most similar API: Check whether is call on this instance
cosine Similarity: 0.8721847534179688
*Get the name of the called method of the method caller.* 匹配到的元操作或API：
logic: Get the name of the called method of the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9528388977050781
*Check whether the method caller is "trim".* 匹配到的元操作或API：
未匹配成功元操作或API
99
82
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is length.
3. Get the method caller.
4. Get the name of called method from the method caller.
5. Check whether the name is trim.
6. Check whether the return type of called method is int type.
If the called method name is length and it's called on a method caller named trim and the return type is int, then this test case does not violate the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is length.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of called method from the method caller.* 匹配到的元操作或API：
logic: Get the name of called method from the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9529526233673096
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the return type of called method is int type.* 匹配到的元操作或API：
logic: Check whether the return type of called method is int type.
most similar meta operation: Check whether the return type of called method is int type
cosine Similarity: 0.989007830619812
=========================logics=========================
1. Get the right operand of the assignment expression.
       2. Check whether the right operand is an infix expression.
       3. Get the left operand of the infix expression.
       4. Check whether the left operand is a method call.
       5. Get the name of the called method.
       6. Check whether the method name is "length".
       7. Get the method caller.
       8. Check whether the method caller is another method call.
       9. Get the name of the second called method.
       10. Check whether the second method name is "trim".
       If the right operand of the assignment is an infix expression, and its left operand is a method call to "length" on a result of another method call to "trim", then this test case violates the rule.
*Get the right operand of the assignment expression.* 匹配到的元操作或API：
logic: Get the right operand of the assignment expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.9825876355171204
*Check whether the right operand is an infix expression.* 匹配到的元操作或API：
logic: Check whether the right operand is an infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9103248119354248
*Get the left operand of the infix expression.* 匹配到的元操作或API：
logic: Get the left operand of the infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9858164191246033
*Check whether the left operand is a method call.* 匹配到的元操作或API：
query: Check whether the left operand is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8237406015396118
*Get the name of the called method.* 匹配到的元操作或API：
logic: Get the name of the called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9750091433525085
*Check whether the method name is "length".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is another method call.* 匹配到的元操作或API：
query: Check whether the method caller is another method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8584327697753906
*Get the name of the second called method.* 匹配到的元操作或API：
logic: Get the name of the second called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9070128202438354
*Check whether the second method name is "trim".* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is trim.
3. Get the method caller.
4. Check whether the type of method caller is string type.
5. Check whether the called method is followed by length or isEmpty method.
6. Get the right operand of the comparison operation.
7. Check whether the right operand is 0.
If the method name is trim and it is called on a string, and followed by either length or isEmpty method, and it is compared to 0, then this test case violates the rule. But in this case, it's not, so it doesn't violate the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the type of method caller is string type.* 匹配到的元操作或API：
logic: Check whether the type of method caller is string type.
most similar meta operation: Check whether the method caller is string type
cosine Similarity: 0.983098566532135
*Check whether the called method is followed by length or isEmpty method.* 匹配到的元操作或API：
query: Check whether the called method is followed by length or isEmpty method.
most similar API: Check whether the method call equals
cosine Similarity: 0.801401674747467
*Get the right operand of the comparison operation.* 匹配到的元操作或API：
logic: Get the right operand of the comparison operation.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8630653619766235
*Check whether the right operand is 0.* 匹配到的元操作或API：
query: Check whether the right operand is 0.
most similar API: Check whether is zero checked
cosine Similarity: 0.8188340663909912
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is "length".
3. Get the method caller.
4. Get the name of called method from the method caller.
5. Check whether the name is "trim".
6. Get the method caller from the method caller.
7. Get the type of method caller.
8. Check whether the type is string type.
9. Check whether the argument passed to the method is 0. 

The checks show that the method "length" is called on the result of the "trim" method, which is applied to a string. However, it seems like the result is not directly compared to 0, so this test case does not violate the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is "length".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of called method from the method caller.* 匹配到的元操作或API：
logic: Get the name of called method from the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9529526233673096
*Check whether the name is "trim".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller from the method caller.* 匹配到的元操作或API：
logic: Get the method caller from the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.8993944525718689
*Get the type of method caller.* 匹配到的元操作或API：
logic: Get the type of method caller.
most similar meta operation: Get the type of method caller
cosine Similarity: 0.9859350323677063
*Check whether the type is string type.* 匹配到的元操作或API：
logic: Check whether the type is string type.
most similar meta operation: Check whether the field is string type
cosine Similarity: 0.9109800457954407
*Check whether the argument passed to the method is 0.* 匹配到的元操作或API：
query: Check whether the argument passed to the method is 0.
most similar API: Check whether is zero checked
cosine Similarity: 0.8140933513641357
=========================logics=========================
1. Get the method calls inside the class.
2. Check whether the called method is trim.
3. Get the called method's return type.
4. Check whether the return type of called method is string.
5. Get the parent node of trim method call.
6. Check whether the parent node is method call.
7. Get the name of called method in the parent node.
8. Check whether the called method name is length or isEmpty.
If the trim method's return type is string and its parent node is a method call whose name is length or isEmpty, then this test case violate the rule. However, from the provided test case, it is not violating the rule.
*Get the method calls inside the class.* 匹配到的元操作或API：
query: Get the method calls inside the class.
most similar API: get method name of method call
cosine Similarity: 0.8307241797447205
*Check whether the called method is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the called method's return type.* 匹配到的元操作或API：
logic: Get the called method's return type.
most similar meta operation: Get the return type of called method
cosine Similarity: 0.9653455018997192
*Check whether the return type of called method is string.* 匹配到的元操作或API：
logic: Check whether the return type of called method is string.
most similar meta operation: Check whether the return type of called method is string
cosine Similarity: 0.9881924986839294
*Get the parent node of trim method call.* 匹配到的元操作或API：
query: Get the parent node of trim method call.
most similar API: get parent of method call
cosine Similarity: 0.8050466179847717
*Check whether the parent node is method call.* 匹配到的元操作或API：
query: Check whether the parent node is method call.
most similar API: Check whether the method call is parenthesized
cosine Similarity: 0.8567001819610596
*Get the name of called method in the parent node.* 匹配到的元操作或API：
logic: Get the name of called method in the parent node.
most similar meta operation: Get the name of called method
cosine Similarity: 0.8909260630607605
*Check whether the called method name is length or isEmpty.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is isEmpty.
3. Get the method caller.
4. Get the name of called method from caller.
5. Check whether the name is trim.
6. Get the method caller from trim method caller.
7. Check whether the type of method caller is string type.
If the method caller of isEmpty is the result of a trim method call on a string, then this test case violate the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is isEmpty.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of called method from caller.* 匹配到的元操作或API：
logic: Get the name of called method from caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9604828357696533
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller from trim method caller.* 匹配到的元操作或API：
logic: Get the method caller from trim method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.8823686242103577
*Check whether the type of method caller is string type.* 匹配到的元操作或API：
logic: Check whether the type of method caller is string type.
most similar meta operation: Check whether the method caller is string type
cosine Similarity: 0.983098566532135
77
63
96
79
97
80
84
70
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is isEmpty.
3. Get the method caller.
4. Get the name of the called method from the method caller.
5. Check whether the name is trim.
6. Get the method caller of the trim method.
7. Check whether the method caller is a String type.
If the called method is isEmpty, and it's called by the result of a trim method, and the trim method is called on a String type object, then this test case violates the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is isEmpty.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of the called method from the method caller.* 匹配到的元操作或API：
logic: Get the name of the called method from the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9510980844497681
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller of the trim method.* 匹配到的元操作或API：
logic: Get the method caller of the trim method.
most similar meta operation: Get the method caller
cosine Similarity: 0.8803879022598267
*Check whether the method caller is a String type.* 匹配到的元操作或API：
logic: Check whether the method caller is a String type.
most similar meta operation: Check whether the method caller is string type
cosine Similarity: 0.9876717329025269
=========================logics=========================
1. Get the name of called method.
        2. Check whether the name is trim.
        3. Get the method caller.
        4. Get the name of called method.
        5. Check whether the name is isEmpty or length.
        6. Get the return type of called method.
        7. Check whether the return type is boolean type.
        If the called method name is isEmpty or length and it is called on the result of trim method and the return type of method is boolean, then this test case violate the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is isEmpty or length.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the return type of called method.* 匹配到的元操作或API：
logic: Get the return type of called method.
most similar meta operation: Get the return type of called method
cosine Similarity: 0.983582615852356
*Check whether the return type is boolean type.* 匹配到的元操作或API：
logic: Check whether the return type is boolean type.
most similar meta operation: Check whether the return type of method is boolean
cosine Similarity: 0.9440794587135315
94
78
95
78
119
103
97
81
87
72
94
78
89
74
=========================logics=========================
1. Get the condition of if statement.
2. Check the condition for the presence of method calls.
3. For each method call, get the name of the called method.
4. Check whether the name of the called method is "isEmpty".
5. For each method call, get the method caller.
6. Check whether the method caller is a call to the method "trim".
7. Get the return type of the called method "trim".
8. Check whether the return type of the called method "trim" is string.
Since none of the conditions of the if statement are calls to "isEmpty" on the result of a "trim" method call, the test case does not violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check the condition for the presence of method calls.* 匹配到的元操作或API：
query: Check the condition for the presence of method calls.
most similar API: Check whether is call on this instance
cosine Similarity: 0.8404216766357422
*For each method call, get the name of the called method.* 匹配到的元操作或API：
logic: For each method call, get the name of the called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9401620626449585
*Check whether the name of the called method is "isEmpty".* 匹配到的元操作或API：
query: Check whether the name of the called method is "isEmpty".
most similar API: Check whether the method is void
cosine Similarity: 0.8137304186820984
*For each method call, get the method caller.* 匹配到的元操作或API：
logic: For each method call, get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.92446368932724
*Check whether the method caller is a call to the method "trim".* 匹配到的元操作或API：
query: Check whether the method caller is a call to the method "trim".
most similar API: Check whether the method call equals
cosine Similarity: 0.829443097114563
*Get the return type of the called method "trim".* 匹配到的元操作或API：
logic: Get the return type of the called method "trim".
most similar meta operation: Get the return type of called method
cosine Similarity: 0.8811097145080566
*Check whether the return type of the called method "trim" is string.* 匹配到的元操作或API：
logic: Check whether the return type of the called method "trim" is string.
most similar meta operation: Check whether the return type of called method is string
cosine Similarity: 0.914343535900116
95
78
111
96
117
102
=========================logics=========================
1. Get all method calls in the test case.
2. Get the name of the called method for each method call.
3. Check whether the name of the called method is "trim".
4. If the called method is "trim", get the method call on the returned value of "trim" method.
5. Get the name of the called method on the returned value of "trim" method.
6. Check whether the name of the called method is "length" or "isEmpty".
If there is a method call sequence of "trim().length()" or "trim().isEmpty()", then this test case violates the rule. But in this case, no such method call sequence is found, so this test case does not violate the rule.
*Get all method calls in the test case.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the name of the called method for each method call.* 匹配到的元操作或API：
logic: Get the name of the called method for each method call.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9373003244400024
*Check whether the name of the called method is "trim".* 匹配到的元操作或API：
未匹配成功元操作或API
*If the called method is "trim", get the method call on the returned value of "trim" method.* 匹配到的元操作或API：
query: If the called method is "trim", get the method call on the returned value of "trim" method.
most similar API: get method name of method call
cosine Similarity: 0.8025941252708435
*Get the name of the called method on the returned value of "trim" method.* 匹配到的元操作或API：
logic: Get the name of the called method on the returned value of "trim" method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.8816984295845032
*Check whether the name of the called method is "length" or "isEmpty".* 匹配到的元操作或API：
未匹配成功元操作或API
106
91
156
136
99
82
=========================logics=========================
1. Get the method call expression.
2. Check whether the method call is String.trim().
3. Get the return type of called method.
4. Check whether the return type of called method is string.
5. Get the method call expression on String.trim() result.
6. Check whether the method call is length() or isEmpty().
7. Get a comparison expression.
8. Check whether the comparison expression is equal or bigger than 0.
If the method call is String.trim().length() == 0 or String.trim().isEmpty(), then this test case violates the rule.
*Get the method call expression.* 匹配到的元操作或API：
query: Get the method call expression.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8590689301490784
*Check whether the method call is String.trim().* 匹配到的元操作或API：
query: Check whether the method call is String.trim().
most similar API: Check whether the method call is parenthesized
cosine Similarity: 0.8040755987167358
*Get the return type of called method.* 匹配到的元操作或API：
logic: Get the return type of called method.
most similar meta operation: Get the return type of called method
cosine Similarity: 0.983582615852356
*Check whether the return type of called method is string.* 匹配到的元操作或API：
logic: Check whether the return type of called method is string.
most similar meta operation: Check whether the return type of called method is string
cosine Similarity: 0.9881924986839294
*Get the method call expression on String.trim() result.* 匹配到的元操作或API：
query: Get the method call expression on String.trim() result.
most similar API: get text of method call
cosine Similarity: 0.8109484314918518
*Check whether the method call is length() or isEmpty().* 匹配到的元操作或API：
query: Check whether the method call is length() or isEmpty().
most similar API: Check whether the method call equals
cosine Similarity: 0.8042959570884705
*Get a comparison expression.* 匹配到的元操作或API：
query: Get a comparison expression.
most similar API: Check whether the expression statement equals
cosine Similarity: 0.8073914051055908
*Check whether the comparison expression is equal or bigger than 0.* 匹配到的元操作或API：
query: Check whether the comparison expression is equal or bigger than 0.
most similar API: Check whether the expression statement equals
cosine Similarity: 0.8400620222091675
89
74
89
74
77
63
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is 'isEmpty'.
3. Get the method caller.
4. Get the name of the called method of the method caller.
5. Check whether the name is 'trim'.
6. Get the method caller of the trim method.
7. Get the type of method caller.
8. Check whether the type of method caller is a string type.
If the name of the called method is 'isEmpty', and the method caller calls the 'trim' method on a string type, then this test case violates the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is 'isEmpty'.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of the called method of the method caller.* 匹配到的元操作或API：
logic: Get the name of the called method of the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9528388977050781
*Check whether the name is 'trim'.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller of the trim method.* 匹配到的元操作或API：
logic: Get the method caller of the trim method.
most similar meta operation: Get the method caller
cosine Similarity: 0.8803879022598267
*Get the type of method caller.* 匹配到的元操作或API：
logic: Get the type of method caller.
most similar meta operation: Get the type of method caller
cosine Similarity: 0.9859350323677063
*Check whether the type of method caller is a string type.* 匹配到的元操作或API：
logic: Check whether the type of method caller is a string type.
most similar meta operation: Check whether the method caller is string type
cosine Similarity: 0.9824420809745789
=========================logics=========================
1. Get the name of called method.
        2. Check whether the name is trim.
        3. Get the method caller.
        4. Get the name of the second called method.
        5. Check whether the name is length or isEmpty.
        6. Check whether the result of the method call is compared to 0.
        If the called method name is trim and it is followed by a length or isEmpty method call, and the result of these method calls is compared to 0, then this test case violates the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Get the name of the second called method.* 匹配到的元操作或API：
logic: Get the name of the second called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9070128202438354
*Check whether the name is length or isEmpty.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the result of the method call is compared to 0.* 匹配到的元操作或API：
query: Check whether the result of the method call is compared to 0.
most similar API: Check whether the method call equals
cosine Similarity: 0.819787859916687
=========================logics=========================
1. Get the name of called method.
2. Check whether the name is isEmpty.
3. Get the method caller.
4. Check whether the method caller is a method call.
5. Get the name of the method called by the method caller.
6. Check whether the name is trim.
7. Check whether the argument of the trim method call is a string.
8. Repeat steps 1 to 7 for length == 0.
If any of the method calls in the println statements match the pattern of string.trim().isEmpty() or string.trim().length() == 0, then the test case is violating the rule.
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name is isEmpty.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is a method call.* 匹配到的元操作或API：
query: Check whether the method caller is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8533448576927185
*Get the name of the method called by the method caller.* 匹配到的元操作或API：
logic: Get the name of the method called by the method caller.
most similar meta operation: Get the name of called method
cosine Similarity: 0.952172040939331
*Check whether the name is trim.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the argument of the trim method call is a string.* 匹配到的元操作或API：
未匹配成功元操作或API
*Repeat steps 1 to 7 for length == 0.* 匹配到的元操作或API：
未匹配成功元操作或API
==========================第1轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: String.trim().length() == 0 and String.trim().isEmpty() are inefficient ways to check if a String is really blank. Prevent it.;

The following are the test cases of the rule:
1. This is a positive test case
```java
// test is ok, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.length() == 0) {
            // this is bad
        }
    }
}
```
2. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().length() == 0) {
            // this is bad
        }
    }
}
```
3. This is a positive test case
```java
// String.trim.length not is called, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().equals("")) {
        }
    }
}
```
4. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        while (foo.trim().length() == 0) {
        }
    }
}
```
5. This is a positive test case
```java
// String.trim.length is called, assigned to int, ok
public class Foo {
    void bar() {
        String foo = "foo";
        int i = foo.trim().length();
    }
}
```
6. This is a negative test case
```java
// String.trim.length is called, assigned to boolean, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 0;
    }
}
```
7. This is a positive test case
```java
// Using trim.length to find the length and compare to 1, OK
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 1;
    }
}
```
8. This is a positive test case
```java
// Passes trim().length() and 0 to another method
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length(), 0);
    }
}
```
9. This is a positive test case
```java
// Compares the length against a mathematical function
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length() == (2 - 1));
    }
}
```
10. This is a negative test case
```java
// String.trim().isEmpty() is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().isEmpty();
    }
}
```
11. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        int i = 2;
        b =  String.valueOf(i).trim().isEmpty();
    }
}
```
12. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed twice
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        b =  String.valueOf(2).trim().isEmpty();
    }
}
```
13. This is a positive test case
```java
// Verify no NPE is thrown
public class Foo extends SomeUnresolvedClass {
    void bar(String[] logLevels, String[] guardMethods) {
        if (super.guardStmtByLogLevel.isEmpty() && logLevels.length > 0 && guardMethods.length > 0) {
            configureGuards(logLevels, guardMethods);
        }
    }
}
```
14. This is a positive test case
```java
// Avoid NPE for pattern matching instanceof
public class PatternMatchingInstanceof {
    private String s = "other string";

    public void test() {
        Object obj = "abc";
        if (obj instanceof String s) {
            System.out.println("a) obj == s: " + (obj == s)); // true
        }
    }
}
```
15. This is a negative test case
```java
// [java] InefficientEmptyStringCheck false negative in anonymous class #1224
import javax.swing.*;
            import java.awt.event.KeyEvent;
            import java.awt.event.KeyListener;

            public class Main {
                public static void main(String[] args) {
                    final JPanel jPanel = new JPanel();
                    jPanel.addKeyListener(new KeyListener() {
                        @Override
                        public void keyTyped(KeyEvent e) {
                            final String val = "";
                            if (val.trim().length() > 0) {
                                System.out.println("Non-empty string.");
                            }
                        }

                        @Override
                        public void keyPressed(KeyEvent e) {
                        }

                        @Override
                        public void keyReleased(KeyEvent e) {
                        }
                    });
                }
            }
```
16. This is a negative test case
```java
// String.trim.isEmpty is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimIsEmpty {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().isEmpty()) {
            // violation
        }
        if (this.get().trim().isEmpty()) {
            // violation
        }

        String bar = get();
        if (bar.trim().isEmpty()) {
            // violation
        }
        if (bar.toString().trim().isEmpty()) {
            // violation
        }
    }
}
```
17. This is a negative test case
```java
// String.trim.length is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimLength {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().length() == 0) {
            // violation missing
        }
        if (this.get().trim().length() == 0) {
            // violation missing
        }

        String bar = get();
        if (bar.trim().length() == 0) {
            // violation already detected
        }
        if (bar.toString().trim().length() == 0) {
            // violation missing
        }
    }
}
```
18. This is a negative test case
```java
// String.trim.isEmpty and length called in method argument
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimMethodArgument {
    public String get() {
        return "foo";
    }
    public void bar() {
        String bar = "foo";
        System.out.println(bar.trim().isEmpty()); // violation missing
        System.out.println(bar.trim().length() == 0);
        System.out.println(get().trim().isEmpty()); // violation missing
        System.out.println(get().trim().length() == 0); // violation missing
        System.out.println(this.get().trim().isEmpty()); // violation missing
        System.out.println(this.get().trim().length() == 0); // violating missing
    }
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.performance;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
4. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
8. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isIntLiteral()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isCallOnThisInstance(net.sourceforge.pmd.lang.java.ast.ASTMethodCall)
10. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isEqualsMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
11. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
12. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public java.lang.String getConstValue()
13. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public boolean isEmpty()
14. net.sourceforge.pmd.lang.java.ast.ASTWhileStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
15. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
16. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isZeroChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Return true if the given expression is enclosed in a zero check. The expression must evaluate to a natural number (ie >= 0), so that {@code e < 1} actually means {@code e == 0}. @param e Expression
17. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isParenthesized(), //Returns true if this expression has at least one level of parentheses. The specific depth can be fetched with {@link #getParenthesisDepth()}.
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isVoid(), //Returns true if the result type of this method is {@code void}.
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.document.Chars getText()
21. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the method caller is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallerStringType(ASTMethodCall node){
    return TypeTestUtil.isA(String.class, node.getQualifier());
}
```
3.  //Check whether the argument is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentStringType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(String.class, expression.getTypeMirror());
}
```
4.  //Check whether the return type of called method is int type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnIntType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType().isPrimitive(JPrimitiveType.PrimitiveTypeKind.INT);
}
```
5.  //Get the type of method caller
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallerType(ASTMethodCall node){
    ASTExpression expression = node.getQualifier();
    if(expression != null){
        return expression.getTypeMirror();
    }
    return null;
}
```
6.  //Check whether the field is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTFieldDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isFieldStringType(ASTFieldDeclaration node) {
    return TypeTestUtil.isA(String.class, node.getTypeNode());
}
```
7.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
8.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
9.  //Check whether the return type of method is boolean
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnValueBooleanType(ASTMethodDeclaration method) {
    if (method.getResultTypeNode().getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN)) {
        return true;
    }
    return false;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.performance;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {

    public InefficientEmptyStringCheckRule() {
        addRuleChainVisit(ASTIfStatement.class);
        addRuleChainVisit(ASTWhileStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        checkForInefficientEmptyStringCheck(node, data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTWhileStatement node, Object data) {
        checkForInefficientEmptyStringCheck(node, data);
        return super.visit(node, data);
    }

    private void checkForInefficientEmptyStringCheck(Node node, Object data) {
        ASTExpression condition = (ASTExpression) node.jjtGetChild(0);
        if (condition.jjtGetNumChildren() > 0 && condition.jjtGetChild(0) instanceof ASTEqualityExpression) {
            ASTEqualityExpression equalityExpression = (ASTEqualityExpression) condition.jjtGetChild(0);
            if (equalityExpression.jjtGetNumChildren() > 1 && equalityExpression.jjtGetChild(0) instanceof ASTPrimaryExpression) {
                ASTPrimaryExpression primaryExpression = (ASTPrimaryExpression) equalityExpression.jjtGetChild(0);
                if (primaryExpression.jjtGetNumChildren() > 0 && primaryExpression.jjtGetChild(0) instanceof ASTPrimaryPrefix) {
                    ASTPrimaryPrefix primaryPrefix = (ASTPrimaryPrefix) primaryExpression.jjtGetChild(0);
                    if (primaryPrefix.jjtGetNumChildren() > 0 && primaryPrefix.jjtGetChild(0) instanceof ASTMethodCall) {
                        ASTMethodCall methodCall = (ASTMethodCall) primaryPrefix.jjtGetChild(0);
                        if ("trim".equals(methodCall.getMethodName())) {
                            ASTPrimarySuffix primarySuffix = (ASTPrimarySuffix) primaryExpression.jjtGetChild(1);
                            if ("length".equals(primarySuffix.getImage()) || "isEmpty".equals(primarySuffix.getImage())) {
                                addViolation(data, node);
                            }
                        }
                    }
                }
            }
        }
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第2轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: String.trim().length() == 0 and String.trim().isEmpty() are inefficient ways to check if a String is really blank. Prevent it.;

The following are the test cases of the rule:
1. This is a positive test case
```java
// test is ok, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.length() == 0) {
            // this is bad
        }
    }
}
```
2. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().length() == 0) {
            // this is bad
        }
    }
}
```
3. This is a positive test case
```java
// String.trim.length not is called, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().equals("")) {
        }
    }
}
```
4. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        while (foo.trim().length() == 0) {
        }
    }
}
```
5. This is a positive test case
```java
// String.trim.length is called, assigned to int, ok
public class Foo {
    void bar() {
        String foo = "foo";
        int i = foo.trim().length();
    }
}
```
6. This is a negative test case
```java
// String.trim.length is called, assigned to boolean, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 0;
    }
}
```
7. This is a positive test case
```java
// Using trim.length to find the length and compare to 1, OK
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 1;
    }
}
```
8. This is a positive test case
```java
// Passes trim().length() and 0 to another method
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length(), 0);
    }
}
```
9. This is a positive test case
```java
// Compares the length against a mathematical function
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length() == (2 - 1));
    }
}
```
10. This is a negative test case
```java
// String.trim().isEmpty() is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().isEmpty();
    }
}
```
11. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        int i = 2;
        b =  String.valueOf(i).trim().isEmpty();
    }
}
```
12. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed twice
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        b =  String.valueOf(2).trim().isEmpty();
    }
}
```
13. This is a positive test case
```java
// Verify no NPE is thrown
public class Foo extends SomeUnresolvedClass {
    void bar(String[] logLevels, String[] guardMethods) {
        if (super.guardStmtByLogLevel.isEmpty() && logLevels.length > 0 && guardMethods.length > 0) {
            configureGuards(logLevels, guardMethods);
        }
    }
}
```
14. This is a positive test case
```java
// Avoid NPE for pattern matching instanceof
public class PatternMatchingInstanceof {
    private String s = "other string";

    public void test() {
        Object obj = "abc";
        if (obj instanceof String s) {
            System.out.println("a) obj == s: " + (obj == s)); // true
        }
    }
}
```
15. This is a negative test case
```java
// [java] InefficientEmptyStringCheck false negative in anonymous class #1224
import javax.swing.*;
            import java.awt.event.KeyEvent;
            import java.awt.event.KeyListener;

            public class Main {
                public static void main(String[] args) {
                    final JPanel jPanel = new JPanel();
                    jPanel.addKeyListener(new KeyListener() {
                        @Override
                        public void keyTyped(KeyEvent e) {
                            final String val = "";
                            if (val.trim().length() > 0) {
                                System.out.println("Non-empty string.");
                            }
                        }

                        @Override
                        public void keyPressed(KeyEvent e) {
                        }

                        @Override
                        public void keyReleased(KeyEvent e) {
                        }
                    });
                }
            }
```
16. This is a negative test case
```java
// String.trim.isEmpty is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimIsEmpty {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().isEmpty()) {
            // violation
        }
        if (this.get().trim().isEmpty()) {
            // violation
        }

        String bar = get();
        if (bar.trim().isEmpty()) {
            // violation
        }
        if (bar.toString().trim().isEmpty()) {
            // violation
        }
    }
}
```
17. This is a negative test case
```java
// String.trim.length is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimLength {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().length() == 0) {
            // violation missing
        }
        if (this.get().trim().length() == 0) {
            // violation missing
        }

        String bar = get();
        if (bar.trim().length() == 0) {
            // violation already detected
        }
        if (bar.toString().trim().length() == 0) {
            // violation missing
        }
    }
}
```
18. This is a negative test case
```java
// String.trim.isEmpty and length called in method argument
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimMethodArgument {
    public String get() {
        return "foo";
    }
    public void bar() {
        String bar = "foo";
        System.out.println(bar.trim().isEmpty()); // violation missing
        System.out.println(bar.trim().length() == 0);
        System.out.println(get().trim().isEmpty()); // violation missing
        System.out.println(get().trim().length() == 0); // violation missing
        System.out.println(this.get().trim().isEmpty()); // violation missing
        System.out.println(this.get().trim().length() == 0); // violating missing
    }
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.performance;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
4. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
8. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isIntLiteral()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isCallOnThisInstance(net.sourceforge.pmd.lang.java.ast.ASTMethodCall)
10. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isEqualsMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
11. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
12. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public java.lang.String getConstValue()
13. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public boolean isEmpty()
14. net.sourceforge.pmd.lang.java.ast.ASTWhileStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
15. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
16. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isZeroChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Return true if the given expression is enclosed in a zero check. The expression must evaluate to a natural number (ie >= 0), so that {@code e < 1} actually means {@code e == 0}. @param e Expression
17. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isParenthesized(), //Returns true if this expression has at least one level of parentheses. The specific depth can be fetched with {@link #getParenthesisDepth()}.
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isVoid(), //Returns true if the result type of this method is {@code void}.
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.document.Chars getText()
21. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the method caller is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallerStringType(ASTMethodCall node){
    return TypeTestUtil.isA(String.class, node.getQualifier());
}
```
3.  //Check whether the argument is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentStringType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(String.class, expression.getTypeMirror());
}
```
4.  //Check whether the return type of called method is int type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnIntType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType().isPrimitive(JPrimitiveType.PrimitiveTypeKind.INT);
}
```
5.  //Get the type of method caller
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallerType(ASTMethodCall node){
    ASTExpression expression = node.getQualifier();
    if(expression != null){
        return expression.getTypeMirror();
    }
    return null;
}
```
6.  //Check whether the field is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTFieldDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isFieldStringType(ASTFieldDeclaration node) {
    return TypeTestUtil.isA(String.class, node.getTypeNode());
}
```
7.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
8.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
9.  //Check whether the return type of method is boolean
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnValueBooleanType(ASTMethodDeclaration method) {
    if (method.getResultTypeNode().getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN)) {
        return true;
    }
    return false;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.performance;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {

    public InefficientEmptyStringCheckRule() {
        addRuleChainVisit(ASTIfStatement.class);
        addRuleChainVisit(ASTWhileStatement.class);
        addRuleChainVisit(ASTBlockStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        checkExpression(node.getCondition(), data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTWhileStatement node, Object data) {
        checkExpression(node.getCondition(), data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTBlockStatement node, Object data) {
        if (node.getChild(0) instanceof ASTAssignmentExpression) {
            checkExpression(((ASTAssignmentExpression) node.getChild(0)).getRight(), data);
        }
        return super.visit(node, data);
    }

    private void checkExpression(Node node, Object data) {
        if (node instanceof ASTMethodCall) {
            ASTMethodCall call = (ASTMethodCall) node;
            if (TypeTestUtil.isA(String.class, call.getTargetType()) && ("trim".equals(call.getMethodName()))) {
                Node parent = call.jjtGetParent().jjtGetParent();
                if (parent instanceof ASTMethodCall) {
                    ASTMethodCall parentCall = (ASTMethodCall) parent;
                    if ("length".equals(parentCall.getMethodName()) || "isEmpty".equals(parentCall.getMethodName())) {
                        addViolation(data, parentCall);
                    }
                }
            }
        }
        for (int i = 0; i < node.jjtGetNumChildren(); i++) {
            checkExpression(node.jjtGetChild(i), data);
        }
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第3轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: String.trim().length() == 0 and String.trim().isEmpty() are inefficient ways to check if a String is really blank. Prevent it.;

The following are the test cases of the rule:
1. This is a positive test case
```java
// test is ok, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.length() == 0) {
            // this is bad
        }
    }
}
```
2. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().length() == 0) {
            // this is bad
        }
    }
}
```
3. This is a positive test case
```java
// String.trim.length not is called, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().equals("")) {
        }
    }
}
```
4. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        while (foo.trim().length() == 0) {
        }
    }
}
```
5. This is a positive test case
```java
// String.trim.length is called, assigned to int, ok
public class Foo {
    void bar() {
        String foo = "foo";
        int i = foo.trim().length();
    }
}
```
6. This is a negative test case
```java
// String.trim.length is called, assigned to boolean, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 0;
    }
}
```
7. This is a positive test case
```java
// Using trim.length to find the length and compare to 1, OK
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 1;
    }
}
```
8. This is a positive test case
```java
// Passes trim().length() and 0 to another method
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length(), 0);
    }
}
```
9. This is a positive test case
```java
// Compares the length against a mathematical function
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length() == (2 - 1));
    }
}
```
10. This is a negative test case
```java
// String.trim().isEmpty() is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().isEmpty();
    }
}
```
11. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        int i = 2;
        b =  String.valueOf(i).trim().isEmpty();
    }
}
```
12. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed twice
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        b =  String.valueOf(2).trim().isEmpty();
    }
}
```
13. This is a positive test case
```java
// Verify no NPE is thrown
public class Foo extends SomeUnresolvedClass {
    void bar(String[] logLevels, String[] guardMethods) {
        if (super.guardStmtByLogLevel.isEmpty() && logLevels.length > 0 && guardMethods.length > 0) {
            configureGuards(logLevels, guardMethods);
        }
    }
}
```
14. This is a positive test case
```java
// Avoid NPE for pattern matching instanceof
public class PatternMatchingInstanceof {
    private String s = "other string";

    public void test() {
        Object obj = "abc";
        if (obj instanceof String s) {
            System.out.println("a) obj == s: " + (obj == s)); // true
        }
    }
}
```
15. This is a negative test case
```java
// [java] InefficientEmptyStringCheck false negative in anonymous class #1224
import javax.swing.*;
            import java.awt.event.KeyEvent;
            import java.awt.event.KeyListener;

            public class Main {
                public static void main(String[] args) {
                    final JPanel jPanel = new JPanel();
                    jPanel.addKeyListener(new KeyListener() {
                        @Override
                        public void keyTyped(KeyEvent e) {
                            final String val = "";
                            if (val.trim().length() > 0) {
                                System.out.println("Non-empty string.");
                            }
                        }

                        @Override
                        public void keyPressed(KeyEvent e) {
                        }

                        @Override
                        public void keyReleased(KeyEvent e) {
                        }
                    });
                }
            }
```
16. This is a negative test case
```java
// String.trim.isEmpty is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimIsEmpty {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().isEmpty()) {
            // violation
        }
        if (this.get().trim().isEmpty()) {
            // violation
        }

        String bar = get();
        if (bar.trim().isEmpty()) {
            // violation
        }
        if (bar.toString().trim().isEmpty()) {
            // violation
        }
    }
}
```
17. This is a negative test case
```java
// String.trim.length is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimLength {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().length() == 0) {
            // violation missing
        }
        if (this.get().trim().length() == 0) {
            // violation missing
        }

        String bar = get();
        if (bar.trim().length() == 0) {
            // violation already detected
        }
        if (bar.toString().trim().length() == 0) {
            // violation missing
        }
    }
}
```
18. This is a negative test case
```java
// String.trim.isEmpty and length called in method argument
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimMethodArgument {
    public String get() {
        return "foo";
    }
    public void bar() {
        String bar = "foo";
        System.out.println(bar.trim().isEmpty()); // violation missing
        System.out.println(bar.trim().length() == 0);
        System.out.println(get().trim().isEmpty()); // violation missing
        System.out.println(get().trim().length() == 0); // violation missing
        System.out.println(this.get().trim().isEmpty()); // violation missing
        System.out.println(this.get().trim().length() == 0); // violating missing
    }
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.performance;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
4. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
8. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isIntLiteral()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isCallOnThisInstance(net.sourceforge.pmd.lang.java.ast.ASTMethodCall)
10. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isEqualsMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
11. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
12. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public java.lang.String getConstValue()
13. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public boolean isEmpty()
14. net.sourceforge.pmd.lang.java.ast.ASTWhileStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
15. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
16. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isZeroChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Return true if the given expression is enclosed in a zero check. The expression must evaluate to a natural number (ie >= 0), so that {@code e < 1} actually means {@code e == 0}. @param e Expression
17. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isParenthesized(), //Returns true if this expression has at least one level of parentheses. The specific depth can be fetched with {@link #getParenthesisDepth()}.
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isVoid(), //Returns true if the result type of this method is {@code void}.
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.document.Chars getText()
21. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the method caller is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallerStringType(ASTMethodCall node){
    return TypeTestUtil.isA(String.class, node.getQualifier());
}
```
3.  //Check whether the argument is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentStringType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(String.class, expression.getTypeMirror());
}
```
4.  //Check whether the return type of called method is int type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnIntType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType().isPrimitive(JPrimitiveType.PrimitiveTypeKind.INT);
}
```
5.  //Get the type of method caller
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallerType(ASTMethodCall node){
    ASTExpression expression = node.getQualifier();
    if(expression != null){
        return expression.getTypeMirror();
    }
    return null;
}
```
6.  //Check whether the field is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTFieldDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isFieldStringType(ASTFieldDeclaration node) {
    return TypeTestUtil.isA(String.class, node.getTypeNode());
}
```
7.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
8.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
9.  //Check whether the return type of method is boolean
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnValueBooleanType(ASTMethodDeclaration method) {
    if (method.getResultTypeNode().getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN)) {
        return true;
    }
    return false;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


出现语法错误，这一轮舍弃，直接重新生成
==========================第4轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: String.trim().length() == 0 and String.trim().isEmpty() are inefficient ways to check if a String is really blank. Prevent it.;

The following are the test cases of the rule:
1. This is a positive test case
```java
// test is ok, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.length() == 0) {
            // this is bad
        }
    }
}
```
2. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().length() == 0) {
            // this is bad
        }
    }
}
```
3. This is a positive test case
```java
// String.trim.length not is called, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().equals("")) {
        }
    }
}
```
4. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        while (foo.trim().length() == 0) {
        }
    }
}
```
5. This is a positive test case
```java
// String.trim.length is called, assigned to int, ok
public class Foo {
    void bar() {
        String foo = "foo";
        int i = foo.trim().length();
    }
}
```
6. This is a negative test case
```java
// String.trim.length is called, assigned to boolean, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 0;
    }
}
```
7. This is a positive test case
```java
// Using trim.length to find the length and compare to 1, OK
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 1;
    }
}
```
8. This is a positive test case
```java
// Passes trim().length() and 0 to another method
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length(), 0);
    }
}
```
9. This is a positive test case
```java
// Compares the length against a mathematical function
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length() == (2 - 1));
    }
}
```
10. This is a negative test case
```java
// String.trim().isEmpty() is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().isEmpty();
    }
}
```
11. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        int i = 2;
        b =  String.valueOf(i).trim().isEmpty();
    }
}
```
12. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed twice
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        b =  String.valueOf(2).trim().isEmpty();
    }
}
```
13. This is a positive test case
```java
// Verify no NPE is thrown
public class Foo extends SomeUnresolvedClass {
    void bar(String[] logLevels, String[] guardMethods) {
        if (super.guardStmtByLogLevel.isEmpty() && logLevels.length > 0 && guardMethods.length > 0) {
            configureGuards(logLevels, guardMethods);
        }
    }
}
```
14. This is a positive test case
```java
// Avoid NPE for pattern matching instanceof
public class PatternMatchingInstanceof {
    private String s = "other string";

    public void test() {
        Object obj = "abc";
        if (obj instanceof String s) {
            System.out.println("a) obj == s: " + (obj == s)); // true
        }
    }
}
```
15. This is a negative test case
```java
// [java] InefficientEmptyStringCheck false negative in anonymous class #1224
import javax.swing.*;
            import java.awt.event.KeyEvent;
            import java.awt.event.KeyListener;

            public class Main {
                public static void main(String[] args) {
                    final JPanel jPanel = new JPanel();
                    jPanel.addKeyListener(new KeyListener() {
                        @Override
                        public void keyTyped(KeyEvent e) {
                            final String val = "";
                            if (val.trim().length() > 0) {
                                System.out.println("Non-empty string.");
                            }
                        }

                        @Override
                        public void keyPressed(KeyEvent e) {
                        }

                        @Override
                        public void keyReleased(KeyEvent e) {
                        }
                    });
                }
            }
```
16. This is a negative test case
```java
// String.trim.isEmpty is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimIsEmpty {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().isEmpty()) {
            // violation
        }
        if (this.get().trim().isEmpty()) {
            // violation
        }

        String bar = get();
        if (bar.trim().isEmpty()) {
            // violation
        }
        if (bar.toString().trim().isEmpty()) {
            // violation
        }
    }
}
```
17. This is a negative test case
```java
// String.trim.length is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimLength {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().length() == 0) {
            // violation missing
        }
        if (this.get().trim().length() == 0) {
            // violation missing
        }

        String bar = get();
        if (bar.trim().length() == 0) {
            // violation already detected
        }
        if (bar.toString().trim().length() == 0) {
            // violation missing
        }
    }
}
```
18. This is a negative test case
```java
// String.trim.isEmpty and length called in method argument
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimMethodArgument {
    public String get() {
        return "foo";
    }
    public void bar() {
        String bar = "foo";
        System.out.println(bar.trim().isEmpty()); // violation missing
        System.out.println(bar.trim().length() == 0);
        System.out.println(get().trim().isEmpty()); // violation missing
        System.out.println(get().trim().length() == 0); // violation missing
        System.out.println(this.get().trim().isEmpty()); // violation missing
        System.out.println(this.get().trim().length() == 0); // violating missing
    }
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.performance;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
4. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
8. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isIntLiteral()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isCallOnThisInstance(net.sourceforge.pmd.lang.java.ast.ASTMethodCall)
10. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isEqualsMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
11. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
12. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public java.lang.String getConstValue()
13. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public boolean isEmpty()
14. net.sourceforge.pmd.lang.java.ast.ASTWhileStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
15. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
16. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isZeroChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Return true if the given expression is enclosed in a zero check. The expression must evaluate to a natural number (ie >= 0), so that {@code e < 1} actually means {@code e == 0}. @param e Expression
17. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isParenthesized(), //Returns true if this expression has at least one level of parentheses. The specific depth can be fetched with {@link #getParenthesisDepth()}.
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isVoid(), //Returns true if the result type of this method is {@code void}.
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.document.Chars getText()
21. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the method caller is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallerStringType(ASTMethodCall node){
    return TypeTestUtil.isA(String.class, node.getQualifier());
}
```
3.  //Check whether the argument is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentStringType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(String.class, expression.getTypeMirror());
}
```
4.  //Check whether the return type of called method is int type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnIntType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType().isPrimitive(JPrimitiveType.PrimitiveTypeKind.INT);
}
```
5.  //Get the type of method caller
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallerType(ASTMethodCall node){
    ASTExpression expression = node.getQualifier();
    if(expression != null){
        return expression.getTypeMirror();
    }
    return null;
}
```
6.  //Check whether the field is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTFieldDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isFieldStringType(ASTFieldDeclaration node) {
    return TypeTestUtil.isA(String.class, node.getTypeNode());
}
```
7.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
8.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
9.  //Check whether the return type of method is boolean
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnValueBooleanType(ASTMethodDeclaration method) {
    if (method.getResultTypeNode().getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN)) {
        return true;
    }
    return false;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.performance;


import java.util.Arrays;

import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {

    public InefficientEmptyStringCheckRule() {
        super(ASTIfStatement.class, ASTWhileStatement.class, ASTAssignmentExpression.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        checkCondition(node.getCondition(), data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTWhileStatement node, Object data) {
        checkCondition(node.getCondition(), data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTAssignmentExpression node, Object data) {
        checkCondition(node.getRightOperand(), data);
        return super.visit(node, data);
    }

    private void checkCondition(JavaNode node, Object data) {
        if (node instanceof ASTInfixExpression) {
            ASTInfixExpression infixExp = (ASTInfixExpression) node;
            if (JavaAstUtils.isInfixExprWithOperator(infixExp, ASTInfixExpression.BinaryOp.EQ)
                    && JavaRuleUtil.isZeroChecked(infixExp.getRightOperand())) {
                checkMethodCall(infixExp.getLeftOperand(), data);
            }
        } else if (node instanceof ASTMethodCall) {
            checkMethodCall((ASTMethodCall) node, data);
        }
    }

    private void checkMethodCall(JavaNode node, Object data) {
        if (node instanceof ASTMethodCall) {
            ASTMethodCall methodCall = (ASTMethodCall) node;
            if (TypeTestUtil.isA(String.class, methodCall.getQualifier())
                    && Arrays.asList("trim", "isEmpty").contains(methodCall.getMethodName())) {
                addViolation(data, node);
            }
        }
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第5轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: String.trim().length() == 0 and String.trim().isEmpty() are inefficient ways to check if a String is really blank. Prevent it.;

The following are the test cases of the rule:
1. This is a positive test case
```java
// test is ok, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.length() == 0) {
            // this is bad
        }
    }
}
```
2. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().length() == 0) {
            // this is bad
        }
    }
}
```
3. This is a positive test case
```java
// String.trim.length not is called, ok
public class Foo {
    void bar() {
        String foo = "foo";
        if (foo.trim().equals("")) {
        }
    }
}
```
4. This is a negative test case
```java
// String.trim.length is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        while (foo.trim().length() == 0) {
        }
    }
}
```
5. This is a positive test case
```java
// String.trim.length is called, assigned to int, ok
public class Foo {
    void bar() {
        String foo = "foo";
        int i = foo.trim().length();
    }
}
```
6. This is a negative test case
```java
// String.trim.length is called, assigned to boolean, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 0;
    }
}
```
7. This is a positive test case
```java
// Using trim.length to find the length and compare to 1, OK
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().length() == 1;
    }
}
```
8. This is a positive test case
```java
// Passes trim().length() and 0 to another method
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length(), 0);
    }
}
```
9. This is a positive test case
```java
// Compares the length against a mathematical function
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo(foo.trim().length() == (2 - 1));
    }
}
```
10. This is a negative test case
```java
// String.trim().isEmpty() is called, should have failed
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b = foo.trim().isEmpty();
    }
}
```
11. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        int i = 2;
        b =  String.valueOf(i).trim().isEmpty();
    }
}
```
12. This is a negative test case
```java
// String.trim().isEmpty() is called after a chain call, should have failed twice
import java.util.Arrays;
public class Foo {
    void bar() {
        String foo = "foo";
        boolean b =  Arrays.toString(foo.toCharArray()).trim().isEmpty();
        b =  String.valueOf(2).trim().isEmpty();
    }
}
```
13. This is a positive test case
```java
// Verify no NPE is thrown
public class Foo extends SomeUnresolvedClass {
    void bar(String[] logLevels, String[] guardMethods) {
        if (super.guardStmtByLogLevel.isEmpty() && logLevels.length > 0 && guardMethods.length > 0) {
            configureGuards(logLevels, guardMethods);
        }
    }
}
```
14. This is a positive test case
```java
// Avoid NPE for pattern matching instanceof
public class PatternMatchingInstanceof {
    private String s = "other string";

    public void test() {
        Object obj = "abc";
        if (obj instanceof String s) {
            System.out.println("a) obj == s: " + (obj == s)); // true
        }
    }
}
```
15. This is a negative test case
```java
// [java] InefficientEmptyStringCheck false negative in anonymous class #1224
import javax.swing.*;
            import java.awt.event.KeyEvent;
            import java.awt.event.KeyListener;

            public class Main {
                public static void main(String[] args) {
                    final JPanel jPanel = new JPanel();
                    jPanel.addKeyListener(new KeyListener() {
                        @Override
                        public void keyTyped(KeyEvent e) {
                            final String val = "";
                            if (val.trim().length() > 0) {
                                System.out.println("Non-empty string.");
                            }
                        }

                        @Override
                        public void keyPressed(KeyEvent e) {
                        }

                        @Override
                        public void keyReleased(KeyEvent e) {
                        }
                    });
                }
            }
```
16. This is a negative test case
```java
// String.trim.isEmpty is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimIsEmpty {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().isEmpty()) {
            // violation
        }
        if (this.get().trim().isEmpty()) {
            // violation
        }

        String bar = get();
        if (bar.trim().isEmpty()) {
            // violation
        }
        if (bar.toString().trim().isEmpty()) {
            // violation
        }
    }
}
```
17. This is a negative test case
```java
// String.trim.length is called on method result, should have failed
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimLength {
    String get() {
        return "foo";
    }
    void bar() {
        if (get().trim().length() == 0) {
            // violation missing
        }
        if (this.get().trim().length() == 0) {
            // violation missing
        }

        String bar = get();
        if (bar.trim().length() == 0) {
            // violation already detected
        }
        if (bar.toString().trim().length() == 0) {
            // violation missing
        }
    }
}
```
18. This is a negative test case
```java
// String.trim.isEmpty and length called in method argument
package net.sourceforge.pmd.lang.java.rule.performance.inefficientemptystringcheck;
public class StringTrimMethodArgument {
    public String get() {
        return "foo";
    }
    public void bar() {
        String bar = "foo";
        System.out.println(bar.trim().isEmpty()); // violation missing
        System.out.println(bar.trim().length() == 0);
        System.out.println(get().trim().isEmpty()); // violation missing
        System.out.println(get().trim().length() == 0); // violation missing
        System.out.println(this.get().trim().isEmpty()); // violation missing
        System.out.println(this.get().trim().length() == 0); // violating missing
    }
}
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.performance;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
3. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
4. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
8. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isIntLiteral()
9. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isCallOnThisInstance(net.sourceforge.pmd.lang.java.ast.ASTMethodCall)
10. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isEqualsMethod(net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration)
11. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
12. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public java.lang.String getConstValue()
13. net.sourceforge.pmd.lang.java.ast.ASTStringLiteral: public boolean isEmpty()
14. net.sourceforge.pmd.lang.java.ast.ASTWhileStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
15. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
16. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isZeroChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Return true if the given expression is enclosed in a zero check. The expression must evaluate to a natural number (ie >= 0), so that {@code e < 1} actually means {@code e == 0}. @param e Expression
17. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public N getParent()
18. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isParenthesized(), //Returns true if this expression has at least one level of parentheses. The specific depth can be fetched with {@link #getParenthesisDepth()}.
19. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean isVoid(), //Returns true if the result type of this method is {@code void}.
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.document.Chars getText()
21. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the method caller is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallerStringType(ASTMethodCall node){
    return TypeTestUtil.isA(String.class, node.getQualifier());
}
```
3.  //Check whether the argument is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentStringType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(String.class, expression.getTypeMirror());
}
```
4.  //Check whether the return type of called method is int type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnIntType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType().isPrimitive(JPrimitiveType.PrimitiveTypeKind.INT);
}
```
5.  //Get the type of method caller
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallerType(ASTMethodCall node){
    ASTExpression expression = node.getQualifier();
    if(expression != null){
        return expression.getTypeMirror();
    }
    return null;
}
```
6.  //Check whether the field is string type
```java
import net.sourceforge.pmd.lang.java.ast.ASTFieldDeclaration;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isFieldStringType(ASTFieldDeclaration node) {
    return TypeTestUtil.isA(String.class, node.getTypeNode());
}
```
7.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
8.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
9.  //Check whether the return type of method is boolean
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isReturnValueBooleanType(ASTMethodDeclaration method) {
    if (method.getResultTypeNode().getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN)) {
        return true;
    }
    return false;
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.performance;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class InefficientEmptyStringCheckRule extends AbstractJavaRulechainRule {

    public InefficientEmptyStringCheckRule() {
        super(ASTIfStatement.class, ASTWhileStatement.class, ASTAssignmentExpression.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        handleCondition(node.getCondition(), data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTWhileStatement node, Object data) {
        handleCondition(node.getCondition(), data);
        return super.visit(node, data);
    }

    @Override
    public Object visit(ASTAssignmentExpression node, Object data) {
        if (node.getRightOperand() instanceof ASTMethodCall) {
            ASTMethodCall call = (ASTMethodCall) node.getRightOperand();
            if (TypeTestUtil.isA(String.class, call.getQualifier()) && (call.getMethodName().equals("trim") && (call.getNextSibling() instanceof ASTMethodCall))) {
                ASTMethodCall nextCall = (ASTMethodCall) call.getNextSibling();
                if (nextCall.getMethodName().equals("length") || nextCall.getMethodName().equals("isEmpty")) {
                    addViolation(data, call);
                }
            }
        }
        return super.visit(node, data);
    }

    private void handleCondition(JavaNode condition, Object data) {
        NodeStream<ASTMethodCall> methodCalls = condition.descendants(ASTMethodCall.class);
        methodCalls.forEach(m -> {
            if (TypeTestUtil.isA(String.class, m.getQualifier()) && m.getMethodName().equals("trim") && (m.getNextSibling() instanceof ASTMethodCall)) {
                ASTMethodCall nextCall = (ASTMethodCall) m.getNextSibling();
                if (nextCall.getMethodName().equals("length") || nextCall.getMethodName().equals("isEmpty")) {
                    if (JavaRuleUtil.isZeroChecked(nextCall)) {
                        addViolation(data, m);
                    }
                }
            }
        });
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
5轮生成失败
结束

规则执行完毕，时间总花销： 1124.4751048088074 秒
