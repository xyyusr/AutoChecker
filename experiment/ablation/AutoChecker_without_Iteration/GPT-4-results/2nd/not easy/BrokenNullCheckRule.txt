开始

========================================== Rule BrokenNullCheckRule ===========================================
一共 25 个测试用例
正例 15 个
反例 10 个
149
133
96
81
11
9
85
71
38
34
119
103
9
7
83
69
30
28
9
7
12
10
19
14
90
76
157
137
12
10
40
37
15
13
10
8
107
91
94
78
96
79
23
19
84
69
27
17
85
71
100
82
94
79
92
78
12
10
77
63
117
102
144
127
97
91
11
8
106
90
93
78
12
9
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is an infix expression.
3. Get the operator of infix expression.
4. Check whether the operator in infix expression is OR (||).
5. Get the left operand of infix expression.
6. Get the right operand of infix expression.
7. Check whether the left operand is a not-null check.
8. Check whether the right operand is a method call.
9. Get the method caller.
10. Check whether the method caller is null.
If the condition of if statement is an infix expression with OR operator, and the left operand is a not-null check but the right operand's method caller is null, then this test case violates the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator in infix expression is OR (||).* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is OR (||).
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9080320596694946
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the left operand is a not-null check.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is null.* 匹配到的元操作或API：
query: Check whether the method caller is null.
most similar API: Check whether is null check
cosine Similarity: 0.8236192464828491
=========================logics=========================
1. Get the condition of if statement.
2. Get the left operand of infix expression.
3. Check whether the left operand is a null check.
4. Get the right operand of infix expression.
5. Check whether the right operand is a method call.
6. Get the name of called method.
7. Check whether the name of called method is equals.
8. Get the operator of infix expression.
9. Check whether the operator in infix expression is &&.
If the condition of the if statement is an infix expression with && operator, and the left operand is a null check and the right operand is an equals method call, then this test case does not violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the name of called method is equals.* 匹配到的元操作或API：
query: Check whether the name of called method is equals.
most similar API: Check whether the method call equals
cosine Similarity: 0.9213377237319946
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator in infix expression is &&.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is &&.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9346855282783508
97
81
114
98
=========================logics=========================
1. Get the condition of if statement.
2. Get the left operand of infix expression.
3. Check whether the left operand is a method call.
4. Get the name of method called.
5. Check whether the name of method is getJane.
6. Get the right operand of infix expression.
7. Check whether the right operand is a method call.
8. Get the name of method called in the right operand.
9. Check whether the name of method is equals.
10. Get the operator of infix expression.
11. Check whether the operator is OR (||).
If the condition of if statement is an infix expression where the left and right operands are method calls and the operator is OR (||), then this test case violates the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a method call.* 匹配到的元操作或API：
query: Check whether the left operand is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8237406015396118
*Get the name of method called.* 匹配到的元操作或API：
logic: Get the name of method called.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9755855798721313
*Check whether the name of method is getJane.* 匹配到的元操作或API：
query: Check whether the name of method is getJane.
most similar API: get name of method
cosine Similarity: 0.8092442750930786
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the name of method called in the right operand.* 匹配到的元操作或API：
logic: Get the name of method called in the right operand.
most similar meta operation: Get the name of called method
cosine Similarity: 0.8768048286437988
*Check whether the name of method is equals.* 匹配到的元操作或API：
query: Check whether the name of method is equals.
most similar API: Check whether the method equals
cosine Similarity: 0.9199657440185547
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator is OR (||).* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the condition of the if statement.
2. Check whether the condition is infix expression.
3. Get the operator of infix expression.
4. Check whether the operator in infix expression is logical AND.
5. Get the left operand of infix expression.
6. Check whether the left operand is a null check.
7. Get the right operand of infix expression.
8. Check if the right operand is a method call.
9. Get the name of the called method.
10. Check whether the name of the called method is equals.
11. Get the method caller of the method call.
12. Check whether the method caller is the same variable used in the null check.

If the condition of the if statement is an infix expression with logical AND as operator, where the left operand checks for null and the right operand is a method call on the same variable, then this test case violates the rule.
*Get the condition of the if statement.* 匹配到的元操作或API：
logic: Get the condition of the if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9738380908966064
*Check whether the condition is infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9096700549125671
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator in infix expression is logical AND.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is logical AND.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9001768827438354
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check if the right operand is a method call.* 匹配到的元操作或API：
query: Check if the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.872650146484375
*Get the name of the called method.* 匹配到的元操作或API：
logic: Get the name of the called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9750091433525085
*Check whether the name of the called method is equals.* 匹配到的元操作或API：
query: Check whether the name of the called method is equals.
most similar API: Check whether the method call equals
cosine Similarity: 0.9173130989074707
*Get the method caller of the method call.* 匹配到的元操作或API：
logic: Get the method caller of the method call.
most similar meta operation: Get the method caller
cosine Similarity: 0.9618324041366577
*Check whether the method caller is the same variable used in the null check.* 匹配到的元操作或API：
query: Check whether the method caller is the same variable used in the null check.
most similar API: Check whether the method call equals
cosine Similarity: 0.8371055126190186
=========================logics=========================
1. Get the condition of the if statement.
2. Check whether the condition is an infix expression.
3. Get the operator of the infix expression.
4. Check whether the operator is "||".
5. Get the left operand of the infix expression.
6. Check whether the left operand is a null check.
7. Get the right operand of the infix expression.
8. Check whether the right operand is a method call.
9. Get the name of the called method.
10. Check whether the method name is "equals".
11. Get the method caller.
12. Check whether the method caller is the same as the variable checked for null in the left operand.
The rule is not violated in the given test case as the null check will not throw a NullPointerException.
*Get the condition of the if statement.* 匹配到的元操作或API：
logic: Get the condition of the if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9738380908966064
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the operator of the infix expression.* 匹配到的元操作或API：
logic: Get the operator of the infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9841877222061157
*Check whether the operator is "||".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the left operand of the infix expression.* 匹配到的元操作或API：
logic: Get the left operand of the infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9858164191246033
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of the infix expression.* 匹配到的元操作或API：
logic: Get the right operand of the infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9822914600372314
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the name of the called method.* 匹配到的元操作或API：
logic: Get the name of the called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9750091433525085
*Check whether the method name is "equals".* 匹配到的元操作或API：
query: Check whether the method name is "equals".
most similar API: Check whether the method equals
cosine Similarity: 0.912889838218689
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is the same as the variable checked for null in the left operand.* 匹配到的元操作或API：
query: Check whether the method caller is the same as the variable checked for null in the left operand.
most similar API: Check whether the method call equals
cosine Similarity: 0.811982274055481
94
78
93
78
99
82
97
81
87
72
111
94
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is infix expression.
3. Get the operator of infix expression.
4. Check whether the operator is &&.
5. Get the left operand of infix expression.
6. Get the right operand of infix expression.
7. Check whether the left operand is a relational expression.
8. Check whether the right operand is == null expression.
9. Get the expression before null in == null expression.
10. Check whether the expression is accessed array.
If the left operand of the && expression in the if condition is a relational expression and the right operand is an == null expression with accessed array as its left operand, then this test case adheres to the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9096700549125671
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator is &&.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the left operand is a relational expression.* 匹配到的元操作或API：
query: Check whether the left operand is a relational expression.
most similar API: Check whether the numeric literal is expression
cosine Similarity: 0.8068280220031738
*Check whether the right operand is == null expression.* 匹配到的元操作或API：
query: Check whether the right operand is == null expression.
most similar API: Check whether the null literal equals
cosine Similarity: 0.8740427494049072
*Get the expression before null in == null expression.* 匹配到的元操作或API：
query: Get the expression before null in == null expression.
most similar API: Check whether the null literal is expression
cosine Similarity: 0.8499629497528076
*Check whether the expression is accessed array.* 匹配到的元操作或API：
logic: Check whether the expression is accessed array.
most similar meta operation: Check whether the accessed variable is array type
cosine Similarity: 0.8501081466674805
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is an infix expression.
3. Get the operator of infix expression.
4. Check whether the operator in infix expression is '&&'.
5. Get the left operand of infix expression.
6. Check whether the left operand is a method call.
7. Get the method caller.
8. Check whether the method caller is an accessed variable.
9. Check whether the accessed variable is a field.
10. Get the right operand of infix expression.
11. Check whether the right operand is a method call.
12. Get the method caller of the right operand.
13. Check whether the method caller is the same accessed variable as the left operand.
If the condition of an if statement is an infix expression with '&&' operator, and both the left and right operand are method calls on the same accessed variable, then this test case adheres to the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator in infix expression is '&&'.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is '&&'.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9329595565795898
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a method call.* 匹配到的元操作或API：
query: Check whether the left operand is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8237406015396118
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is an accessed variable.* 匹配到的元操作或API：
logic: Check whether the method caller is an accessed variable.
most similar meta operation: Check whether the accessed variable is a local variable
cosine Similarity: 0.859618604183197
*Check whether the accessed variable is a field.* 匹配到的元操作或API：
logic: Check whether the accessed variable is a field.
most similar meta operation: Check whether the accessed variable is a field
cosine Similarity: 0.9899091124534607
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the method caller of the right operand.* 匹配到的元操作或API：
logic: Get the method caller of the right operand.
most similar meta operation: Get the method caller
cosine Similarity: 0.8744829893112183
*Check whether the method caller is the same accessed variable as the left operand.* 匹配到的元操作或API：
query: Check whether the method caller is the same accessed variable as the left operand.
most similar API: Check whether the variable access equals
cosine Similarity: 0.8197230100631714
=========================logics=========================
1. Get the condition of if statement.
2. Get the left operand of the logical AND operation in the if condition.
3. Check whether the left operand of the logical AND operation is a method call.
4. Get the method caller.
5. Check whether the method caller is null.
6. Get the right operand of the logical AND operation in the if condition.
7. Check whether the right operand of the logical AND operation is an equality check with a null value.
8. Get the left operand of the equality operation in the right operand of logical AND.
9. Check whether the left operand of the equality operation is the same as the method caller in the left operand of the logical AND operation.
If the method caller is null and is also used in the subsequent null check in the if condition, then this test case violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of the logical AND operation in the if condition.* 匹配到的元操作或API：
logic: Get the left operand of the logical AND operation in the if condition.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.8555269241333008
*Check whether the left operand of the logical AND operation is a method call.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is null.* 匹配到的元操作或API：
query: Check whether the method caller is null.
most similar API: Check whether is null check
cosine Similarity: 0.8236192464828491
*Get the right operand of the logical AND operation in the if condition.* 匹配到的元操作或API：
未匹配成功元操作或API
*Check whether the right operand of the logical AND operation is an equality check with a null value.* 匹配到的元操作或API：
query: Check whether the right operand of the logical AND operation is an equality check with a null value.
most similar API: Check whether the null literal equals
cosine Similarity: 0.811699390411377
*Get the left operand of the equality operation in the right operand of logical AND.* 匹配到的元操作或API：
query: Get the left operand of the equality operation in the right operand of logical AND.
most similar API: get left operand of infix expression: Returns the left-hand-side operand.
cosine Similarity: 0.8028970956802368
*Check whether the left operand of the equality operation is the same as the method caller in the left operand of the logical AND operation.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is an infix expression.
3. Get the operator of infix expression.
4. Check whether the operator in infix expression is '&&'.
5. Get the left operand of infix expression.
6. Check whether the left operand is a null check.
7. Get the right operand of infix expression.
8. Check whether the right operand is a method call.
9. Get the name of called method.
10. Check whether the method name is length.
11. Get the method caller.
12. Check whether the method caller is the same object in the null check.
If the condition of the if statement is an infix expression with '&&' operator, and the left operand is a null check, and the right operand is a method call on the same object with method name length, then this test case violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator in infix expression is '&&'.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is '&&'.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9329595565795898
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the method name is length.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is the same object in the null check.* 匹配到的元操作或API：
query: Check whether the method caller is the same object in the null check.
most similar API: Check whether the method call equals
cosine Similarity: 0.8259284496307373
95
78
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is infix expression.
3. Get the operator of infix expression.
4. Check whether the operator is logical AND.
5. Get the left operand of infix expression.
6. Check whether the left operand is a length check of array.
7. Get the right operand of infix expression.
8. Check whether the right operand is a null check.
If the condition is infix expression using logical AND where the left operand is a length check of array and the right operand is a null check, there is no violation of the rule in this test case.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9096700549125671
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator is logical AND.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a length check of array.* 匹配到的元操作或API：
query: Check whether the left operand is a length check of array.
most similar API: Check whether is array length field access
cosine Similarity: 0.8065797686576843
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is a null check.* 匹配到的元操作或API：
query: Check whether the right operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8586164712905884
=========================logics=========================
1. Get the condition of if statement.
2. Get the left operand of the logical AND expression.
3. Check whether the left operand is a null check.
4. Get the right operand of the logical AND expression.
5. Check whether the right operand is a method call.
6. Get the return type of called method.
7. Check whether the return type of called method is string.
8. Check whether the method call throws a NullPointerException.
If the condition of the if statement is a logical AND expression where the left operand is a null check and the right operand is a method call that throws NullPointerException, then the test case violates the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of the logical AND expression.* 匹配到的元操作或API：
logic: Get the left operand of the logical AND expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.899870753288269
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of the logical AND expression.* 匹配到的元操作或API：
logic: Get the right operand of the logical AND expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.876383364200592
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the return type of called method.* 匹配到的元操作或API：
logic: Get the return type of called method.
most similar meta operation: Get the return type of called method
cosine Similarity: 0.983582615852356
*Check whether the return type of called method is string.* 匹配到的元操作或API：
logic: Check whether the return type of called method is string.
most similar meta operation: Check whether the return type of called method is string
cosine Similarity: 0.9881924986839294
*Check whether the method call throws a NullPointerException.* 匹配到的元操作或API：
query: Check whether the method call throws a NullPointerException.
most similar API: Check whether is null check
cosine Similarity: 0.8110981583595276
97
80
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition of if statement contains && or || operator.
3. Get the left operand of && or || operator.
4. Check whether the left operand is a null check.
5. Get the right operand of && or || operator.
6. Check whether the right operand is a null check.
7. Check whether the right operand contains assignment expression.
If the condition of if statement contains && operator, and the left operand is a null check, and the right operand is a null check containing an assignment expression, then this test case does not violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition of if statement contains && or || operator.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the left operand of && or || operator.* 匹配到的元操作或API：
logic: Get the left operand of && or || operator.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.8817381262779236
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of && or || operator.* 匹配到的元操作或API：
logic: Get the right operand of && or || operator.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8614356517791748
*Check whether the right operand is a null check.* 匹配到的元操作或API：
query: Check whether the right operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8586164712905884
*Check whether the right operand contains assignment expression.* 匹配到的元操作或API：
logic: Check whether the right operand contains assignment expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8906847238540649
=========================logics=========================
1. Get the condition of if statement.
2. Get the left operand of infix expression from condition.
3. Check whether the left operand of infix expression is null check.
4. Get the right operand of infix expression from condition.
5. Check whether the right operand of infix expression is null check.
6. Get the operator of infix expression from condition.
7. Check whether the operator in infix expression is &&.
8. Repeat steps 2-7 for all infix expressions in the condition.
If any null check in the condition of the if statement is broken, then this test case violates the rule. In this case, the rule is not violated.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of infix expression from condition.* 匹配到的元操作或API：
logic: Get the left operand of infix expression from condition.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9693480134010315
*Check whether the left operand of infix expression is null check.* 匹配到的元操作或API：
logic: Check whether the left operand of infix expression is null check.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.8665033578872681
*Get the right operand of infix expression from condition.* 匹配到的元操作或API：
logic: Get the right operand of infix expression from condition.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9618590474128723
*Check whether the right operand of infix expression is null check.* 匹配到的元操作或API：
logic: Check whether the right operand of infix expression is null check.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.8638797998428345
*Get the operator of infix expression from condition.* 匹配到的元操作或API：
logic: Get the operator of infix expression from condition.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9547374248504639
*Check whether the operator in infix expression is &&.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is &&.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9346855282783508
*Repeat steps 2-7 for all infix expressions in the condition.* 匹配到的元操作或API：
未匹配成功元操作或API
103
87
96
80
90
75
84
70
=========================logics=========================
1. Get the condition of if statement.
        2. Get the left operand of infix expression.
        3. Check whether the left operand of infix expression is a method call.
        4. Get the name of called method.
        5. Check whether the method name is getBooks.
        6. Get the argument of method call.
        7. Get the type of argument.
        8. Check whether the argument type is Class.
        9. Get the right operand of infix expression.
        10. Check whether the right operand of infix expression is a method call.
        11. Get the name of called method.
        12. Check whether the method name is getBooks.
        13. Get the argument of method call.
        14. Get the type of argument.
        15. Check whether the argument type is Class.
        16. Get the operator of infix expression.
        17. Check whether the operator in infix expression is ||.
        18. Check whether the left operand or the right operand is null.
        If none of the operands is null and the operator in infix expression is ||, then this test case does not violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand of infix expression is a method call.* 匹配到的元操作或API：
query: Check whether the left operand of infix expression is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.8500709533691406
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the method name is getBooks.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the argument of method call.* 匹配到的元操作或API：
logic: Get the argument of method call.
most similar meta operation: Get an argument of called method
cosine Similarity: 0.9547275304794312
*Get the type of argument.* 匹配到的元操作或API：
logic: Get the type of argument.
most similar meta operation: Get the type of argument
cosine Similarity: 0.9841679334640503
*Check whether the argument type is Class.* 匹配到的元操作或API：
logic: Check whether the argument type is Class.
most similar meta operation: Check whether the argument is x class type
cosine Similarity: 0.9189034700393677
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand of infix expression is a method call.* 匹配到的元操作或API：
query: Check whether the right operand of infix expression is a method call.
most similar API: Check whether the method call is expression
cosine Similarity: 0.865786075592041
*Get the name of called method.* 匹配到的元操作或API：
logic: Get the name of called method.
most similar meta operation: Get the name of called method
cosine Similarity: 0.9817375540733337
*Check whether the method name is getBooks.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the argument of method call.* 匹配到的元操作或API：
logic: Get the argument of method call.
most similar meta operation: Get an argument of called method
cosine Similarity: 0.9547275304794312
*Get the type of argument.* 匹配到的元操作或API：
logic: Get the type of argument.
most similar meta operation: Get the type of argument
cosine Similarity: 0.9841679334640503
*Check whether the argument type is Class.* 匹配到的元操作或API：
logic: Check whether the argument type is Class.
most similar meta operation: Check whether the argument is x class type
cosine Similarity: 0.9189034700393677
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator in infix expression is ||.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is ||.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9215893149375916
*Check whether the left operand or the right operand is null.* 匹配到的元操作或API：
query: Check whether the left operand or the right operand is null.
most similar API: compare location of null literal
cosine Similarity: 0.8065193891525269
106
91
75
61
89
74
96
79
116
101
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is an infix expression.
3. Get the operator of infix expression.
4. Check whether the operator is "&&".
5. Get the left operand of infix expression.
6. Check whether the left operand is a null check.
7. Get the right operand of infix expression.
8. Check whether the right operand is an instance of check.
9. Get the operand of instance of check.
10. Check whether the operand of instance of check is the same as the left operand of infix expression.
If the condition of the if statement is an infix expression with "&&" operator, where the left operand is a null check and the right operand is an instance of check with the same operand as the left operand, then this test case violate the rule.
*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator is "&&".* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the right operand is an instance of check.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the operand of instance of check.* 匹配到的元操作或API：
query: Get the operand of instance of check.
most similar API: get operand of unary expression
cosine Similarity: 0.8197622299194336
*Check whether the operand of instance of check is the same as the left operand of infix expression.* 匹配到的元操作或API：
logic: Check whether the operand of instance of check is the same as the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.8577923774719238
77
63
107
91
=========================logics=========================
1. Get the condition of the if statement.
2. Get the left operand of the infix expression in the condition.
3. Check whether the left operand is a comparison of a variable to null.
4. Get the right operand of the infix expression in the condition.
5. Check whether the right operand is a comparison of the same variable to a boolean value.
6. Check whether the operator of the infix expression in the condition is "&&".
If the condition of the if statement is an infix expression where the left operand is a comparison of a variable to null, the right operand is a comparison of the same variable to a boolean value, and the operator is "&&", then the test case violates the rule.
*Get the condition of the if statement.* 匹配到的元操作或API：
logic: Get the condition of the if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9738380908966064
*Get the left operand of the infix expression in the condition.* 匹配到的元操作或API：
logic: Get the left operand of the infix expression in the condition.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9706343412399292
*Check whether the left operand is a comparison of a variable to null.* 匹配到的元操作或API：
query: Check whether the left operand is a comparison of a variable to null.
most similar API: Check whether is null check: Returns true if the expression is a null check on the given variable.
cosine Similarity: 0.8259389996528625
*Get the right operand of the infix expression in the condition.* 匹配到的元操作或API：
logic: Get the right operand of the infix expression in the condition.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9625902771949768
*Check whether the right operand is a comparison of the same variable to a boolean value.* 匹配到的元操作或API：
query: Check whether the right operand is a comparison of the same variable to a boolean value.
most similar API: Check whether the boolean literal equals
cosine Similarity: 0.8065712451934814
*Check whether the operator of the infix expression in the condition is "&&".* 匹配到的元操作或API：
logic: Check whether the operator of the infix expression in the condition is "&&".
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.92140793800354
=========================logics=========================
1. Get the name of method.
2. Get the body of method.
3. Get the assignments in method body.
4. For each assignment:
   4.1. Get the right operand of assignment expression.
   4.2. Check whether the right operand is an infix expression.
   4.3. If it is an infix expression:
       4.3.1. Get the operator of infix expression.
       4.3.2. Check whether the operator is '&&'.
       4.3.3. If the operator is '&&':
           4.3.3.1. Get the left and right operands of infix expression.
           4.3.3.2. Check whether the left operand is a null check.
           4.3.3.3. Check whether the right operand is a null check.
       4.3.4. Check whether the right operand is a null check.
5. If any of the checks in step 4 fail, then this test case violate the rule.
*Get the name of method.* 匹配到的元操作或API：
logic: Get the name of method.
most similar meta operation: Get the name of method
cosine Similarity: 0.9766309261322021
*Get the body of method.* 匹配到的元操作或API：
query: Get the body of method.
most similar API: get body of method
cosine Similarity: 0.9752806425094604
*Get the assignments in method body.* 匹配到的元操作或API：
query: Get the assignments in method body.
most similar API: get body of method
cosine Similarity: 0.8097078800201416
*For each assignment:* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the right operand of assignment expression.* 匹配到的元操作或API：
logic: Get the right operand of assignment expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.9884069561958313
*Check whether the right operand is an infix expression.* 匹配到的元操作或API：
logic: Check whether the right operand is an infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9103248119354248
*If it is an infix expression:* 匹配到的元操作或API：
logic: If it is an infix expression:
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.889494776725769
*Get the operator of infix expression.* 匹配到的元操作或API：
logic: Get the operator of infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9891121983528137
*Check whether the operator is '&&'.* 匹配到的元操作或API：
未匹配成功元操作或API
*If the operator is '&&':* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the left and right operands of infix expression.* 匹配到的元操作或API：
logic: Get the left and right operands of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9421153664588928
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Check whether the right operand is a null check.* 匹配到的元操作或API：
query: Check whether the right operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8586164712905884
*Check whether the right operand is a null check.* 匹配到的元操作或API：
query: Check whether the right operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8586164712905884
*If any of the checks in step 4 fail, then this test case violate the rule.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the condition of the if statement.
    2. Check whether the condition is an infix expression.
    3. Get the operator of the infix expression.
    4. Check whether the operator in the infix expression is ||.
    5. Get the left operand of the infix expression.
    6. Check whether the left operand is a comparison expression.
    7. Get the left operand of the comparison expression.
    8. Check whether the left operand is a local variable.
    9. Get the right operand of the comparison expression.
    10. Check whether the right operand is null.
    11. Get the right operand of the infix expression.
    12. Check whether the right operand is a comparison expression.
    13. Get the left operand of the comparison expression.
    14. Check whether the left operand is the same local variable checked in step 8.
    15. Get the right operand of the comparison expression.
    16. Check whether the right operand is a boolean literal.
    If the condition of the if statement is an infix expression where the operator is ||, the left operand is a comparison expression where a local variable is compared to null, and the right operand is a comparison expression where the same local variable is compared to a boolean literal, then this test case does not violate the rule.
*Get the condition of the if statement.* 匹配到的元操作或API：
logic: Get the condition of the if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9738380908966064
*Check whether the condition is an infix expression.* 匹配到的元操作或API：
logic: Check whether the condition is an infix expression.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9103512763977051
*Get the operator of the infix expression.* 匹配到的元操作或API：
logic: Get the operator of the infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9841877222061157
*Check whether the operator in the infix expression is ||.* 匹配到的元操作或API：
logic: Check whether the operator in the infix expression is ||.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9197180867195129
*Get the left operand of the infix expression.* 匹配到的元操作或API：
logic: Get the left operand of the infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9858164191246033
*Check whether the left operand is a comparison expression.* 匹配到的元操作或API：
query: Check whether the left operand is a comparison expression.
most similar API: Check whether the assignment expression equals
cosine Similarity: 0.8256238102912903
*Get the left operand of the comparison expression.* 匹配到的元操作或API：
logic: Get the left operand of the comparison expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.9186041355133057
*Check whether the left operand is a local variable.* 匹配到的元操作或API：
logic: Check whether the left operand is a local variable.
most similar meta operation: Check whether the accessed variable is a local variable
cosine Similarity: 0.8577459454536438
*Get the right operand of the comparison expression.* 匹配到的元操作或API：
logic: Get the right operand of the comparison expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.902172327041626
*Check whether the right operand is null.* 匹配到的元操作或API：
query: Check whether the right operand is null.
most similar API: Check whether the null literal equals
cosine Similarity: 0.8364773988723755
*Get the right operand of the infix expression.* 匹配到的元操作或API：
logic: Get the right operand of the infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9822914600372314
*Check whether the right operand is a comparison expression.* 匹配到的元操作或API：
query: Check whether the right operand is a comparison expression.
most similar API: Check whether the assignment expression equals
cosine Similarity: 0.8448753952980042
*Get the left operand of the comparison expression.* 匹配到的元操作或API：
logic: Get the left operand of the comparison expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.9186041355133057
*Check whether the left operand is the same local variable checked in step 8.* 匹配到的元操作或API：
query: Check whether the left operand is the same local variable checked in step 8.
most similar API: Check whether the local variable equals
cosine Similarity: 0.821415901184082
*Get the right operand of the comparison expression.* 匹配到的元操作或API：
logic: Get the right operand of the comparison expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.902172327041626
*Check whether the right operand is a boolean literal.* 匹配到的元操作或API：
logic: Check whether the right operand is a boolean literal.
most similar meta operation: Check whether the boolean literal is true
cosine Similarity: 0.8810778260231018
=========================logics=========================
1. Get the left operand of the first infix expression.
2. Check whether the left operand is accessing a variable.
3. Get the type of accessed variable.
4. Check whether the type of accessed variable is Boolean.
5. Get the right operand of the first infix expression.
6. Check whether the right operand is a null literal.
7. Get the operator of the first infix expression.
8. Check whether the operator in infix expression is '!='.
9. Get the operator of the second infix expression.
10. Check whether the operator in infix expression is '||'.
11. Get the left operand of the second infix expression.
12. Check whether the left operand is accessing a variable.
13. Get the type of accessed variable.
14. Check whether the type of accessed variable is Boolean.
15. Get the right operand of the second infix expression.
16. Check whether the right operand is a boolean literal.
17. Get the operator of the second infix expression.
18. Check whether the operator in infix expression is '!=' or '=='.

If the accessed variable is of the Boolean type and the operator of the first infix expression is '!=' and the right operand is a null literal and the operator of the second infix expression is '||' and the operator of the second infix expression is '!=' or '==', then this test case violates the rule.

*Get the left operand of the first infix expression.* 匹配到的元操作或API：
logic: Get the left operand of the first infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9727238416671753
*Check whether the left operand is accessing a variable.* 匹配到的元操作或API：
query: Check whether the left operand is accessing a variable.
most similar API: get left operand of assignment expression
cosine Similarity: 0.8309258222579956
*Get the type of accessed variable.* 匹配到的元操作或API：
logic: Get the type of accessed variable.
most similar meta operation: Get the type of accessed variable
cosine Similarity: 0.9871194362640381
*Check whether the type of accessed variable is Boolean.* 匹配到的元操作或API：
logic: Check whether the type of accessed variable is Boolean.
most similar meta operation: Check whether the accessed variable is boolean type
cosine Similarity: 0.9734676480293274
*Get the right operand of the first infix expression.* 匹配到的元操作或API：
logic: Get the right operand of the first infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9621961116790771
*Check whether the right operand is a null literal.* 匹配到的元操作或API：
query: Check whether the right operand is a null literal.
most similar API: Check whether the null literal is null literal
cosine Similarity: 0.9019619822502136
*Get the operator of the first infix expression.* 匹配到的元操作或API：
logic: Get the operator of the first infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9503998160362244
*Check whether the operator in infix expression is '!='.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is '!='.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9033951759338379
*Get the operator of the second infix expression.* 匹配到的元操作或API：
logic: Get the operator of the second infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9499844908714294
*Check whether the operator in infix expression is '||'.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is '||'.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9226387739181519
*Get the left operand of the second infix expression.* 匹配到的元操作或API：
logic: Get the left operand of the second infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9664570093154907
*Check whether the left operand is accessing a variable.* 匹配到的元操作或API：
query: Check whether the left operand is accessing a variable.
most similar API: get left operand of assignment expression
cosine Similarity: 0.8309258222579956
*Get the type of accessed variable.* 匹配到的元操作或API：
logic: Get the type of accessed variable.
most similar meta operation: Get the type of accessed variable
cosine Similarity: 0.9871194362640381
*Check whether the type of accessed variable is Boolean.* 匹配到的元操作或API：
logic: Check whether the type of accessed variable is Boolean.
most similar meta operation: Check whether the accessed variable is boolean type
cosine Similarity: 0.9734676480293274
*Get the right operand of the second infix expression.* 匹配到的元操作或API：
logic: Get the right operand of the second infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9568729996681213
*Check whether the right operand is a boolean literal.* 匹配到的元操作或API：
logic: Check whether the right operand is a boolean literal.
most similar meta operation: Check whether the boolean literal is true
cosine Similarity: 0.8810778260231018
*Get the operator of the second infix expression.* 匹配到的元操作或API：
logic: Get the operator of the second infix expression.
most similar meta operation: Get the operator of infix expression
cosine Similarity: 0.9499844908714294
*Check whether the operator in infix expression is '!=' or '=='.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is '!=' or '=='.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9056177139282227
=========================logics=========================
1. Get the condition of the && expression.
2. Check whether the condition involves a null check.
3. Get the left operand of the && expression.
4. Check whether the left operand is a null check.
5. Get the right operand of the && expression.
6. Check whether the right operand is a null check.
7. Get the value being checked in the null check.
8. Check whether it is the same value in both operands of the && expression.
If the condition of && expression involves a null check on the same value in the both operands, then this test case violate the rule.
*Get the condition of the && expression.* 匹配到的元操作或API：
logic: Get the condition of the && expression.
most similar meta operation: Get the condition of ternary expression
cosine Similarity: 0.8589710593223572
*Check whether the condition involves a null check.* 匹配到的元操作或API：
query: Check whether the condition involves a null check.
most similar API: Check whether is null check
cosine Similarity: 0.9083275198936462
*Get the left operand of the && expression.* 匹配到的元操作或API：
logic: Get the left operand of the && expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.9059647917747498
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of the && expression.* 匹配到的元操作或API：
logic: Get the right operand of the && expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8872484564781189
*Check whether the right operand is a null check.* 匹配到的元操作或API：
query: Check whether the right operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8586164712905884
*Get the value being checked in the null check.* 匹配到的元操作或API：
query: Get the value being checked in the null check.
most similar API: Check whether is null checked
cosine Similarity: 0.8150715231895447
*Check whether it is the same value in both operands of the && expression.* 匹配到的元操作或API：
query: Check whether it is the same value in both operands of the && expression.
most similar API: Check whether the expression statement equals
cosine Similarity: 0.8034783601760864
103
88
=========================logics=========================
1. Get the condition of the ternary expression.
2. Get the left operand of && operator in the condition of the ternary expression.
3. Check whether the left operand is a null check.
4. Get the right operand of && operator in the condition of the ternary expression.
5. Check whether the right operand is a method call.
6. Get the method caller.
7. Check whether the method caller is null.
8. Repeat steps 5 to 7 for method reference, field access, and qualified constructor call.
If the left operand of the && operator in the ternary expression condition is a null check and the right operand is a method call, method reference, field access, or qualified constructor call that invokes a method or accesses a field on a null object, then this test case violates the rule.
*Get the condition of the ternary expression.* 匹配到的元操作或API：
logic: Get the condition of the ternary expression.
most similar meta operation: Get the condition of ternary expression
cosine Similarity: 0.9785269498825073
*Get the left operand of && operator in the condition of the ternary expression.* 匹配到的元操作或API：
logic: Get the left operand of && operator in the condition of the ternary expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.873467206954956
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of && operator in the condition of the ternary expression.* 匹配到的元操作或API：
logic: Get the right operand of && operator in the condition of the ternary expression.
most similar meta operation: Get the condition of ternary expression
cosine Similarity: 0.8624165654182434
*Check whether the right operand is a method call.* 匹配到的元操作或API：
query: Check whether the right operand is a method call.
most similar API: Check whether the method call equals
cosine Similarity: 0.8639539480209351
*Get the method caller.* 匹配到的元操作或API：
logic: Get the method caller.
most similar meta operation: Get the method caller
cosine Similarity: 0.9796932339668274
*Check whether the method caller is null.* 匹配到的元操作或API：
query: Check whether the method caller is null.
most similar API: Check whether is null check
cosine Similarity: 0.8236192464828491
*Repeat steps 5 to 7 for method reference, field access, and qualified constructor call.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the condition of the logical expression.
2. Check whether the operator in the logical expression is &&.
3. Get the left operand of the logical expression.
4. Check whether the left operand is a null check.
5. Get the right operand of the logical expression.
6. Check whether the right operand is a field access.
7. Check whether the field accessed is the same as the one checked for null in the left operand.
If the condition of logical expression uses && where the left operand is a null check and the right operand is accessing the same field, then this test case violates the rule.
*Get the condition of the logical expression.* 匹配到的元操作或API：
logic: Get the condition of the logical expression.
most similar meta operation: Get the condition of ternary expression
cosine Similarity: 0.8838961124420166
*Check whether the operator in the logical expression is &&.* 匹配到的元操作或API：
query: Check whether the operator in the logical expression is &&.
most similar API: Check whether the expression statement equals
cosine Similarity: 0.8027812242507935
*Get the left operand of the logical expression.* 匹配到的元操作或API：
logic: Get the left operand of the logical expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.918310284614563
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of the logical expression.* 匹配到的元操作或API：
logic: Get the right operand of the logical expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8976452350616455
*Check whether the right operand is a field access.* 匹配到的元操作或API：
logic: Check whether the right operand is a field access.
most similar meta operation: Check whether the accessed variable is a field
cosine Similarity: 0.8509036898612976
*Check whether the field accessed is the same as the one checked for null in the left operand.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the condition of each if statement.
2. Check whether the condition is a logical OR expression.
3. Get the left operand of the logical OR expression.
4. Check whether the left operand is a null check.
5. Get the right operand of the logical OR expression.
6. Check whether the right operand is a logical AND expression.
7. Get the left operand of the logical AND expression.
8. Check whether the left operand is a not-null check.
If any if statement's condition is a logical OR expression where the left operand is a null check and the right operand is a logical AND expression where the left operand is a not-null check, then this test case violates the rule.
*Get the condition of each if statement.* 匹配到的元操作或API：
logic: Get the condition of each if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9226924180984497
*Check whether the condition is a logical OR expression.* 匹配到的元操作或API：
query: Check whether the condition is a logical OR expression.
most similar API: Check whether the unary expression is expression
cosine Similarity: 0.8280481696128845
*Get the left operand of the logical OR expression.* 匹配到的元操作或API：
logic: Get the left operand of the logical OR expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.8923843502998352
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Get the right operand of the logical OR expression.* 匹配到的元操作或API：
logic: Get the right operand of the logical OR expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8644448518753052
*Check whether the right operand is a logical AND expression.* 匹配到的元操作或API：
query: Check whether the right operand is a logical AND expression.
most similar API: Check whether the numeric literal is expression
cosine Similarity: 0.8152109980583191
*Get the left operand of the logical AND expression.* 匹配到的元操作或API：
logic: Get the left operand of the logical AND expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.899870753288269
*Check whether the left operand is a not-null check.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the condition of if statement.
2. Check whether the condition is a logical AND expression.
3. Get the left operand of logical AND expression.
4. Get the right operand of logical AND expression.
5. Check whether the left operand is a null check.
6. Check whether the right operand is an unboxing operation.
If the condition of if statement is a logical AND expression, and the left operand is a null check, and the right operand is an unboxing operation, then this test case violates the rule.

*Get the condition of if statement.* 匹配到的元操作或API：
logic: Get the condition of if statement.
most similar meta operation: Get the condition of if statement
cosine Similarity: 0.9797651767730713
*Check whether the condition is a logical AND expression.* 匹配到的元操作或API：
query: Check whether the condition is a logical AND expression.
most similar API: Check whether the numeric literal is expression
cosine Similarity: 0.828683078289032
*Get the left operand of logical AND expression.* 匹配到的元操作或API：
logic: Get the left operand of logical AND expression.
most similar meta operation: Get the left operand of assignment expression
cosine Similarity: 0.9069440364837646
*Get the right operand of logical AND expression.* 匹配到的元操作或API：
logic: Get the right operand of logical AND expression.
most similar meta operation: Get the right operand of assignment expression
cosine Similarity: 0.8863918781280518
*Check whether the left operand is a null check.* 匹配到的元操作或API：
query: Check whether the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8328814506530762
*Check whether the right operand is an unboxing operation.* 匹配到的元操作或API：
未匹配成功元操作或API
=========================logics=========================
1. Get the left operand of infix expression.
2. Get the right operand of infix expression.
3. Check whether the operator in infix expression is &&.
4. Check if the left operand is a null check.
5. Check if the right operand is a comparison between two variables.
6. Get the name of accessed variable in the null check.
7. Get the name of first accessed variable in the comparison.
8. Check whether the name of accessed variable in the null check and the first accessed variable in the comparison are the same.
If the left of && is a null check on a variable and the right is a comparison involving the same variable, then this test case doesn't violate the rule.
*Get the left operand of infix expression.* 匹配到的元操作或API：
logic: Get the left operand of infix expression.
most similar meta operation: Get the left operand of infix expression
cosine Similarity: 0.9903916120529175
*Get the right operand of infix expression.* 匹配到的元操作或API：
logic: Get the right operand of infix expression.
most similar meta operation: Get the right operand of infix expression
cosine Similarity: 0.9884670972824097
*Check whether the operator in infix expression is &&.* 匹配到的元操作或API：
logic: Check whether the operator in infix expression is &&.
most similar meta operation: Check whether the operator in infix expression is ''
cosine Similarity: 0.9346855282783508
*Check if the left operand is a null check.* 匹配到的元操作或API：
query: Check if the left operand is a null check.
most similar API: Check whether is null check
cosine Similarity: 0.8362851142883301
*Check if the right operand is a comparison between two variables.* 匹配到的元操作或API：
未匹配成功元操作或API
*Get the name of accessed variable in the null check.* 匹配到的元操作或API：
logic: Get the name of accessed variable in the null check.
most similar meta operation: Get the name of accessed variable
cosine Similarity: 0.8827512860298157
*Get the name of first accessed variable in the comparison.* 匹配到的元操作或API：
logic: Get the name of first accessed variable in the comparison.
most similar meta operation: Get the name of accessed variable
cosine Similarity: 0.8665379881858826
*Check whether the name of accessed variable in the null check and the first accessed variable in the comparison are the same.* 匹配到的元操作或API：
query: Check whether the name of accessed variable in the null check and the first accessed variable in the comparison are the same.
most similar API: Check whether the variable access equals
cosine Similarity: 0.8188367486000061
==========================第1轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: The null check is broken since it will throw a NullPointerException itself. It is likely that you used || instead of && or vice versa.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// should be &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null || !list.equals(buz)) {
            return list;
        }
    }
}
```
2. This is a positive test case
```java
// Ok, is &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null && !list.equals(buz)) {
            return list;
        }
    }
}
```
3. This is a negative test case
```java
// should be &&, but now with a longer expression
class Books {
    String getJane() { return null; }
    void bar(Books books) {
        if (books.getJane()!= null || !books.getJane().equals("")) { }
    }
}
```
4. This is a negative test case
```java
// should be ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null && list.equals(buz)) {
            return list;
        }
    }
}
```
5. This is a positive test case
```java
// Ok, is ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null || list.equals(buz)) {
            return list;
        }
    }
}
```
6. This is a positive test case
```java
// Arrays are Ok
public class Foo {
    String[] books;
    void bar(int index) {
        if (index >= 0 && books[index] == null) { }
    }
}
```
7. This is a positive test case
```java
// Different method is Ok
public class Book {
    Book[] books;
    String getJane() { return null; }
    String getEyre() { return null; }
    void bar(int i) {
        if (books[i].getJane() == null &&
            books[i].getEyre() == null) { }
    }
}
```
8. This is a positive test case
```java
// Using a shorter expression with the same variable in the second check should not crash the test
public class Book {
    Book[] books;
    String getJane() { return null; }
    void bar(String eyre) {
        if (books.getJane() == null &&
            books == eyre) { }
    }
}
```
9. This is a negative test case
```java
// 1633683, should be ||, but now with another compare
public class Foo {
    void bar(String str) {
        if (str == null && str.length() == 0) { }
    }
}
```
10. This is a positive test case
```java
// 1633683, Arrays are Ok II
public class Foo {
    void bar(String[] p) {
        if (p.length > 1 && p[0] == null) { }
    }
}
```
11. This is a positive test case
```java
// Different literals in variables should not match
public class Foo {
    String getJane() { return null; }
    void bar(Foo[] p) {
        if (p[0] == null && p[1].getJane()) { }
    }
}
```
12. This is a positive test case
```java
// Assignments in checks are OK
public class Book {
    Book[] books;
    Book[] getBook(int i) {return books;}
    void bar(int janeEyre) {
        if (books == null &&
            (books = getBook(janeEyre)) == null) { }
    }
}
```
13. This is a positive test case
```java
// Useless code, but it will not throw a NullPointerException
public class Family {
    String plain, bold;
    void bar(Family family) {
        if (family.plain == null && family.bold == null &&
           family.plain == null && family.bold == null) { }
    }
}
```
14. This is a positive test case
```java
// Similar method calls with different arguments are OK
import my.Jane;
import my.Eyre;
public class Library {
    String[] getBook(Class<?> i) {return null;}
    void bar(Library library) {
        if (library.getBooks(Jane.class) != null ||
            library.getBooks(Eyre.class) != null) { }
    }
}
```
15. This is a positive test case
```java
// #3071 BrokenNullCheck FP
class Test{
                Object obj = new Object(), objectWithDifferentName = obj;

                public void testPMD(){
                    Object obj = new Object();
                    String str = "str";

                    //Case 1. : An Alarm is generated
                    if(obj == null && !(obj instanceof String));

                    //Case 3.
                    if(obj == null && this.obj == null); //An Alarm is generated
                    if(obj == null && this.objectWithDifferentName); //An Alarm isn't generated
                    if(obj == null && objectWithDifferentName); //An Alarm isn't generated
                }
            }
```
16. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;
                    result = boo == null && boo != true;  // boo != true would throw NPE because of unboxing
                    result = boo == null && boo != false; // same
                    result = boo == null && boo == true;  // same
                    result = boo == null && boo == false; // same
                }
            }
```
17. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null && boo != true;  // ok
                    result = boo != null && boo != false; // ok
                    result = boo != null && boo == true;  // ok
                    result = boo != null && boo == false; // ok

                }
            }
```
18. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null || boo != true;  // ok
                    result = boo == null || boo != false; // ok
                    result = boo == null || boo == true;  // ok
                    result = boo == null || boo == false; // ok

                }
            }
```
19. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null || boo != true;  // second expression will throw
                    result = boo != null || boo != false; // second expression will throw
                    result = boo != null || boo == true;  // second expression will throw
                    result = boo != null || boo == false; // second expression will throw

                }
            }
```
20. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null && boo;          // same
                }
            }
```
21. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){
                    Test boo = null;

                    boolean result;
                    result = boo == null && handle(boo::toString);           // method reference
                    result = boo == null && boo.toString();                  // method call
                    result = boo == null && boo.field.field.hashCode() == 0; // field access
                    result = boo == null && boo.new Inner().isEmpty();       // qualified ctor call

                }
            }
```
22. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){

                    boolean result;

                    int[] arr = null;

                    result = arr == null && arr[i] == 0;                     // array access
                }
            }
```
23. This is a positive test case
```java
// #3071 BrokenNullCheck FPs (2)
import java.util.*;

            class Test {

                Test foo = new Test(), another = new Test();
                Map<String, String> map;
                String field;
                int idx;
                String[] arr, anotherArr;

                Object foo(Object o) {}

                public void testPMD() {
                    //Case 1.
                    if ((foo == null) != (another == null) || foo != null && !foo.equals(another)) {
                        ;
                    }

                    //Case 2.
                    if (map.remove(null) != null || map.remove("") != null) {
                        ;
                    }
                    if (foo(foo) != null || foo(foo.field) != null) {
                        ;
                    }

                    //Case 3.
                    if (foo != null || foo == null && another != null && another.hashCode() == 0) {
                        ;
                    }

                    //Case 4.
                    if (null != arr[idx] || null == arr[idx] && !anotherArr[idx].isEmpty()) {
                        ;
                    }
                }
            }
```
24. This is a negative test case
```java
// BrokenNullCheck with unboxing, unboxing this operand will throw a NullPointerException
class Test {
                public void testPMD(Integer i){
                    boolean result;
                    result = i == null && i == 0;
                    result = i == null && i << 1;
                    result = i == null && i + 0;
                    result = i == null && i == 0.d;
                }
            }
```
25. This is a positive test case
```java
// Comparing two boxed things does not unbox
class Test {
                public void testPMD(Integer i, Integer d){
                    boolean result;
                    result = i == null && i == d;
                    result = i == null && i != d;
                }
            }
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.errorprone;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.BinaryOp getOperator()
3. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
4. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.rule.internal.StablePathMatcher)
8. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
9. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName(), //Returns the simple name of the method.
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean equals(java.lang.Object)
12. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
13. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean equals(java.lang.Object)
14. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
15. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public boolean equals(java.lang.Object)
16. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand()
17. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand(), //Returns the left-hand-side operand.
18. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isArrayLengthFieldAccess(net.sourceforge.pmd.lang.java.ast.ASTExpression)
19. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
21. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public int compareLocation(net.sourceforge.pmd.lang.ast.Node)
22. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getOperand(), //Returns the expression nested within this expression.
23. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.symbols.JVariableSymbol), //Returns true if the expression is a null check on the given variable.
24. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean equals(java.lang.Object)
25. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTBlock getBody(), //Returns the body of this method or constructor. Returns null if this is the declaration of an abstract method.
27. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public boolean equals(java.lang.Object)
28. net.sourceforge.pmd.lang.java.ast.ASTLocalVariableDeclaration: public boolean equals(java.lang.Object)
29. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean isTrue()
30. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand(), //Returns the left-hand side, ie the expression being assigned to.
31. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public net.sourceforge.pmd.lang.java.types.JTypeMirror getTypeMirror()
32. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isNullLiteral(), //Returns true if this is the {@linkplain ASTNullLiteral null literal}.
33. net.sourceforge.pmd.lang.java.ast.ASTConditionalExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
34. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Returns true if the expr is in a null check (its parent is a null check).
35. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)
36. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
37. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public java.lang.String getName()

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the accessed variable is array type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
public boolean isVariableAccessArrayType(ASTVariableAccess var) {
    return var.getTypeMirror().isArray();
}
```
3.  //Check whether the accessed variable is a local variable
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JLocalVariableSymbol;
public boolean isVariableAccessLocalVariable(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JLocalVariableSymbol) {
        JLocalVariableSymbol localVariableSymbol = (JLocalVariableSymbol) sym;
        return true;
    }
    return false;
}
```
4.  //Check whether the accessed variable is a field
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JFieldSymbol;
public boolean isVariableAccessField(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JFieldSymbol) {
        JFieldSymbol fieldSym = (JFieldSymbol) sym;
        return true;
    }
    return false;
}
```
5.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
6.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
7.  //Get the type of argument
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallArgumentType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return expression.getTypeMirror();
}
```
8.  //Check whether the argument is x class type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentClassType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(x.class, expression.getTypeMirror());
}
```
9.  //Check whether the accessed variable is boolean type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isVariableAccessBooleanType(ASTVariableAccess var) {
    return var.getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN);
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.errorprone;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class BrokenNullCheckRule extends AbstractJavaRulechainRule {

    public BrokenNullCheckRule() {
        addRuleChainVisit(ASTIfStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        ASTExpression expression = (ASTExpression) node.jjtGetChild(0);
        if (expression.jjtGetNumChildren() > 0 && expression.jjtGetChild(0) instanceof ASTInfixExpression) {
            ASTInfixExpression infixExpression = (ASTInfixExpression) expression.jjtGetChild(0);
            if (infixExpression.hasDescendantOfType(ASTPrimaryExpression.class)) {
                checkNullCheck(infixExpression, data);
            }
        }
        return super.visit(node, data);
    }

    private void checkNullCheck(ASTInfixExpression infixExpression, Object data) {
        Node first = infixExpression.jjtGetChild(0);
        Node second = infixExpression.jjtGetChild(1);

        if (first instanceof ASTUnaryExpression && second instanceof ASTMethodCall) {
            ASTUnaryExpression unary = (ASTUnaryExpression) first;
            ASTMethodCall methodCall = (ASTMethodCall) second;

            if (unary.jjtGetChild(0) instanceof ASTVariableAccess) {
                ASTVariableAccess variableAccess = (ASTVariableAccess) unary.jjtGetChild(0);

                if (methodCall.jjtGetChild(0) instanceof ASTPrimaryExpression) {
                    ASTPrimaryExpression primary = (ASTPrimaryExpression) methodCall.jjtGetChild(0);

                    if (primary.jjtGetChild(0) instanceof ASTVariableAccess) {
                        ASTVariableAccess variableAccess2 = (ASTVariableAccess) primary.jjtGetChild(0);

                        if (variableAccess.getImage().equals(variableAccess2.getImage())) {
                            addViolation(data, infixExpression);
                        }
                    }
                }
            }
        }
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第2轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: The null check is broken since it will throw a NullPointerException itself. It is likely that you used || instead of && or vice versa.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// should be &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null || !list.equals(buz)) {
            return list;
        }
    }
}
```
2. This is a positive test case
```java
// Ok, is &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null && !list.equals(buz)) {
            return list;
        }
    }
}
```
3. This is a negative test case
```java
// should be &&, but now with a longer expression
class Books {
    String getJane() { return null; }
    void bar(Books books) {
        if (books.getJane()!= null || !books.getJane().equals("")) { }
    }
}
```
4. This is a negative test case
```java
// should be ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null && list.equals(buz)) {
            return list;
        }
    }
}
```
5. This is a positive test case
```java
// Ok, is ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null || list.equals(buz)) {
            return list;
        }
    }
}
```
6. This is a positive test case
```java
// Arrays are Ok
public class Foo {
    String[] books;
    void bar(int index) {
        if (index >= 0 && books[index] == null) { }
    }
}
```
7. This is a positive test case
```java
// Different method is Ok
public class Book {
    Book[] books;
    String getJane() { return null; }
    String getEyre() { return null; }
    void bar(int i) {
        if (books[i].getJane() == null &&
            books[i].getEyre() == null) { }
    }
}
```
8. This is a positive test case
```java
// Using a shorter expression with the same variable in the second check should not crash the test
public class Book {
    Book[] books;
    String getJane() { return null; }
    void bar(String eyre) {
        if (books.getJane() == null &&
            books == eyre) { }
    }
}
```
9. This is a negative test case
```java
// 1633683, should be ||, but now with another compare
public class Foo {
    void bar(String str) {
        if (str == null && str.length() == 0) { }
    }
}
```
10. This is a positive test case
```java
// 1633683, Arrays are Ok II
public class Foo {
    void bar(String[] p) {
        if (p.length > 1 && p[0] == null) { }
    }
}
```
11. This is a positive test case
```java
// Different literals in variables should not match
public class Foo {
    String getJane() { return null; }
    void bar(Foo[] p) {
        if (p[0] == null && p[1].getJane()) { }
    }
}
```
12. This is a positive test case
```java
// Assignments in checks are OK
public class Book {
    Book[] books;
    Book[] getBook(int i) {return books;}
    void bar(int janeEyre) {
        if (books == null &&
            (books = getBook(janeEyre)) == null) { }
    }
}
```
13. This is a positive test case
```java
// Useless code, but it will not throw a NullPointerException
public class Family {
    String plain, bold;
    void bar(Family family) {
        if (family.plain == null && family.bold == null &&
           family.plain == null && family.bold == null) { }
    }
}
```
14. This is a positive test case
```java
// Similar method calls with different arguments are OK
import my.Jane;
import my.Eyre;
public class Library {
    String[] getBook(Class<?> i) {return null;}
    void bar(Library library) {
        if (library.getBooks(Jane.class) != null ||
            library.getBooks(Eyre.class) != null) { }
    }
}
```
15. This is a positive test case
```java
// #3071 BrokenNullCheck FP
class Test{
                Object obj = new Object(), objectWithDifferentName = obj;

                public void testPMD(){
                    Object obj = new Object();
                    String str = "str";

                    //Case 1. : An Alarm is generated
                    if(obj == null && !(obj instanceof String));

                    //Case 3.
                    if(obj == null && this.obj == null); //An Alarm is generated
                    if(obj == null && this.objectWithDifferentName); //An Alarm isn't generated
                    if(obj == null && objectWithDifferentName); //An Alarm isn't generated
                }
            }
```
16. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;
                    result = boo == null && boo != true;  // boo != true would throw NPE because of unboxing
                    result = boo == null && boo != false; // same
                    result = boo == null && boo == true;  // same
                    result = boo == null && boo == false; // same
                }
            }
```
17. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null && boo != true;  // ok
                    result = boo != null && boo != false; // ok
                    result = boo != null && boo == true;  // ok
                    result = boo != null && boo == false; // ok

                }
            }
```
18. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null || boo != true;  // ok
                    result = boo == null || boo != false; // ok
                    result = boo == null || boo == true;  // ok
                    result = boo == null || boo == false; // ok

                }
            }
```
19. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null || boo != true;  // second expression will throw
                    result = boo != null || boo != false; // second expression will throw
                    result = boo != null || boo == true;  // second expression will throw
                    result = boo != null || boo == false; // second expression will throw

                }
            }
```
20. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null && boo;          // same
                }
            }
```
21. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){
                    Test boo = null;

                    boolean result;
                    result = boo == null && handle(boo::toString);           // method reference
                    result = boo == null && boo.toString();                  // method call
                    result = boo == null && boo.field.field.hashCode() == 0; // field access
                    result = boo == null && boo.new Inner().isEmpty();       // qualified ctor call

                }
            }
```
22. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){

                    boolean result;

                    int[] arr = null;

                    result = arr == null && arr[i] == 0;                     // array access
                }
            }
```
23. This is a positive test case
```java
// #3071 BrokenNullCheck FPs (2)
import java.util.*;

            class Test {

                Test foo = new Test(), another = new Test();
                Map<String, String> map;
                String field;
                int idx;
                String[] arr, anotherArr;

                Object foo(Object o) {}

                public void testPMD() {
                    //Case 1.
                    if ((foo == null) != (another == null) || foo != null && !foo.equals(another)) {
                        ;
                    }

                    //Case 2.
                    if (map.remove(null) != null || map.remove("") != null) {
                        ;
                    }
                    if (foo(foo) != null || foo(foo.field) != null) {
                        ;
                    }

                    //Case 3.
                    if (foo != null || foo == null && another != null && another.hashCode() == 0) {
                        ;
                    }

                    //Case 4.
                    if (null != arr[idx] || null == arr[idx] && !anotherArr[idx].isEmpty()) {
                        ;
                    }
                }
            }
```
24. This is a negative test case
```java
// BrokenNullCheck with unboxing, unboxing this operand will throw a NullPointerException
class Test {
                public void testPMD(Integer i){
                    boolean result;
                    result = i == null && i == 0;
                    result = i == null && i << 1;
                    result = i == null && i + 0;
                    result = i == null && i == 0.d;
                }
            }
```
25. This is a positive test case
```java
// Comparing two boxed things does not unbox
class Test {
                public void testPMD(Integer i, Integer d){
                    boolean result;
                    result = i == null && i == d;
                    result = i == null && i != d;
                }
            }
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.errorprone;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.BinaryOp getOperator()
3. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
4. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.rule.internal.StablePathMatcher)
8. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
9. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName(), //Returns the simple name of the method.
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean equals(java.lang.Object)
12. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
13. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean equals(java.lang.Object)
14. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
15. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public boolean equals(java.lang.Object)
16. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand()
17. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand(), //Returns the left-hand-side operand.
18. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isArrayLengthFieldAccess(net.sourceforge.pmd.lang.java.ast.ASTExpression)
19. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
21. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public int compareLocation(net.sourceforge.pmd.lang.ast.Node)
22. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getOperand(), //Returns the expression nested within this expression.
23. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.symbols.JVariableSymbol), //Returns true if the expression is a null check on the given variable.
24. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean equals(java.lang.Object)
25. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTBlock getBody(), //Returns the body of this method or constructor. Returns null if this is the declaration of an abstract method.
27. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public boolean equals(java.lang.Object)
28. net.sourceforge.pmd.lang.java.ast.ASTLocalVariableDeclaration: public boolean equals(java.lang.Object)
29. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean isTrue()
30. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand(), //Returns the left-hand side, ie the expression being assigned to.
31. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public net.sourceforge.pmd.lang.java.types.JTypeMirror getTypeMirror()
32. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isNullLiteral(), //Returns true if this is the {@linkplain ASTNullLiteral null literal}.
33. net.sourceforge.pmd.lang.java.ast.ASTConditionalExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
34. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Returns true if the expr is in a null check (its parent is a null check).
35. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)
36. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
37. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public java.lang.String getName()

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the accessed variable is array type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
public boolean isVariableAccessArrayType(ASTVariableAccess var) {
    return var.getTypeMirror().isArray();
}
```
3.  //Check whether the accessed variable is a local variable
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JLocalVariableSymbol;
public boolean isVariableAccessLocalVariable(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JLocalVariableSymbol) {
        JLocalVariableSymbol localVariableSymbol = (JLocalVariableSymbol) sym;
        return true;
    }
    return false;
}
```
4.  //Check whether the accessed variable is a field
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JFieldSymbol;
public boolean isVariableAccessField(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JFieldSymbol) {
        JFieldSymbol fieldSym = (JFieldSymbol) sym;
        return true;
    }
    return false;
}
```
5.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
6.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
7.  //Get the type of argument
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallArgumentType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return expression.getTypeMirror();
}
```
8.  //Check whether the argument is x class type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentClassType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(x.class, expression.getTypeMirror());
}
```
9.  //Check whether the accessed variable is boolean type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isVariableAccessBooleanType(ASTVariableAccess var) {
    return var.getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN);
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.errorprone;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public BrokenNullCheckRule() {
        super(ASTIfStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        Node condition = node.getFirstDescendantOfType(ASTEqualityExpression.class);
        if (condition == null || condition.jjtGetNumChildren() != 2) {
            return super.visit(node, data);
        }

        Node first = condition.jjtGetChild(0);
        Node second = condition.jjtGetChild(1);

        if (first instanceof ASTNullLiteral) {
            checkNullCheck(node, second, data);
        } else if (second instanceof ASTNullLiteral) {
            checkNullCheck(node, first, data);
        }

        return super.visit(node, data);
    }

    private void checkNullCheck(ASTIfStatement ifStatement, Node variable, Object data) {
        ASTStatement statement = ifStatement.getFirstDescendantOfType(ASTStatement.class);
        if (statement == null) {
            return;
        }

        String variableName = variable.getImage();
        for (ASTName name : statement.findDescendantsOfType(ASTName.class)) {
            if (name.hasImageEqualTo(variableName)) {
                addViolation(data, ifStatement);
                break;
            }
        }
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第3轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: The null check is broken since it will throw a NullPointerException itself. It is likely that you used || instead of && or vice versa.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// should be &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null || !list.equals(buz)) {
            return list;
        }
    }
}
```
2. This is a positive test case
```java
// Ok, is &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null && !list.equals(buz)) {
            return list;
        }
    }
}
```
3. This is a negative test case
```java
// should be &&, but now with a longer expression
class Books {
    String getJane() { return null; }
    void bar(Books books) {
        if (books.getJane()!= null || !books.getJane().equals("")) { }
    }
}
```
4. This is a negative test case
```java
// should be ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null && list.equals(buz)) {
            return list;
        }
    }
}
```
5. This is a positive test case
```java
// Ok, is ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null || list.equals(buz)) {
            return list;
        }
    }
}
```
6. This is a positive test case
```java
// Arrays are Ok
public class Foo {
    String[] books;
    void bar(int index) {
        if (index >= 0 && books[index] == null) { }
    }
}
```
7. This is a positive test case
```java
// Different method is Ok
public class Book {
    Book[] books;
    String getJane() { return null; }
    String getEyre() { return null; }
    void bar(int i) {
        if (books[i].getJane() == null &&
            books[i].getEyre() == null) { }
    }
}
```
8. This is a positive test case
```java
// Using a shorter expression with the same variable in the second check should not crash the test
public class Book {
    Book[] books;
    String getJane() { return null; }
    void bar(String eyre) {
        if (books.getJane() == null &&
            books == eyre) { }
    }
}
```
9. This is a negative test case
```java
// 1633683, should be ||, but now with another compare
public class Foo {
    void bar(String str) {
        if (str == null && str.length() == 0) { }
    }
}
```
10. This is a positive test case
```java
// 1633683, Arrays are Ok II
public class Foo {
    void bar(String[] p) {
        if (p.length > 1 && p[0] == null) { }
    }
}
```
11. This is a positive test case
```java
// Different literals in variables should not match
public class Foo {
    String getJane() { return null; }
    void bar(Foo[] p) {
        if (p[0] == null && p[1].getJane()) { }
    }
}
```
12. This is a positive test case
```java
// Assignments in checks are OK
public class Book {
    Book[] books;
    Book[] getBook(int i) {return books;}
    void bar(int janeEyre) {
        if (books == null &&
            (books = getBook(janeEyre)) == null) { }
    }
}
```
13. This is a positive test case
```java
// Useless code, but it will not throw a NullPointerException
public class Family {
    String plain, bold;
    void bar(Family family) {
        if (family.plain == null && family.bold == null &&
           family.plain == null && family.bold == null) { }
    }
}
```
14. This is a positive test case
```java
// Similar method calls with different arguments are OK
import my.Jane;
import my.Eyre;
public class Library {
    String[] getBook(Class<?> i) {return null;}
    void bar(Library library) {
        if (library.getBooks(Jane.class) != null ||
            library.getBooks(Eyre.class) != null) { }
    }
}
```
15. This is a positive test case
```java
// #3071 BrokenNullCheck FP
class Test{
                Object obj = new Object(), objectWithDifferentName = obj;

                public void testPMD(){
                    Object obj = new Object();
                    String str = "str";

                    //Case 1. : An Alarm is generated
                    if(obj == null && !(obj instanceof String));

                    //Case 3.
                    if(obj == null && this.obj == null); //An Alarm is generated
                    if(obj == null && this.objectWithDifferentName); //An Alarm isn't generated
                    if(obj == null && objectWithDifferentName); //An Alarm isn't generated
                }
            }
```
16. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;
                    result = boo == null && boo != true;  // boo != true would throw NPE because of unboxing
                    result = boo == null && boo != false; // same
                    result = boo == null && boo == true;  // same
                    result = boo == null && boo == false; // same
                }
            }
```
17. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null && boo != true;  // ok
                    result = boo != null && boo != false; // ok
                    result = boo != null && boo == true;  // ok
                    result = boo != null && boo == false; // ok

                }
            }
```
18. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null || boo != true;  // ok
                    result = boo == null || boo != false; // ok
                    result = boo == null || boo == true;  // ok
                    result = boo == null || boo == false; // ok

                }
            }
```
19. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null || boo != true;  // second expression will throw
                    result = boo != null || boo != false; // second expression will throw
                    result = boo != null || boo == true;  // second expression will throw
                    result = boo != null || boo == false; // second expression will throw

                }
            }
```
20. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null && boo;          // same
                }
            }
```
21. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){
                    Test boo = null;

                    boolean result;
                    result = boo == null && handle(boo::toString);           // method reference
                    result = boo == null && boo.toString();                  // method call
                    result = boo == null && boo.field.field.hashCode() == 0; // field access
                    result = boo == null && boo.new Inner().isEmpty();       // qualified ctor call

                }
            }
```
22. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){

                    boolean result;

                    int[] arr = null;

                    result = arr == null && arr[i] == 0;                     // array access
                }
            }
```
23. This is a positive test case
```java
// #3071 BrokenNullCheck FPs (2)
import java.util.*;

            class Test {

                Test foo = new Test(), another = new Test();
                Map<String, String> map;
                String field;
                int idx;
                String[] arr, anotherArr;

                Object foo(Object o) {}

                public void testPMD() {
                    //Case 1.
                    if ((foo == null) != (another == null) || foo != null && !foo.equals(another)) {
                        ;
                    }

                    //Case 2.
                    if (map.remove(null) != null || map.remove("") != null) {
                        ;
                    }
                    if (foo(foo) != null || foo(foo.field) != null) {
                        ;
                    }

                    //Case 3.
                    if (foo != null || foo == null && another != null && another.hashCode() == 0) {
                        ;
                    }

                    //Case 4.
                    if (null != arr[idx] || null == arr[idx] && !anotherArr[idx].isEmpty()) {
                        ;
                    }
                }
            }
```
24. This is a negative test case
```java
// BrokenNullCheck with unboxing, unboxing this operand will throw a NullPointerException
class Test {
                public void testPMD(Integer i){
                    boolean result;
                    result = i == null && i == 0;
                    result = i == null && i << 1;
                    result = i == null && i + 0;
                    result = i == null && i == 0.d;
                }
            }
```
25. This is a positive test case
```java
// Comparing two boxed things does not unbox
class Test {
                public void testPMD(Integer i, Integer d){
                    boolean result;
                    result = i == null && i == d;
                    result = i == null && i != d;
                }
            }
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.errorprone;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.BinaryOp getOperator()
3. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
4. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.rule.internal.StablePathMatcher)
8. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
9. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName(), //Returns the simple name of the method.
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean equals(java.lang.Object)
12. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
13. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean equals(java.lang.Object)
14. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
15. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public boolean equals(java.lang.Object)
16. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand()
17. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand(), //Returns the left-hand-side operand.
18. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isArrayLengthFieldAccess(net.sourceforge.pmd.lang.java.ast.ASTExpression)
19. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
21. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public int compareLocation(net.sourceforge.pmd.lang.ast.Node)
22. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getOperand(), //Returns the expression nested within this expression.
23. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.symbols.JVariableSymbol), //Returns true if the expression is a null check on the given variable.
24. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean equals(java.lang.Object)
25. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTBlock getBody(), //Returns the body of this method or constructor. Returns null if this is the declaration of an abstract method.
27. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public boolean equals(java.lang.Object)
28. net.sourceforge.pmd.lang.java.ast.ASTLocalVariableDeclaration: public boolean equals(java.lang.Object)
29. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean isTrue()
30. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand(), //Returns the left-hand side, ie the expression being assigned to.
31. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public net.sourceforge.pmd.lang.java.types.JTypeMirror getTypeMirror()
32. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isNullLiteral(), //Returns true if this is the {@linkplain ASTNullLiteral null literal}.
33. net.sourceforge.pmd.lang.java.ast.ASTConditionalExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
34. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Returns true if the expr is in a null check (its parent is a null check).
35. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)
36. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
37. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public java.lang.String getName()

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the accessed variable is array type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
public boolean isVariableAccessArrayType(ASTVariableAccess var) {
    return var.getTypeMirror().isArray();
}
```
3.  //Check whether the accessed variable is a local variable
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JLocalVariableSymbol;
public boolean isVariableAccessLocalVariable(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JLocalVariableSymbol) {
        JLocalVariableSymbol localVariableSymbol = (JLocalVariableSymbol) sym;
        return true;
    }
    return false;
}
```
4.  //Check whether the accessed variable is a field
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JFieldSymbol;
public boolean isVariableAccessField(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JFieldSymbol) {
        JFieldSymbol fieldSym = (JFieldSymbol) sym;
        return true;
    }
    return false;
}
```
5.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
6.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
7.  //Get the type of argument
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallArgumentType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return expression.getTypeMirror();
}
```
8.  //Check whether the argument is x class type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentClassType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(x.class, expression.getTypeMirror());
}
```
9.  //Check whether the accessed variable is boolean type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isVariableAccessBooleanType(ASTVariableAccess var) {
    return var.getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN);
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.errorprone;

import java.util.Objects;

import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public BrokenNullCheckRule() {
        super(ASTIfStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        ASTExpression condition = node.getCondition();
        if (condition.jjtGetNumChildren() == 1 && condition.jjtGetChild(0) instanceof ASTInfixExpression) {
            ASTInfixExpression expr = (ASTInfixExpression) condition.jjtGetChild(0);
            if (expr.getOperator() == JavaTokenKind.LOGICAL_AND || expr.getOperator() == JavaTokenKind.LOGICAL_OR) {
                ASTPrimaryExpression left = (ASTPrimaryExpression) expr.jjtGetChild(0);
                ASTPrimaryExpression right = (ASTPrimaryExpression) expr.jjtGetChild(2);
                if (isNullCheck(left) && canCauseNPE(right) || isNullCheck(right) && canCauseNPE(left)) {
                    addViolation(data, node);
                }
            }
        }
        return super.visit(node, data);
    }

    private boolean isNullCheck(ASTPrimaryExpression expr) {
        if (expr.jjtGetNumChildren() != 1 || !(expr.jjtGetChild(0) instanceof ASTPrimaryPrefix)) {
            return false;
        }
        Node child = expr.jjtGetChild(0).jjtGetChild(0);
        return child instanceof ASTNullLiteral || child instanceof ASTName && "null".equals(((ASTName) child).getImage());
    }

    private boolean canCauseNPE(ASTPrimaryExpression expr) {
        if (expr.jjtGetNumChildren() != 3) {
            return false;
        }
        if (!(expr.jjtGetChild(0) instanceof ASTPrimaryPrefix) || !(expr.jjtGetChild(2) instanceof ASTPrimarySuffix)) {
            return false;
        }
        ASTPrimaryPrefix prefix = (ASTPrimaryPrefix) expr.jjtGetChild(0);
        ASTPrimarySuffix suffix = (ASTPrimarySuffix) expr.jjtGetChild(2);
        if (prefix.jjtGetNumChildren() != 1 || suffix.jjtGetNumChildren() != 1) {
            return false;
        }
        ASTName name = (ASTName) prefix.jjtGetChild(0);
        ASTArguments args = (ASTArguments) suffix.jjtGetChild(0);
        return Objects.equals(name.getImage(), "equals") && args.jjtGetNumChildren() == 1;
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第4轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: The null check is broken since it will throw a NullPointerException itself. It is likely that you used || instead of && or vice versa.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// should be &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null || !list.equals(buz)) {
            return list;
        }
    }
}
```
2. This is a positive test case
```java
// Ok, is &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null && !list.equals(buz)) {
            return list;
        }
    }
}
```
3. This is a negative test case
```java
// should be &&, but now with a longer expression
class Books {
    String getJane() { return null; }
    void bar(Books books) {
        if (books.getJane()!= null || !books.getJane().equals("")) { }
    }
}
```
4. This is a negative test case
```java
// should be ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null && list.equals(buz)) {
            return list;
        }
    }
}
```
5. This is a positive test case
```java
// Ok, is ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null || list.equals(buz)) {
            return list;
        }
    }
}
```
6. This is a positive test case
```java
// Arrays are Ok
public class Foo {
    String[] books;
    void bar(int index) {
        if (index >= 0 && books[index] == null) { }
    }
}
```
7. This is a positive test case
```java
// Different method is Ok
public class Book {
    Book[] books;
    String getJane() { return null; }
    String getEyre() { return null; }
    void bar(int i) {
        if (books[i].getJane() == null &&
            books[i].getEyre() == null) { }
    }
}
```
8. This is a positive test case
```java
// Using a shorter expression with the same variable in the second check should not crash the test
public class Book {
    Book[] books;
    String getJane() { return null; }
    void bar(String eyre) {
        if (books.getJane() == null &&
            books == eyre) { }
    }
}
```
9. This is a negative test case
```java
// 1633683, should be ||, but now with another compare
public class Foo {
    void bar(String str) {
        if (str == null && str.length() == 0) { }
    }
}
```
10. This is a positive test case
```java
// 1633683, Arrays are Ok II
public class Foo {
    void bar(String[] p) {
        if (p.length > 1 && p[0] == null) { }
    }
}
```
11. This is a positive test case
```java
// Different literals in variables should not match
public class Foo {
    String getJane() { return null; }
    void bar(Foo[] p) {
        if (p[0] == null && p[1].getJane()) { }
    }
}
```
12. This is a positive test case
```java
// Assignments in checks are OK
public class Book {
    Book[] books;
    Book[] getBook(int i) {return books;}
    void bar(int janeEyre) {
        if (books == null &&
            (books = getBook(janeEyre)) == null) { }
    }
}
```
13. This is a positive test case
```java
// Useless code, but it will not throw a NullPointerException
public class Family {
    String plain, bold;
    void bar(Family family) {
        if (family.plain == null && family.bold == null &&
           family.plain == null && family.bold == null) { }
    }
}
```
14. This is a positive test case
```java
// Similar method calls with different arguments are OK
import my.Jane;
import my.Eyre;
public class Library {
    String[] getBook(Class<?> i) {return null;}
    void bar(Library library) {
        if (library.getBooks(Jane.class) != null ||
            library.getBooks(Eyre.class) != null) { }
    }
}
```
15. This is a positive test case
```java
// #3071 BrokenNullCheck FP
class Test{
                Object obj = new Object(), objectWithDifferentName = obj;

                public void testPMD(){
                    Object obj = new Object();
                    String str = "str";

                    //Case 1. : An Alarm is generated
                    if(obj == null && !(obj instanceof String));

                    //Case 3.
                    if(obj == null && this.obj == null); //An Alarm is generated
                    if(obj == null && this.objectWithDifferentName); //An Alarm isn't generated
                    if(obj == null && objectWithDifferentName); //An Alarm isn't generated
                }
            }
```
16. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;
                    result = boo == null && boo != true;  // boo != true would throw NPE because of unboxing
                    result = boo == null && boo != false; // same
                    result = boo == null && boo == true;  // same
                    result = boo == null && boo == false; // same
                }
            }
```
17. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null && boo != true;  // ok
                    result = boo != null && boo != false; // ok
                    result = boo != null && boo == true;  // ok
                    result = boo != null && boo == false; // ok

                }
            }
```
18. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null || boo != true;  // ok
                    result = boo == null || boo != false; // ok
                    result = boo == null || boo == true;  // ok
                    result = boo == null || boo == false; // ok

                }
            }
```
19. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null || boo != true;  // second expression will throw
                    result = boo != null || boo != false; // second expression will throw
                    result = boo != null || boo == true;  // second expression will throw
                    result = boo != null || boo == false; // second expression will throw

                }
            }
```
20. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null && boo;          // same
                }
            }
```
21. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){
                    Test boo = null;

                    boolean result;
                    result = boo == null && handle(boo::toString);           // method reference
                    result = boo == null && boo.toString();                  // method call
                    result = boo == null && boo.field.field.hashCode() == 0; // field access
                    result = boo == null && boo.new Inner().isEmpty();       // qualified ctor call

                }
            }
```
22. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){

                    boolean result;

                    int[] arr = null;

                    result = arr == null && arr[i] == 0;                     // array access
                }
            }
```
23. This is a positive test case
```java
// #3071 BrokenNullCheck FPs (2)
import java.util.*;

            class Test {

                Test foo = new Test(), another = new Test();
                Map<String, String> map;
                String field;
                int idx;
                String[] arr, anotherArr;

                Object foo(Object o) {}

                public void testPMD() {
                    //Case 1.
                    if ((foo == null) != (another == null) || foo != null && !foo.equals(another)) {
                        ;
                    }

                    //Case 2.
                    if (map.remove(null) != null || map.remove("") != null) {
                        ;
                    }
                    if (foo(foo) != null || foo(foo.field) != null) {
                        ;
                    }

                    //Case 3.
                    if (foo != null || foo == null && another != null && another.hashCode() == 0) {
                        ;
                    }

                    //Case 4.
                    if (null != arr[idx] || null == arr[idx] && !anotherArr[idx].isEmpty()) {
                        ;
                    }
                }
            }
```
24. This is a negative test case
```java
// BrokenNullCheck with unboxing, unboxing this operand will throw a NullPointerException
class Test {
                public void testPMD(Integer i){
                    boolean result;
                    result = i == null && i == 0;
                    result = i == null && i << 1;
                    result = i == null && i + 0;
                    result = i == null && i == 0.d;
                }
            }
```
25. This is a positive test case
```java
// Comparing two boxed things does not unbox
class Test {
                public void testPMD(Integer i, Integer d){
                    boolean result;
                    result = i == null && i == d;
                    result = i == null && i != d;
                }
            }
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.errorprone;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.BinaryOp getOperator()
3. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
4. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.rule.internal.StablePathMatcher)
8. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
9. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName(), //Returns the simple name of the method.
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean equals(java.lang.Object)
12. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
13. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean equals(java.lang.Object)
14. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
15. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public boolean equals(java.lang.Object)
16. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand()
17. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand(), //Returns the left-hand-side operand.
18. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isArrayLengthFieldAccess(net.sourceforge.pmd.lang.java.ast.ASTExpression)
19. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
21. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public int compareLocation(net.sourceforge.pmd.lang.ast.Node)
22. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getOperand(), //Returns the expression nested within this expression.
23. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.symbols.JVariableSymbol), //Returns true if the expression is a null check on the given variable.
24. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean equals(java.lang.Object)
25. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTBlock getBody(), //Returns the body of this method or constructor. Returns null if this is the declaration of an abstract method.
27. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public boolean equals(java.lang.Object)
28. net.sourceforge.pmd.lang.java.ast.ASTLocalVariableDeclaration: public boolean equals(java.lang.Object)
29. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean isTrue()
30. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand(), //Returns the left-hand side, ie the expression being assigned to.
31. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public net.sourceforge.pmd.lang.java.types.JTypeMirror getTypeMirror()
32. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isNullLiteral(), //Returns true if this is the {@linkplain ASTNullLiteral null literal}.
33. net.sourceforge.pmd.lang.java.ast.ASTConditionalExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
34. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Returns true if the expr is in a null check (its parent is a null check).
35. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)
36. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
37. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public java.lang.String getName()

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the accessed variable is array type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
public boolean isVariableAccessArrayType(ASTVariableAccess var) {
    return var.getTypeMirror().isArray();
}
```
3.  //Check whether the accessed variable is a local variable
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JLocalVariableSymbol;
public boolean isVariableAccessLocalVariable(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JLocalVariableSymbol) {
        JLocalVariableSymbol localVariableSymbol = (JLocalVariableSymbol) sym;
        return true;
    }
    return false;
}
```
4.  //Check whether the accessed variable is a field
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JFieldSymbol;
public boolean isVariableAccessField(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JFieldSymbol) {
        JFieldSymbol fieldSym = (JFieldSymbol) sym;
        return true;
    }
    return false;
}
```
5.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
6.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
7.  //Get the type of argument
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallArgumentType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return expression.getTypeMirror();
}
```
8.  //Check whether the argument is x class type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentClassType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(x.class, expression.getTypeMirror());
}
```
9.  //Check whether the accessed variable is boolean type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isVariableAccessBooleanType(ASTVariableAccess var) {
    return var.getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN);
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.errorprone;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public BrokenNullCheckRule() {
        super(ASTIfStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        ASTExpression expression = node.getFirstDescendantOfType(ASTExpression.class);
        if (expression != null) {
            ASTInfixExpression infixExpression = expression.getFirstDescendantOfType(ASTInfixExpression.class);
            if (infixExpression != null) {
                boolean isNullCheck = infixExpression.getOperator().isRelational() && 
                                      ("null".equals(infixExpression.getLeftOperand().getImage()) || "null".equals(infixExpression.getRightOperand().getImage()));
                if (isNullCheck) {
                    boolean isBrokenNullCheck = false;
                    if (infixExpression.getOperator().isLogical()) {
                        Node parent = infixExpression.jjtGetParent();
                        if (parent instanceof ASTExpression) {
                            ASTInfixExpression parentInfixExpression = ((ASTExpression) parent).getFirstDescendantOfType(ASTInfixExpression.class);
                            if (parentInfixExpression != null && parentInfixExpression.getOperator().isLogical()) {
                                isBrokenNullCheck = true;
                            }
                        }
                    }
                    if (isBrokenNullCheck) {
                        addViolation(data, node);
                    }
                }
            }
        }
        return super.visit(node, data);
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
==========================第5轮生成checker========================
开始写checker
==========================The_first_checker_query=========================
You are an expert in writing java rule checkers and I need your help to generate a custom java rule checker in PMD tool version 7.0.0. 
I will give you a rule description and its several test cases.

The following is the description of the rule:
Rule description: The null check is broken since it will throw a NullPointerException itself. It is likely that you used || instead of && or vice versa.;

The following are the test cases of the rule:
1. This is a negative test case
```java
// should be &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null || !list.equals(buz)) {
            return list;
        }
    }
}
```
2. This is a positive test case
```java
// Ok, is &&
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list != null && !list.equals(buz)) {
            return list;
        }
    }
}
```
3. This is a negative test case
```java
// should be &&, but now with a longer expression
class Books {
    String getJane() { return null; }
    void bar(Books books) {
        if (books.getJane()!= null || !books.getJane().equals("")) { }
    }
}
```
4. This is a negative test case
```java
// should be ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null && list.equals(buz)) {
            return list;
        }
    }
}
```
5. This is a positive test case
```java
// Ok, is ||
public class Foo {
    Object buz;
    Object bar(Object list) {
        if (list == null || list.equals(buz)) {
            return list;
        }
    }
}
```
6. This is a positive test case
```java
// Arrays are Ok
public class Foo {
    String[] books;
    void bar(int index) {
        if (index >= 0 && books[index] == null) { }
    }
}
```
7. This is a positive test case
```java
// Different method is Ok
public class Book {
    Book[] books;
    String getJane() { return null; }
    String getEyre() { return null; }
    void bar(int i) {
        if (books[i].getJane() == null &&
            books[i].getEyre() == null) { }
    }
}
```
8. This is a positive test case
```java
// Using a shorter expression with the same variable in the second check should not crash the test
public class Book {
    Book[] books;
    String getJane() { return null; }
    void bar(String eyre) {
        if (books.getJane() == null &&
            books == eyre) { }
    }
}
```
9. This is a negative test case
```java
// 1633683, should be ||, but now with another compare
public class Foo {
    void bar(String str) {
        if (str == null && str.length() == 0) { }
    }
}
```
10. This is a positive test case
```java
// 1633683, Arrays are Ok II
public class Foo {
    void bar(String[] p) {
        if (p.length > 1 && p[0] == null) { }
    }
}
```
11. This is a positive test case
```java
// Different literals in variables should not match
public class Foo {
    String getJane() { return null; }
    void bar(Foo[] p) {
        if (p[0] == null && p[1].getJane()) { }
    }
}
```
12. This is a positive test case
```java
// Assignments in checks are OK
public class Book {
    Book[] books;
    Book[] getBook(int i) {return books;}
    void bar(int janeEyre) {
        if (books == null &&
            (books = getBook(janeEyre)) == null) { }
    }
}
```
13. This is a positive test case
```java
// Useless code, but it will not throw a NullPointerException
public class Family {
    String plain, bold;
    void bar(Family family) {
        if (family.plain == null && family.bold == null &&
           family.plain == null && family.bold == null) { }
    }
}
```
14. This is a positive test case
```java
// Similar method calls with different arguments are OK
import my.Jane;
import my.Eyre;
public class Library {
    String[] getBook(Class<?> i) {return null;}
    void bar(Library library) {
        if (library.getBooks(Jane.class) != null ||
            library.getBooks(Eyre.class) != null) { }
    }
}
```
15. This is a positive test case
```java
// #3071 BrokenNullCheck FP
class Test{
                Object obj = new Object(), objectWithDifferentName = obj;

                public void testPMD(){
                    Object obj = new Object();
                    String str = "str";

                    //Case 1. : An Alarm is generated
                    if(obj == null && !(obj instanceof String));

                    //Case 3.
                    if(obj == null && this.obj == null); //An Alarm is generated
                    if(obj == null && this.objectWithDifferentName); //An Alarm isn't generated
                    if(obj == null && objectWithDifferentName); //An Alarm isn't generated
                }
            }
```
16. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;
                    result = boo == null && boo != true;  // boo != true would throw NPE because of unboxing
                    result = boo == null && boo != false; // same
                    result = boo == null && boo == true;  // same
                    result = boo == null && boo == false; // same
                }
            }
```
17. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null && boo != true;  // ok
                    result = boo != null && boo != false; // ok
                    result = boo != null && boo == true;  // ok
                    result = boo != null && boo == false; // ok

                }
            }
```
18. This is a positive test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null || boo != true;  // ok
                    result = boo == null || boo != false; // ok
                    result = boo == null || boo == true;  // ok
                    result = boo == null || boo == false; // ok

                }
            }
```
19. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo != null || boo != true;  // second expression will throw
                    result = boo != null || boo != false; // second expression will throw
                    result = boo != null || boo == true;  // second expression will throw
                    result = boo != null || boo == false; // second expression will throw

                }
            }
```
20. This is a negative test case
```java
// BrokenNullCheck with Boolean variable
class Test{
                public void testPMD(){
                    Boolean boo = null;

                    boolean result;

                    result = boo == null && boo;          // same
                }
            }
```
21. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){
                    Test boo = null;

                    boolean result;
                    result = boo == null && handle(boo::toString);           // method reference
                    result = boo == null && boo.toString();                  // method call
                    result = boo == null && boo.field.field.hashCode() == 0; // field access
                    result = boo == null && boo.new Inner().isEmpty();       // qualified ctor call

                }
            }
```
22. This is a negative test case
```java
// BrokenNullCheck with other kinds of NPEs (see QualifiableExpression)
class Test {
                interface FunctionalItf { String describe(); }
                boolean handle(FunctionalItf obj) {}
                Test field;
                class Inner {boolean isEmpty();}
                public void testPMD(){

                    boolean result;

                    int[] arr = null;

                    result = arr == null && arr[i] == 0;                     // array access
                }
            }
```
23. This is a positive test case
```java
// #3071 BrokenNullCheck FPs (2)
import java.util.*;

            class Test {

                Test foo = new Test(), another = new Test();
                Map<String, String> map;
                String field;
                int idx;
                String[] arr, anotherArr;

                Object foo(Object o) {}

                public void testPMD() {
                    //Case 1.
                    if ((foo == null) != (another == null) || foo != null && !foo.equals(another)) {
                        ;
                    }

                    //Case 2.
                    if (map.remove(null) != null || map.remove("") != null) {
                        ;
                    }
                    if (foo(foo) != null || foo(foo.field) != null) {
                        ;
                    }

                    //Case 3.
                    if (foo != null || foo == null && another != null && another.hashCode() == 0) {
                        ;
                    }

                    //Case 4.
                    if (null != arr[idx] || null == arr[idx] && !anotherArr[idx].isEmpty()) {
                        ;
                    }
                }
            }
```
24. This is a negative test case
```java
// BrokenNullCheck with unboxing, unboxing this operand will throw a NullPointerException
class Test {
                public void testPMD(Integer i){
                    boolean result;
                    result = i == null && i == 0;
                    result = i == null && i << 1;
                    result = i == null && i + 0;
                    result = i == null && i == 0.d;
                }
            }
```
25. This is a positive test case
```java
// Comparing two boxed things does not unbox
class Test {
                public void testPMD(Integer i, Integer d){
                    boolean result;
                    result = i == null && i == d;
                    result = i == null && i != d;
                }
            }
```


The checker code framework(you must conform to):
```java
package net.sourceforge.pmd.lang.java.rule.errorprone;
import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.*;
import net.sourceforge.pmd.lang.java.types.*;
import net.sourceforge.pmd.lang.java.symbols.*;
import net.sourceforge.pmd.lang.java.ast.JavaNode;
import net.sourceforge.pmd.lang.ast.NodeStream;
import java.util.*;
import java.lang.*;

public class BrokenNullCheckRule extends AbstractJavaRulechainRule {
    public rule_name() {
        super(node1_Of_AST_to_visit.class, node2_Of_AST_to_visit.class, ...);
    }
    @Override
    public Object visit(node1_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    @Override
    public Object visit(node2_Of_AST_to_visit node, Object data) {
        return super.visit(node, data);
    }
    ...
}
```
Some useful packages are already imported, if you need other packages, please import additionally.
Please give me the complete checker code including the import info, do not contain pseudocode, and do not give it step by step. No comment needed.

Below are some APIs and code snippets consisting of existing APIs, they implement specific functionality, you can selectively use them directly without changing it if you need:
1. net.sourceforge.pmd.lang.java.ast.ASTIfStatement: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
2. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.BinaryOp getOperator()
3. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand()
4. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
5. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean equals(java.lang.Object)
6. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTExpression getQualifier()
7. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.rule.internal.StablePathMatcher)
8. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public java.lang.String getMethodName()
9. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
10. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName(), //Returns the simple name of the method.
11. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public boolean equals(java.lang.Object)
12. net.sourceforge.pmd.lang.java.ast.ASTNumericLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
13. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean equals(java.lang.Object)
14. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
15. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public boolean equals(java.lang.Object)
16. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand()
17. net.sourceforge.pmd.lang.java.ast.ASTInfixExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getLeftOperand(), //Returns the left-hand-side operand.
18. net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils: static public boolean isArrayLengthFieldAccess(net.sourceforge.pmd.lang.java.ast.ASTExpression)
19. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getRightOperand()
20. net.sourceforge.pmd.lang.java.ast.ASTMethodCall: public net.sourceforge.pmd.lang.java.ast.ASTArgumentList getArguments()
21. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public int compareLocation(net.sourceforge.pmd.lang.ast.Node)
22. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getOperand(), //Returns the expression nested within this expression.
23. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullCheck(net.sourceforge.pmd.lang.java.ast.ASTExpression, net.sourceforge.pmd.lang.java.symbols.JVariableSymbol), //Returns true if the expression is a null check on the given variable.
24. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean equals(java.lang.Object)
25. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public java.lang.String getName()
26. net.sourceforge.pmd.lang.java.ast.ASTMethodDeclaration: public net.sourceforge.pmd.lang.java.ast.ASTBlock getBody(), //Returns the body of this method or constructor. Returns null if this is the declaration of an abstract method.
27. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public boolean equals(java.lang.Object)
28. net.sourceforge.pmd.lang.java.ast.ASTLocalVariableDeclaration: public boolean equals(java.lang.Object)
29. net.sourceforge.pmd.lang.java.ast.ASTBooleanLiteral: public boolean isTrue()
30. net.sourceforge.pmd.lang.java.ast.ASTAssignmentExpression: public net.sourceforge.pmd.lang.java.ast.ASTAssignableExpr getLeftOperand(), //Returns the left-hand side, ie the expression being assigned to.
31. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public net.sourceforge.pmd.lang.java.types.JTypeMirror getTypeMirror()
32. net.sourceforge.pmd.lang.java.ast.ASTNullLiteral: public boolean isNullLiteral(), //Returns true if this is the {@linkplain ASTNullLiteral null literal}.
33. net.sourceforge.pmd.lang.java.ast.ASTConditionalExpression: public net.sourceforge.pmd.lang.java.ast.ASTExpression getCondition()
34. net.sourceforge.pmd.lang.java.rule.internal.JavaRuleUtil: static public boolean isNullChecked(net.sourceforge.pmd.lang.java.ast.ASTExpression), //Returns true if the expr is in a null check (its parent is a null check).
35. net.sourceforge.pmd.lang.java.ast.ASTExpressionStatement: public boolean equals(java.lang.Object)
36. net.sourceforge.pmd.lang.java.ast.ASTUnaryExpression: public boolean isExpression(), //Always returns true. This is to allow XPath queries to query like {@code /[@Expression=true()]} to match any expression, but is useless in Java code.
37. net.sourceforge.pmd.lang.java.ast.ASTVariableAccess: public java.lang.String getName()

1.  //Check whether the operator in infix expression is ''
```java
import net.sourceforge.pmd.lang.java.ast.*;
import net.sourceforge.pmd.lang.java.ast.internal.JavaAstUtils;
public boolean isInfixExpressionWithOperator(ASTInfixExpression node, BinaryOp op){
    //enum BinaryOp{CONDITIONAL_OR("||"), CONDITIONAL_AND("&&"), OR("|"), XOR("^"), AND("&"), EQ("=="), NE("!="), LE("<="), GE(">="), GT(">"), LT("<"), INSTANCEOF("instanceof"), LEFT_SHIFT("<<"), RIGHT_SHIFT(">>"), UNSIGNED_RIGHT_SHIFT(">>>"), ADD("+"), SUB("-"), MUL("*"), DIV("/"), MOD("%")}
    return JavaAstUtils.isInfixExprWithOperator(node, op);
}
```
2.  //Check whether the accessed variable is array type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
public boolean isVariableAccessArrayType(ASTVariableAccess var) {
    return var.getTypeMirror().isArray();
}
```
3.  //Check whether the accessed variable is a local variable
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JLocalVariableSymbol;
public boolean isVariableAccessLocalVariable(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JLocalVariableSymbol) {
        JLocalVariableSymbol localVariableSymbol = (JLocalVariableSymbol) sym;
        return true;
    }
    return false;
}
```
4.  //Check whether the accessed variable is a field
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.symbols.JVariableSymbol;
import net.sourceforge.pmd.lang.java.symbols.JFieldSymbol;
public boolean isVariableAccessField(ASTVariableAccess node) {
    JVariableSymbol sym = node.getReferencedSym();
    if (sym instanceof JFieldSymbol) {
        JFieldSymbol fieldSym = (JFieldSymbol) sym;
        return true;
    }
    return false;
}
```
5.  //Get the return type of called method
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getReturnType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return m.getReturnType();
}
```
6.  //Check whether the return type of called method is string
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.types.JMethodSig;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isReturnStringType(ASTMethodCall call) {
    JMethodSig m = call.getMethodType();
    return TypeTestUtil.isA(String.class, m.getReturnType());
}
```
7.  //Get the type of argument
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.JTypeMirror;
public JTypeMirror getMethodCallArgumentType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return expression.getTypeMirror();
}
```
8.  //Check whether the argument is x class type
```java
import net.sourceforge.pmd.lang.java.ast.ASTMethodCall;
import net.sourceforge.pmd.lang.java.ast.ASTArgumentList;
import net.sourceforge.pmd.lang.java.ast.ASTExpression;
import net.sourceforge.pmd.lang.java.types.TypeTestUtil;
public boolean isMethodCallArgumentClassType(ASTMethodCall node) {
    ASTArgumentList astArgumentList = node.getArguments();
    //select which argument to judge
    ASTExpression expression = astArgumentList.get(0);
    return TypeTestUtil.isA(x.class, expression.getTypeMirror());
}
```
9.  //Check whether the accessed variable is boolean type
```java
import net.sourceforge.pmd.lang.java.ast.ASTVariableAccess;
import net.sourceforge.pmd.lang.java.types.JPrimitiveType;
public boolean isVariableAccessBooleanType(ASTVariableAccess var) {
    return var.getTypeMirror().isPrimitive(JPrimitiveType.PrimitiveTypeKind.BOOLEAN);
}
```


Below are some edge-related APIs to help traverse abstract syntax tree, if you need, you can use them:
1. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children()
2. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> children(java.lang.Class)
3. public N getChild(int i)
4. public N getFirstChild()
5. public N getLastChild()
6. public N firstChild(java.lang.Class)
7. public int getNumChildren()
8. public int getIndexInParent()
9. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants()
10. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendants(java.lang.Class)
11. public net.sourceforge.pmd.lang.ast.NodeStream.DescendantNodeStream<JavaNode> descendantsOrSelf()
12. public N getParent()
13. public N getNthParent(int i)
14. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors()
15. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestors(java.lang.Class)
16. public net.sourceforge.pmd.lang.ast.NodeStream<JavaNode> ancestorsOrSelf()
17. public N getPreviousSibling()
18. public N getNextSibling()

Please do not use the following API:


==========5轮中每一轮为第一个测试用例生成的checker===============
package net.sourceforge.pmd.lang.java.rule.errorprone;


import net.sourceforge.pmd.lang.java.rule.AbstractJavaRulechainRule;
import net.sourceforge.pmd.lang.java.ast. *;
import net.sourceforge.pmd.lang.java.ast.internal. *;
import net.sourceforge.pmd.lang.java.types. *;
import net.sourceforge.pmd.lang.java.symbols. *;
import net.sourceforge.pmd.lang.ast.NodeStream;
public class BrokenNullCheckRule extends AbstractJavaRulechainRule {

    public BrokenNullCheckRule() {
        super(ASTIfStatement.class);
    }

    @Override
    public Object visit(ASTIfStatement node, Object data) {
        ASTExpression expr = node.getCondition();
        if (expr.jjtGetNumChildren() != 1 || !(expr.jjtGetChild(0) instanceof ASTInfixExpression)) {
            return super.visit(node, data);
        }
        ASTInfixExpression infix = (ASTInfixExpression) expr.jjtGetChild(0);
        if (infix.getOperator() != ASTInfixExpression.BinaryOp.OR &&
            infix.getOperator() != ASTInfixExpression.BinaryOp.AND) {
            return super.visit(node, data);
        }
        Node left = infix.jjtGetChild(0);
        Node right = infix.jjtGetChild(1);
        if (JavaRuleUtil.isNullCheck(left) && JavaRuleUtil.isNullChecked(right)) {
            addViolation(data, infix);
            return data;
        }
        if (JavaRuleUtil.isNullCheck(right) && JavaRuleUtil.isNullChecked(left)) {
            addViolation(data, infix);
        }
        return super.visit(node, data);
    }
}
第一个测试用例生成的checker开始编译
一开始编译是否通过：
False
编译错误不在预期范围内，重新生成
5轮生成失败
结束

规则执行完毕，时间总花销： 1267.166132926941 秒
